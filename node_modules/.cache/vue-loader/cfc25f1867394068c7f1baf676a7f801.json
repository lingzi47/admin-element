{"remainingRequest":"C:\\Users\\Administrator\\Desktop\\后台\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Administrator\\Desktop\\后台\\src\\views\\login\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\Administrator\\Desktop\\后台\\src\\views\\login\\index.vue","mtime":1651199069009},{"path":"C:\\Users\\Administrator\\Desktop\\后台\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\Administrator\\Desktop\\后台\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Administrator\\Desktop\\后台\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBJZGVudGlmeUNvZGUgZnJvbSAiLi9jb21wb25lbnRzL2lkZW50aWZ5LnZ1ZSI7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiTG9naW4iLAogIGNvbXBvbmVudHM6IHsKICAgIElkZW50aWZ5Q29kZSwKICB9LAogIGRhdGEoKSB7CiAgICB2YXIgdmFsaWRhdGVQYXNzd29yZCA9IChydWxlLCB2YWx1ZSwgY2FsbGJhY2spID0+IHsKICAgICAgaWYgKHZhbHVlID09ICIiICYmIHRoaXMudHlwZSA9PSAiMSIpIGNhbGxiYWNrKG5ldyBFcnJvcigi6K+36L6T5YWl5a+G56CBIikpOwogICAgICBlbHNlIGNhbGxiYWNrKCk7CiAgICB9OwogICAgdmFyIHZhbGlkYXRlSWRlbnRpZnlDb2RlID0gKHJ1bGUsIHZhbHVlLCBjYWxsYmFjaykgPT4gewogICAgICBpZiAodmFsdWUgPT0gIiIpIGNhbGxiYWNrKG5ldyBFcnJvcigi6K+36L6T5YWl6aqM6K+B56CBIikpOwogICAgICBlbHNlIGlmICh2YWx1ZS5sZW5ndGggIT0gNCkgY2FsbGJhY2sobmV3IEVycm9yKCLor7fovpPlhaU05L2N5pyJ5pWI55qE6aqM6K+B56CBIikpOwogICAgICBlbHNlIGlmICh2YWx1ZS50b1VwcGVyQ2FzZSgpICE9IHRoaXMuaWRlbkNvZGUudG9VcHBlckNhc2UoKSkKICAgICAgICBjYWxsYmFjayhuZXcgRXJyb3IoIumqjOivgeeggeS4jeato+ehriIpKTsKICAgICAgZWxzZSBjYWxsYmFjaygpOwogICAgfTsKICAgIHZhciB2YWxpZGF0ZVNtc0NvZGUgPSAocnVsZSwgdmFsdWUsIGNhbGxiYWNrKSA9PiB7CiAgICAgIGlmICh0aGlzLnR5cGUgPT0gIjIiKSB7CiAgICAgICAgaWYgKHZhbHVlID09ICIiKSBjYWxsYmFjayhuZXcgRXJyb3IoIuivt+i+k+WFpeefreS/oemqjOivgeeggSIpKTsKICAgICAgICBlbHNlIGlmICghL15cZHs0fSQvLnRlc3QodmFsdWUpKQogICAgICAgICAgY2FsbGJhY2sobmV3IEVycm9yKCLor7fovpPlhaU05L2N5pyJ5pWI55qE55+t5L+h6aqM6K+B56CBIikpOwogICAgICAgIGVsc2UgY2FsbGJhY2soKTsKICAgICAgfSBlbHNlIGNhbGxiYWNrKCk7CiAgICB9OwogICAgcmV0dXJuIHsKICAgICAgZGlhbG9nVmlzaWJsZTogZmFsc2UsCiAgICAgIHR5cGU6ICIxIiwgLy/nmbvlvZXmlrnlvI/vvIwxOuWvhueggeeZu+W9le+8jDI655+t5L+h55m75b2VCiAgICAgIGZvcm06IHsKICAgICAgICB1c2VybmFtZTogImFkbWluIiwgLy/nlKjmiLflkI0KICAgICAgICBwYXNzd29yZDogIjEyMzQ1NiIsIC8v5a+G56CBCiAgICAgICAgc21zQ29kZTogIiIsIC8v55+t5L+h6aqM6K+B56CBCiAgICAgICAgaWRlbnRpZnlDb2RlOiAiIiwgLy/lm77lvaLpqozor4HnoIEKICAgICAgfSwKICAgICAgbG9hZGluZzogZmFsc2UsIC8v55m75b2V5Yqg6L295LitCiAgICAgIHNhdmVQd2Q6IGZhbHNlLCAvL+aYr+WQpuiusOS9j+WvhueggQogICAgICBpZGVuQ29kZTogIiIsIC8v5Zu+5b2i6aqM6K+B56CBCiAgICAgIGNvdW50ZG93bjogIuiOt+WPlumqjOivgeeggSIsCiAgICAgIHNtc1RpbWVzOiBudWxsLAogICAgICBydWxlczogewogICAgICAgIHVzZXJuYW1lOiBbCiAgICAgICAgICB7CiAgICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICAgICAgICBtZXNzYWdlOiAi6K+36L6T5YWl55So5oi35ZCNIiwKICAgICAgICAgICAgdHJpZ2dlcjogImJsdXIiLAogICAgICAgICAgfSwKICAgICAgICBdLAogICAgICAgIHBhc3N3b3JkOiBbCiAgICAgICAgICB7CiAgICAgICAgICAgIHZhbGlkYXRvcjogdmFsaWRhdGVQYXNzd29yZCwKICAgICAgICAgICAgdHJpZ2dlcjogImJsdXIiLAogICAgICAgICAgfSwKICAgICAgICBdLAogICAgICAgIGlkZW50aWZ5Q29kZTogWwogICAgICAgICAgewogICAgICAgICAgICB2YWxpZGF0b3I6IHZhbGlkYXRlSWRlbnRpZnlDb2RlLAogICAgICAgICAgICB0cmlnZ2VyOiAiYmx1ciIsCiAgICAgICAgICB9LAogICAgICAgIF0sCiAgICAgICAgc21zQ29kZTogWwogICAgICAgICAgewogICAgICAgICAgICB2YWxpZGF0b3I6IHZhbGlkYXRlU21zQ29kZSwKICAgICAgICAgICAgdHJpZ2dlcjogImJsdXIiLAogICAgICAgICAgfSwKICAgICAgICBdLAogICAgICB9LAogICAgfTsKICB9LAogIGNyZWF0ZWQoKSB7fSwKICBtb3VudGVkKCkgewogICAgdGhpcy5nZXRDb29raWUoKTsKICB9LAogIHdhdGNoOiB7CiAgICBpZGVuQ29kZSgpIHsKICAgICAgdGhpcy5mb3JtLmlkZW50aWZ5Q29kZSA9IHRoaXMuaWRlbkNvZGU7CiAgICB9LAogICAgdHlwZSh2YWwpIHsKICAgICAgY2xlYXJJbnRlcnZhbCh0aGlzLnNtc1RpbWVzKTsKICAgICAgdGhpcy5jb3VudGRvd24gPSAi6I635Y+W6aqM6K+B56CBIjsKICAgICAgaWYgKHZhbCA9PSAiMSIpIHRoaXMuZm9ybS5zbXNDb2RlID0gIiI7CiAgICAgIGVsc2UgaWYgKHZhbCA9PSAiMiIpIHRoaXMuZm9ybS5wYXNzd29yZCA9ICIiOwogICAgICB0aGlzLmZvcm0uaWRlbnRpZnlDb2RlID0gIiI7CiAgICAgIHRoaXMuJHJlZnMuaWRlbkNvZGUuY2hhbmdlQ29kZSgpOwogICAgICB0aGlzLiRyZWZzWyJsb2dpbkZvcm0iXS5jbGVhclZhbGlkYXRlKCk7CiAgICB9LAogIH0sCiAgbWV0aG9kczogewogICAgaGFuZGxlVHJ5KCkgewogICAgICB0aGlzLmRpYWxvZ1Zpc2libGUgPSB0cnVlOwogICAgfSwKICAgIGRpYWxvZ0NvbmZpcm0oKSB7CiAgICAgIHRoaXMuZGlhbG9nVmlzaWJsZSA9IGZhbHNlOwogICAgICBzZXRTdXBwb3J0KHRydWUpOwogICAgfSwKICAgIGRpYWxvZ0NhbmNlbCgpIHsKICAgICAgdGhpcy5kaWFsb2dWaXNpYmxlID0gZmFsc2U7CiAgICAgIHNldFN1cHBvcnQoZmFsc2UpOwogICAgfSwKICAgIGNoYW5nZVVzZXJuYW1lKCkgewogICAgICBpZiAodGhpcy5mb3JtLnVzZXJuYW1lID09ICJhZG1pbiIpIHRoaXMuZm9ybS51c2VybmFtZSA9ICJ0ZXN0IjsKICAgICAgZWxzZSBpZiAodGhpcy5mb3JtLnVzZXJuYW1lID09ICJ0ZXN0IikgdGhpcy5mb3JtLnVzZXJuYW1lID0gInRvdXJpc3QiOwogICAgICBlbHNlIGlmICh0aGlzLmZvcm0udXNlcm5hbWUgPT0gInRvdXJpc3QiKSB0aGlzLmZvcm0udXNlcm5hbWUgPSAiYWRtaW4iOwogICAgfSwKICAgIHRhcFNtc0NvZGUoKSB7CiAgICAgIC8v6I635Y+W55+t5L+h6aqM6K+B56CBCiAgICAgIGlmICh0aGlzLmZvcm0udXNlcm5hbWUgPT0gIiIpIHsKICAgICAgICB0aGlzLiRtZXNzYWdlKHsKICAgICAgICAgIG1lc3NhZ2U6ICLor7flhYjovpPlhaXnlKjmiLflkI0iLAogICAgICAgICAgdHlwZTogIndhcm5pbmciLAogICAgICAgIH0pOwogICAgICAgIHJldHVybjsKICAgICAgfQogICAgICBpZiAodGhpcy5jb3VudGRvd24gIT0gIuiOt+WPlumqjOivgeeggSIpIHJldHVybjsKICAgICAgbGV0IHNlbGYgPSB0aGlzOwogICAgICBsZXQgdCA9IDYwOwogICAgICB0aGlzLmNvdW50ZG93biA9IHQgKyAicyI7CiAgICAgIHRoaXMuc21zVGltZXMgPSBzZXRJbnRlcnZhbChmdW5jdGlvbiAoKSB7CiAgICAgICAgdC0tOwogICAgICAgIHNlbGYuY291bnRkb3duID0gdCArICJzIjsKICAgICAgICBpZiAodCA8IDApIHsKICAgICAgICAgIGNsZWFySW50ZXJ2YWwoc2VsZi5zbXNUaW1lcyk7CiAgICAgICAgICBzZWxmLmNvdW50ZG93biA9ICLojrflj5bpqozor4HnoIEiOwogICAgICAgIH0KICAgICAgfSwgMTAwMCk7CiAgICB9LAogICAgb25TdWJtaXQoKSB7CiAgICAgIHRoaXMuJHJlZnNbImxvZ2luRm9ybSJdLnZhbGlkYXRlKCh2YWxpZCkgPT4gewogICAgICAgIGlmICh2YWxpZCkgewogICAgICAgICAgdGhpcy5sb2FkaW5nID0gdHJ1ZTsKICAgICAgICAgIHRoaXMuJHN0b3JlCiAgICAgICAgICAgIC5kaXNwYXRjaCgidXNlci9sb2dpbiIsIHRoaXMuZm9ybSkKICAgICAgICAgICAgLnRoZW4oKCkgPT4gewogICAgICAgICAgICAgIC8v55m75b2V5YmN5Yik5pat5piv5ZCm5L+d5a2Y5a+G56CBCiAgICAgICAgICAgICAgLy/kvKDlhaXotKblj7flkI3vvIzlr4bnoIHvvIzlkozkv53lrZjlpKnmlbAs5piv5ZCm6YCJ5LitNOS4quWPguaVsAogICAgICAgICAgICAgIGlmICh0aGlzLnNhdmVQd2QpCiAgICAgICAgICAgICAgICB0aGlzLnNldENvb2tpZSh0aGlzLmZvcm0udXNlcm5hbWUsIHRoaXMuZm9ybS5wYXNzd29yZCwgNywgMSk7CiAgICAgICAgICAgICAgLy/kv53lrZjlr4bnoIE35aSpCiAgICAgICAgICAgICAgZWxzZSB0aGlzLmNsZWFyQ29va2llKCk7CiAgICAgICAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goewogICAgICAgICAgICAgICAgcGF0aDogIi9pbmRleCIsCiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgdGhpcy4kbWVzc2FnZSh7CiAgICAgICAgICAgICAgICBtZXNzYWdlOiAi55m75b2V5oiQ5YqfIiwKICAgICAgICAgICAgICAgIHR5cGU6ICJzdWNjZXNzIiwKICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICB0aGlzLmxvYWRpbmcgPSBmYWxzZTsKICAgICAgICAgICAgfSkKICAgICAgICAgICAgLmNhdGNoKCgpID0+IHsKICAgICAgICAgICAgICB0aGlzLmNsZWFyQ29va2llKCk7CiAgICAgICAgICAgICAgdGhpcy5sb2FkaW5nID0gZmFsc2U7CiAgICAgICAgICAgIH0pOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgICAvL+iusOS9j+Wvhuegge+8jOS/neWtmGNvb2tpZQogICAgc2V0Q29va2llKGNfbmFtZSwgY19wd2QsIGV4ZGF5cywgY2hlY2tlZCkgewogICAgICBsZXQgZXhkYXRlID0gbmV3IERhdGUoKTsgLy/ojrflj5bml7bpl7QKICAgICAgZXhkYXRlLnNldFRpbWUoZXhkYXRlLmdldFRpbWUoKSArIDI0ICogNjAgKiA2MCAqIDEwMDAgKiBleGRheXMpOyAvL+S/neWtmOeahOWkqeaVsAogICAgICAvL+Wtl+espuS4suaLvOaOpWNvb2tpZQogICAgICB3aW5kb3cuZG9jdW1lbnQuY29va2llID0KICAgICAgICAiY2hlY2tlZCIgKyAiPSIgKyBjaGVja2VkICsgIjtwYXRoPS87ZXhwaXJlcz0iICsgZXhkYXRlLnRvR01UU3RyaW5nKCk7CiAgICAgIHdpbmRvdy5kb2N1bWVudC5jb29raWUgPQogICAgICAgICJ1c2VyTmFtZSIgKyAiPSIgKyBjX25hbWUgKyAiO3BhdGg9LztleHBpcmVzPSIgKyBleGRhdGUudG9HTVRTdHJpbmcoKTsKICAgICAgd2luZG93LmRvY3VtZW50LmNvb2tpZSA9CiAgICAgICAgInVzZXJQd2QiICsgIj0iICsgY19wd2QgKyAiO3BhdGg9LztleHBpcmVzPSIgKyBleGRhdGUudG9HTVRTdHJpbmcoKTsKICAgIH0sCiAgICAvL+iOt+WPlmNvb2tpZQogICAgZ2V0Q29va2llOiBmdW5jdGlvbiAoKSB7CiAgICAgIGlmIChkb2N1bWVudC5jb29raWUubGVuZ3RoID4gMCkgewogICAgICAgIHZhciBhcnIgPSBkb2N1bWVudC5jb29raWUuc3BsaXQoIjsgIik7IC8v6L+Z6YeM5pi+56S655qE5qC85byP6ZyA6KaB5YiH5Ymy5LiA5LiL6Ieq5bex5Y+v6L6T5Ye655yL5LiLCiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcnIubGVuZ3RoOyBpKyspIHsKICAgICAgICAgIHZhciBhcnIyID0gYXJyW2ldLnNwbGl0KCI9Iik7IC8v5YaN5qyh5YiH5YmyCiAgICAgICAgICAvL+WIpOaWreafpeaJvuebuOWvueW6lOeahOWAvAogICAgICAgICAgaWYgKGFycjJbMF0gPT0gInVzZXJOYW1lIikgewogICAgICAgICAgICB0aGlzLmZvcm0udXNlcm5hbWUgPSBhcnIyWzFdOwogICAgICAgICAgfSBlbHNlIGlmIChhcnIyWzBdID09ICJ1c2VyUHdkIikgewogICAgICAgICAgICB0aGlzLmZvcm0ucGFzc3dvcmQgPSBhcnIyWzFdOwogICAgICAgICAgfSBlbHNlIGlmIChhcnIyWzBdID09ICJjaGVja2VkIikgewogICAgICAgICAgICB0aGlzLnNhdmVQd2QgPSB0cnVlOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfQogICAgfSwKICAgIC8v5riF6ZmkY29va2llCiAgICBjbGVhckNvb2tpZTogZnVuY3Rpb24gKCkgewogICAgICB0aGlzLnNldENvb2tpZSgiIiwgIiIsIC0xLCAwKTsgLy/kv67mlLky5YC86YO95Li656m677yM5aSp5pWw5Li66LSfMeWkqeWwseWlveS6hgogICAgfSwKICB9LAp9Owo="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA0IA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/views/login","sourcesContent":["<template>\n  <div class=\"login-content\">\n    <div class=\"login-area\">\n      <div class=\"login-left flex-center\">\n        <el-image :src=\"require('../../assets/img/login-bg.png')\"></el-image>\n      </div>\n      <div class=\"login-right\">\n        <h3 class=\"login-title\">用户登录</h3>\n        <el-tabs v-model=\"type\" class=\"login-con\">\n          <el-tab-pane label=\"密码登录\" name=\"1\"></el-tab-pane>\n          <!-- <el-tab-pane label=\"短信登录\" name=\"2\"></el-tab-pane> -->\n        </el-tabs>\n        <el-alert\n          style=\"padding: 2px\"\n          title=\"账号说明：\"\n          type=\"warning\"\n          :closable=\"false\"\n        >\n          <template slot=\"title\">\n            <div>1. admin 管理员，test 测试，tourist 游客</div>\n            <div>2. test001到test020账号随机角色</div>\n          </template>\n        </el-alert>\n        <el-form ref=\"loginForm\" :model=\"form\" :rules=\"rules\">\n          <el-form-item prop=\"username\">\n            <el-input\n              v-model=\"form.username\"\n              placeholder=\"请输入用户名\"\n              prefix-icon=\"el-icon-user\"\n            >\n              <el-tooltip\n                slot=\"append\"\n                class=\"item\"\n                effect=\"dark\"\n                content=\"点击切换用户名\"\n                placement=\"bottom\"\n                :hide-after=\"1500\"\n              >\n                <el-button\n                  icon=\"el-icon-refresh\"\n                  @click=\"changeUsername\"\n                ></el-button>\n              </el-tooltip>\n            </el-input>\n          </el-form-item>\n          <el-form-item prop=\"password\" v-show=\"type == '1'\">\n            <el-input\n              v-model=\"form.password\"\n              placeholder=\"请输入密码\"\n              prefix-icon=\"el-icon-lock\"\n              show-password\n            ></el-input>\n          </el-form-item>\n          <el-form-item prop=\"smsCode\" v-show=\"type == '2'\">\n            <el-input\n              v-model=\"form.smsCode\"\n              placeholder=\"请输入短信验证码\"\n              maxlength=\"4\"\n              prefix-icon=\"el-icon-chat-line-square\"\n              @keyup.enter.native=\"onSubmit()\"\n            >\n              <el-button\n                slot=\"append\"\n                class=\"code-btn\"\n                :class=\"countdown != '获取验证码' ? 'countdowning' : ''\"\n                @click=\"tapSmsCode\"\n                >{{ countdown }}</el-button\n              >\n            </el-input>\n          </el-form-item>\n          <el-form-item class=\"iden-code\" prop=\"identifyCode\">\n            <el-input\n              v-model=\"form.identifyCode\"\n              placeholder=\"请输入验证码\"\n              maxlength=\"4\"\n              prefix-icon=\"el-icon-chat-line-square\"\n              @keyup.enter.native=\"onSubmit()\"\n            >\n              <div slot=\"append\" class=\"identify-code\">\n                <identify-code\n                  ref=\"idenCode\"\n                  :changeCode.sync=\"idenCode\"\n                ></identify-code>\n              </div>\n            </el-input>\n          </el-form-item>\n          <el-form-item class=\"save-pwd\" v-show=\"type == '1'\">\n            <el-checkbox v-model=\"savePwd\">记住密码</el-checkbox>\n          </el-form-item>\n          <el-form-item>\n            <el-button\n              style=\"width: 45%\"\n              type=\"primary\"\n              :loading=\"loading\"\n              @click=\"onSubmit()\"\n            >\n              登录\n            </el-button>\n            <el-button\n              style=\"width: 45%\"\n              type=\"primary\"\n              @click.native.prevent=\"handleTry\"\n            >\n              联系开发人员\n            </el-button>\n          </el-form-item>\n        </el-form>\n      </div>\n    </div>\n    <el-dialog\n      title=\"公众号二维码\"\n      :visible.sync=\"dialogVisible\"\n      :show-close=\"false\"\n      :center=\"true\"\n      width=\"30%\"\n    >\n      <div style=\"text-align: center\">\n        <span class=\"font-title-large\"\n          ><span class=\"color-main font-extra-large\">扫描二维码</span\n          ><span class=\"color-main font-extra-large\"></span\n          >添加技术人员微信</span\n        >\n        <br />\n        <img\n          src=\"http://y6.wjw.cool/lct.jpg\"\n          width=\"220\"\n          height=\"230\"\n          style=\"margin-top: 3px\"\n        />\n      </div>\n      <span slot=\"footer\" class=\"dialog-footer\">\n        <el-button type=\"primary\" @click=\"dialogConfirm\">确定</el-button>\n      </span>\n    </el-dialog>\n  </div>\n</template>\n\n<script>\nimport IdentifyCode from \"./components/identify.vue\";\nexport default {\n  name: \"Login\",\n  components: {\n    IdentifyCode,\n  },\n  data() {\n    var validatePassword = (rule, value, callback) => {\n      if (value == \"\" && this.type == \"1\") callback(new Error(\"请输入密码\"));\n      else callback();\n    };\n    var validateIdentifyCode = (rule, value, callback) => {\n      if (value == \"\") callback(new Error(\"请输入验证码\"));\n      else if (value.length != 4) callback(new Error(\"请输入4位有效的验证码\"));\n      else if (value.toUpperCase() != this.idenCode.toUpperCase())\n        callback(new Error(\"验证码不正确\"));\n      else callback();\n    };\n    var validateSmsCode = (rule, value, callback) => {\n      if (this.type == \"2\") {\n        if (value == \"\") callback(new Error(\"请输入短信验证码\"));\n        else if (!/^\\d{4}$/.test(value))\n          callback(new Error(\"请输入4位有效的短信验证码\"));\n        else callback();\n      } else callback();\n    };\n    return {\n      dialogVisible: false,\n      type: \"1\", //登录方式，1:密码登录，2:短信登录\n      form: {\n        username: \"admin\", //用户名\n        password: \"123456\", //密码\n        smsCode: \"\", //短信验证码\n        identifyCode: \"\", //图形验证码\n      },\n      loading: false, //登录加载中\n      savePwd: false, //是否记住密码\n      idenCode: \"\", //图形验证码\n      countdown: \"获取验证码\",\n      smsTimes: null,\n      rules: {\n        username: [\n          {\n            required: true,\n            message: \"请输入用户名\",\n            trigger: \"blur\",\n          },\n        ],\n        password: [\n          {\n            validator: validatePassword,\n            trigger: \"blur\",\n          },\n        ],\n        identifyCode: [\n          {\n            validator: validateIdentifyCode,\n            trigger: \"blur\",\n          },\n        ],\n        smsCode: [\n          {\n            validator: validateSmsCode,\n            trigger: \"blur\",\n          },\n        ],\n      },\n    };\n  },\n  created() {},\n  mounted() {\n    this.getCookie();\n  },\n  watch: {\n    idenCode() {\n      this.form.identifyCode = this.idenCode;\n    },\n    type(val) {\n      clearInterval(this.smsTimes);\n      this.countdown = \"获取验证码\";\n      if (val == \"1\") this.form.smsCode = \"\";\n      else if (val == \"2\") this.form.password = \"\";\n      this.form.identifyCode = \"\";\n      this.$refs.idenCode.changeCode();\n      this.$refs[\"loginForm\"].clearValidate();\n    },\n  },\n  methods: {\n    handleTry() {\n      this.dialogVisible = true;\n    },\n    dialogConfirm() {\n      this.dialogVisible = false;\n      setSupport(true);\n    },\n    dialogCancel() {\n      this.dialogVisible = false;\n      setSupport(false);\n    },\n    changeUsername() {\n      if (this.form.username == \"admin\") this.form.username = \"test\";\n      else if (this.form.username == \"test\") this.form.username = \"tourist\";\n      else if (this.form.username == \"tourist\") this.form.username = \"admin\";\n    },\n    tapSmsCode() {\n      //获取短信验证码\n      if (this.form.username == \"\") {\n        this.$message({\n          message: \"请先输入用户名\",\n          type: \"warning\",\n        });\n        return;\n      }\n      if (this.countdown != \"获取验证码\") return;\n      let self = this;\n      let t = 60;\n      this.countdown = t + \"s\";\n      this.smsTimes = setInterval(function () {\n        t--;\n        self.countdown = t + \"s\";\n        if (t < 0) {\n          clearInterval(self.smsTimes);\n          self.countdown = \"获取验证码\";\n        }\n      }, 1000);\n    },\n    onSubmit() {\n      this.$refs[\"loginForm\"].validate((valid) => {\n        if (valid) {\n          this.loading = true;\n          this.$store\n            .dispatch(\"user/login\", this.form)\n            .then(() => {\n              //登录前判断是否保存密码\n              //传入账号名，密码，和保存天数,是否选中4个参数\n              if (this.savePwd)\n                this.setCookie(this.form.username, this.form.password, 7, 1);\n              //保存密码7天\n              else this.clearCookie();\n              this.$router.push({\n                path: \"/index\",\n              });\n              this.$message({\n                message: \"登录成功\",\n                type: \"success\",\n              });\n              this.loading = false;\n            })\n            .catch(() => {\n              this.clearCookie();\n              this.loading = false;\n            });\n        } else {\n          return false;\n        }\n      });\n    },\n    //记住密码，保存cookie\n    setCookie(c_name, c_pwd, exdays, checked) {\n      let exdate = new Date(); //获取时间\n      exdate.setTime(exdate.getTime() + 24 * 60 * 60 * 1000 * exdays); //保存的天数\n      //字符串拼接cookie\n      window.document.cookie =\n        \"checked\" + \"=\" + checked + \";path=/;expires=\" + exdate.toGMTString();\n      window.document.cookie =\n        \"userName\" + \"=\" + c_name + \";path=/;expires=\" + exdate.toGMTString();\n      window.document.cookie =\n        \"userPwd\" + \"=\" + c_pwd + \";path=/;expires=\" + exdate.toGMTString();\n    },\n    //获取cookie\n    getCookie: function () {\n      if (document.cookie.length > 0) {\n        var arr = document.cookie.split(\"; \"); //这里显示的格式需要切割一下自己可输出看下\n        for (var i = 0; i < arr.length; i++) {\n          var arr2 = arr[i].split(\"=\"); //再次切割\n          //判断查找相对应的值\n          if (arr2[0] == \"userName\") {\n            this.form.username = arr2[1];\n          } else if (arr2[0] == \"userPwd\") {\n            this.form.password = arr2[1];\n          } else if (arr2[0] == \"checked\") {\n            this.savePwd = true;\n          }\n        }\n      }\n    },\n    //清除cookie\n    clearCookie: function () {\n      this.setCookie(\"\", \"\", -1, 0); //修改2值都为空，天数为负1天就好了\n    },\n  },\n};\n</script>\n\n<style>\n.login-content {\n  width: 100%;\n  height: 100%;\n  background-color: #f7fafc;\n  position: relative;\n}\n\n.login-content .login-area {\n  width: 1000px;\n  height: 600px;\n  background-color: #fff;\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  border-radius: 10px;\n  box-shadow: 0 2px 6px 0 rgba(0, 0, 0, 0.1);\n  display: flex;\n}\n\n.login-area .login-left {\n  width: 400px;\n  height: 400px;\n  background-color: #ebf4ff;\n  padding: 100px;\n  border-radius: 10px 0 0 10px;\n}\n\n.login-area .login-right {\n  position: relative;\n  width: 300px;\n  padding: 0 50px;\n}\n\n.login-area .login-right .login-title {\n  text-align: center;\n  font-size: 36px;\n  margin-top: 80px;\n}\n\n.login-right .login-con {\n  padding: 30px 0 0;\n}\n\n.login-right .el-tabs__item {\n  font-size: 16px;\n}\n\n.login-right .el-form {\n  margin-top: 10px;\n}\n\n.login-right .el-input__inner {\n  height: 45px;\n  line-height: 45px;\n  font-size: 16px;\n}\n\n.login-right .el-input--prefix .el-input__inner {\n  padding-left: 32px;\n}\n\n.login-right .el-input__icon {\n  line-height: 45px;\n  font-size: 18px;\n}\n\n.login-right .code-btn {\n  width: 115px;\n  text-align: center;\n}\n\n.login-right .code-btn:hover {\n  color: #409eff;\n}\n\n.login-right .code-btn.countdowning {\n  color: initial;\n  cursor: no-drop;\n}\n\n.login-right .submit-btn {\n  width: 100%;\n  font-size: 18px;\n  padding: 0;\n  height: 45px;\n  line-height: 45px;\n}\n\n.login-right .el-input-group__append {\n  padding: 0;\n  width: 115px;\n  text-align: center;\n}\n\n.login-right .save-pwd {\n  text-align: right;\n}\n\n.login-right .save-pwd .el-form-item__content {\n  line-height: initial;\n}\n</style>\n"]}]}