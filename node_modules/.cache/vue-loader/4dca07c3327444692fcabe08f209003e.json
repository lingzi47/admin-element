{"remainingRequest":"C:\\Users\\Administrator\\Desktop\\预见未来后台管理系统\\后台\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Administrator\\Desktop\\预见未来后台管理系统\\后台\\src\\views\\shop\\mall\\goods\\components\\skulist.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\Administrator\\Desktop\\预见未来后台管理系统\\后台\\src\\views\\shop\\mall\\goods\\components\\skulist.vue","mtime":1653963700069},{"path":"C:\\Users\\Administrator\\Desktop\\预见未来后台管理系统\\后台\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\Administrator\\Desktop\\预见未来后台管理系统\\后台\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Administrator\\Desktop\\预见未来后台管理系统\\后台\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IGNoZWNrUGVybWlzc2lvbiB9IGZyb20gIkAvdXRpbHMvcGVybWlzc2lvbnMiOwppbXBvcnQgeyBzaG9wR29vZHMgfSBmcm9tICJAL2FwaS9zaG9wIjsKaW1wb3J0IHBhZ2VUYWJsZSBmcm9tICJAL2NvbXBvbmVudHMvcGFnZVRhYmxlLnZ1ZSI7CgpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogInNrdUluZGV4IiwKICBjb21wb25lbnRzOiB7CiAgICBwYWdlVGFibGUsCiAgfSwKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgZ29vZHNMaXN0OiBbXSwKICAgICAgZm9ybTogewogICAgICAgIHVzZXJuYW1lOiAiIiwKICAgICAgICByb2xlczogIiIsCiAgICAgIH0sCgogICAgICBwYWdlOiB7CiAgICAgICAgLy/liIbpobXkv6Hmga8KICAgICAgICBwYWdlOiAxLCAvL+W9k+WJjemhtQogICAgICAgIGxpbWl0OiAxMCwgLy/mr4/pobXmnaHmlbAKICAgICAgICB0b3RhbDogMCwgLy/mgLvmnaHmlbAKICAgICAgfSwKICAgICAgdGFibGVTZWxlY3RMaXN0OiBbXSwgLy8g5aSa6YCJ5YiX6KGoCiAgICB9OwogIH0sCiAgY3JlYXRlZCgpIHsKICAgIHRoaXMuc2hvcExpc3QoKTsKICB9LAogIG1vdW50ZWQoKSB7fSwKICBjb21wdXRlZDogewogICAgZ2V0Um9sZSgpIHsKICAgICAgcmV0dXJuIChyb2xlKSA9PiB7CiAgICAgICAgcmV0dXJuIHRoaXMucm9sZXNMaXN0LmZpbHRlcigoaXRlbSkgPT4gaXRlbS5uYW1lID09IHJvbGUpWzBdLnRpdGxlOwogICAgICB9OwogICAgfSwKICB9LAogIG1ldGhvZHM6IHsKICAgIGNoZWNrUGVybWlzc2lvbiwKICAgIC8vIOWIh+aNouWIhumhtQogICAgY2hhbmdlQ3VycmVudChwYWdlLCBzaXplKSB7CiAgICAgIHRoaXMucGFnZS5wYWdlID0gcGFnZTsKICAgICAgdGhpcy5wYWdlLmxpbWl0ID0gc2l6ZTsKICAgICAgdGhpcy5zaG9wTGlzdCgpOwogICAgfSwKCiAgICAvL+WVhuWTgeWIl+ihqAogICAgYXN5bmMgc2hvcExpc3QoKSB7CiAgICAgIGxldCByZXMgPSBhd2FpdCBzaG9wR29vZHMoT2JqZWN0LmFzc2lnbih0aGlzLnBhZ2UsIHRoaXMuZm9ybSkpOwogICAgICBpZiAocmVzLnN0YXR1cyA9PSAyMDApIHsKICAgICAgICB0aGlzLnBhZ2UudG90YWwgPSByZXMuY291bnQ7CiAgICAgICAgdGhpcy5nb29kc0xpc3QgPSByZXMuZGF0YTsKICAgICAgICB0aGlzLiRyZWZzLmRhdGFUYWJsZS5zZXRQYWdlSW5mbyh7CiAgICAgICAgICB0b3RhbDogcmVzLmNvdW50LAogICAgICAgIH0pOwogICAgICB9CiAgICB9LAoKICAgIHNob3codHlwZSwgcm93KSB7CiAgICAgIHRoaXMudHlwZSA9IHR5cGU7CiAgICAgIHRoaXMuZGlhbG9nVmlzaWJsZSA9IHRydWU7CiAgICAgIGlmICh0eXBlID09IDIpIHsKICAgICAgICBhbGVydCgyMjIpOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMucnVsZUZvcm0gPSB7CiAgICAgICAgICBpZDogIiIsCiAgICAgICAgICB1c2VybmFtZTogIiIsCiAgICAgICAgICBwYXNzd29yZDogIiIsCiAgICAgICAgICBuYW1lOiAiIiwKICAgICAgICAgIHBob25lOiAiIiwKICAgICAgICAgIGFkZHI6ICIiLAogICAgICAgICAgYmlydGg6ICIiLAogICAgICAgICAgc2V4OiAiMCIsCiAgICAgICAgICBzdGF0ZTogdHJ1ZSwKICAgICAgICAgIGVtYWlsOiAiIiwKICAgICAgICAgIHJvbGVzOiBbXSwKICAgICAgICB9OwogICAgICB9CiAgICB9LAoKICAgIGVkaXREYXRhKHR5cGUsIHJvdykgewogICAgICBpZiAoKHR5cGUgPT0gMSAmJiB0aGlzLnRhYmxlU2VsZWN0TGlzdC5sZW5ndGggPT0gMSkgfHwgdHlwZSA9PSAyKSB7CiAgICAgICAgbGV0IHJvd0RhdGEgPSB0eXBlID09IDEgPyB0aGlzLnRhYmxlU2VsZWN0TGlzdFswXSA6IHJvdzsKICAgICAgICAvLyAxOuaWsOWinu+8jDI657yW6L6RCiAgICAgICAgdGhpcy4kcmVmcy5hZGREYXRhLnNob3coMiwgSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShyb3dEYXRhKSkpOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuJG1lc3NhZ2Uud2FybmluZygi6K+36YCJ5oup5LiA5p2h5pWw5o2u57yW6L6RIik7CiAgICAgIH0KICAgIH0sCiAgICBkZWxldGVEYXRhKHR5cGUsIHJvdykgewogICAgICBpZiAoKHR5cGUgPT0gMSAmJiB0aGlzLnRhYmxlU2VsZWN0TGlzdC5sZW5ndGggPT0gMSkgfHwgdHlwZSA9PSAyKSB7CiAgICAgICAgdGhpcy4kY29uZmlybSgi5piv5ZCm5Yig6Zmk5q2k55So5oi377yfIiwgIuaPkOekuiIsIHsKICAgICAgICAgIHR5cGU6ICJ3YXJuaW5nIiwKICAgICAgICB9KQogICAgICAgICAgLnRoZW4oYXN5bmMgKCkgPT4gewogICAgICAgICAgICBsZXQgcm93RGF0YSA9IHR5cGUgPT0gMSA/IHRoaXMudGFibGVTZWxlY3RMaXN0WzBdIDogcm93OwogICAgICAgICAgICBsZXQgcmVzID0gYXdhaXQgZGVsZXRlVXNlcih7CiAgICAgICAgICAgICAgaWQ6IHJvd0RhdGEuaWQsCiAgICAgICAgICAgIH0pOwogICAgICAgICAgICBpZiAocmVzLnN0YXR1cyA9PSAyMDApIHsKICAgICAgICAgICAgICB0aGlzLmdldFVzZXJMaXN0KCk7CiAgICAgICAgICAgICAgdGhpcy4kbWVzc2FnZS5zdWNjZXNzKCLliKDpmaTmiJDlip8iKTsKICAgICAgICAgICAgfQogICAgICAgICAgfSkKICAgICAgICAgIC5jYXRjaCgoKSA9PiB7fSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy4kbWVzc2FnZS53YXJuaW5nKCLor7fpgInmi6nkuIDmnaHmlbDmja7liKDpmaQiKTsKICAgICAgfQogICAgfSwKICB9LAp9Owo="},{"version":3,"sources":["skulist.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA0DA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"skulist.vue","sourceRoot":"src/views/shop/mall/goods/components","sourcesContent":["<template>\n  <div class=\"user\">\n    <div class=\"block-quote\">\n      <el-form :inline=\"true\" :model=\"form\" ref=\"form\">\n        <el-form-item style=\"float: right\">\n          <!-- <el-button v-if=\"checkPermission('useradd')\" type=\"primary\" icon=\"el-icon-plus\"  @click=\"addData\" >新增</el-button> -->\n        </el-form-item>\n      </el-form>\n    </div>\n    <page-table\n      ref=\"dataTable\"\n      :data=\"goodsList\"\n      @changeCurrentPage=\"changeCurrent\"\n    >\n      <el-table-column\n        type=\"index\"\n        fixed\n        width=\"40\"\n        :resizable=\"false\"\n      ></el-table-column>\n      <el-table-column\n        prop=\"id\"\n        fixed\n        label=\"ID\"\n        width=\"80\"\n        :resizable=\"false\"\n      ></el-table-column>\n      <el-table-column\n        prop=\"goods_name\"\n        fixed\n        label=\"商品名称\"\n        width=\"90\"\n        :resizable=\"false\"\n      ></el-table-column>\n      <el-table-column\n        prop=\"new_price\"\n        fixed\n        label=\"价格\"\n        width=\"120\"\n        :resizable=\"false\"\n      ></el-table-column>\n      <el-table-column\n        fixed=\"right\"\n        label=\"操作\"\n        width=\"200\"\n        :resizable=\"false\"\n        v-if=\"checkPermission(['useredit', 'userdelete'])\"\n      >\n        <template slot-scope=\"scope\">\n          <!--          <el-link v-if=\"checkPermission('useredit')\"  type=\"primary\"  @click=\"editData(2, scope.row)\" >编辑</el-link >\n          <el-link v-if=\"checkPermission('userdelete')\" type=\"danger\" style=\"margin-left: 10px\" @click=\"deleteData(2, scope.row)\" >删除</el-link > -->\n        </template>\n      </el-table-column>\n    </page-table>\n  </div>\n</template>\n\n<script>\nimport { checkPermission } from \"@/utils/permissions\";\nimport { shopGoods } from \"@/api/shop\";\nimport pageTable from \"@/components/pageTable.vue\";\n\nexport default {\n  name: \"skuIndex\",\n  components: {\n    pageTable,\n  },\n  data() {\n    return {\n      goodsList: [],\n      form: {\n        username: \"\",\n        roles: \"\",\n      },\n\n      page: {\n        //分页信息\n        page: 1, //当前页\n        limit: 10, //每页条数\n        total: 0, //总条数\n      },\n      tableSelectList: [], // 多选列表\n    };\n  },\n  created() {\n    this.shopList();\n  },\n  mounted() {},\n  computed: {\n    getRole() {\n      return (role) => {\n        return this.rolesList.filter((item) => item.name == role)[0].title;\n      };\n    },\n  },\n  methods: {\n    checkPermission,\n    // 切换分页\n    changeCurrent(page, size) {\n      this.page.page = page;\n      this.page.limit = size;\n      this.shopList();\n    },\n\n    //商品列表\n    async shopList() {\n      let res = await shopGoods(Object.assign(this.page, this.form));\n      if (res.status == 200) {\n        this.page.total = res.count;\n        this.goodsList = res.data;\n        this.$refs.dataTable.setPageInfo({\n          total: res.count,\n        });\n      }\n    },\n\n    show(type, row) {\n      this.type = type;\n      this.dialogVisible = true;\n      if (type == 2) {\n        alert(222);\n      } else {\n        this.ruleForm = {\n          id: \"\",\n          username: \"\",\n          password: \"\",\n          name: \"\",\n          phone: \"\",\n          addr: \"\",\n          birth: \"\",\n          sex: \"0\",\n          state: true,\n          email: \"\",\n          roles: [],\n        };\n      }\n    },\n\n    editData(type, row) {\n      if ((type == 1 && this.tableSelectList.length == 1) || type == 2) {\n        let rowData = type == 1 ? this.tableSelectList[0] : row;\n        // 1:新增，2:编辑\n        this.$refs.addData.show(2, JSON.parse(JSON.stringify(rowData)));\n      } else {\n        this.$message.warning(\"请选择一条数据编辑\");\n      }\n    },\n    deleteData(type, row) {\n      if ((type == 1 && this.tableSelectList.length == 1) || type == 2) {\n        this.$confirm(\"是否删除此用户？\", \"提示\", {\n          type: \"warning\",\n        })\n          .then(async () => {\n            let rowData = type == 1 ? this.tableSelectList[0] : row;\n            let res = await deleteUser({\n              id: rowData.id,\n            });\n            if (res.status == 200) {\n              this.getUserList();\n              this.$message.success(\"删除成功\");\n            }\n          })\n          .catch(() => {});\n      } else {\n        this.$message.warning(\"请选择一条数据删除\");\n      }\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n</style>\n"]}]}