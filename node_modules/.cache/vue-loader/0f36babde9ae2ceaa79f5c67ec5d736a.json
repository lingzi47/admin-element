{"remainingRequest":"C:\\Users\\Administrator\\Desktop\\后台\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Administrator\\Desktop\\后台\\src\\views\\user\\bgaccountset\\busaccount\\components\\addOrEditDialog.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\Administrator\\Desktop\\后台\\src\\views\\user\\bgaccountset\\busaccount\\components\\addOrEditDialog.vue","mtime":1666252634361},{"path":"C:\\Users\\Administrator\\Desktop\\后台\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\Administrator\\Desktop\\后台\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Administrator\\Desktop\\后台\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IHVzZXJSb2xlcywgYWRkVXNlciwgZWRpdFNob3csIGVkaXRVc2VyIH0gZnJvbSAiQC9yZXF1ZXN0L2FwaSI7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiQWRkRGlhbG9nIiwKICBjb21wb25lbnRzOiB7fSwKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgaWQ6ICIiLAogICAgICB0b2tlbjogIiIsCiAgICAgIHJvbGVzTGlzdDogW10sIC8v6KeS6Imy5YiX6KGoCiAgICAgIHR5cGU6IDEsIC8vMeaWsOWinu+8jDLnvJbovpEKICAgICAgZGlhbG9nVmlzaWJsZTogZmFsc2UsCiAgICAgIHJ1bGVGb3JtOiB7CiAgICAgICAgaWQ6ICIiLAogICAgICAgIG5pY2tuYW1lOiAiIiwKICAgICAgICBwd2Q6ICIiLAogICAgICAgIHVuYW1lOiAiIiwKICAgICAgICB0ZWw6ICIiLAogICAgICAgIHJvbGVfbmFtZTogIiIsCiAgICAgICAgd2ViX3VpZDogIiIsCiAgICAgIH0sCiAgICAgIHJ1bGVzOiB7CiAgICAgICAgdW5hbWU6IFsKICAgICAgICAgIHsgcmVxdWlyZWQ6IHRydWUsIG1lc3NhZ2U6ICLotKblj7fkuI3og73kuLrnqboiLCB0cmlnZ2VyOiAiYmx1ciIgfSwKICAgICAgICAgIHsKICAgICAgICAgICAgcGF0dGVybjogL15bYS16MC05XXs0LDEwfSQvLAogICAgICAgICAgICBtZXNzYWdlOiAi6LSm5Y+355SxIDQtMTAg5Liq5bCP5YaZ5a2X5q+N5ZKM5pWw5a2X57uE5oiQIiwKICAgICAgICAgICAgdHJpZ2dlcjogImJsdXIiLAogICAgICAgICAgfSwKICAgICAgICBdLAogICAgICAgIHdlYl91aWQ6IFsKICAgICAgICAgIHsgcmVxdWlyZWQ6IHRydWUsIG1lc3NhZ2U6ICLliY3nq6/nlKjmiLdpZOS4jeiDveS4uuepuiIsIHRyaWdnZXI6ICJibHVyIiB9LAogICAgICAgIF0sCiAgICAgICAgcHdkOiBbCiAgICAgICAgICB7IHJlcXVpcmVkOiB0cnVlLCBtZXNzYWdlOiAi5a+G56CB5LiN6IO95Li656m6IiwgdHJpZ2dlcjogImJsdXIiIH0sCiAgICAgICAgICB7CiAgICAgICAgICAgIHBhdHRlcm46IC9eW2EtekEtWjAtOV17NiwxOH0kLywKICAgICAgICAgICAgbWVzc2FnZTogIuWvhueggeeUsSA2LTE4IOS4quWkp+Wwj+WGmeWtl+avjeWSjOaVsOWtl+e7hOaIkCIsCiAgICAgICAgICAgIHRyaWdnZXI6ICJibHVyIiwKICAgICAgICAgIH0sCiAgICAgICAgXSwKICAgICAgICBuaWNrbmFtZTogWwogICAgICAgICAgeyByZXF1aXJlZDogdHJ1ZSwgbWVzc2FnZTogIuWnk+WQjeS4jeiDveS4uuepuiIsIHRyaWdnZXI6ICJibHVyIiB9LAogICAgICAgICAgewogICAgICAgICAgICBwYXR0ZXJuOiAvXlthLXpBLVowLTlcdTRlMDAtXHU5ZmE1XXsyLDR9JC8sCiAgICAgICAgICAgIG1lc3NhZ2U6ICLlp5PlkI3nlLEgMi00IOS4quaxieWtl+e7hOaIkCIsCiAgICAgICAgICAgIHRyaWdnZXI6ICJibHVyIiwKICAgICAgICAgIH0sCiAgICAgICAgXSwKICAgICAgICB0ZWw6IFsKICAgICAgICAgIHsgcmVxdWlyZWQ6IHRydWUsIG1lc3NhZ2U6ICLmiYvmnLrlj7fkuI3og73kuLrnqboiLCB0cmlnZ2VyOiAiYmx1ciIgfSwKICAgICAgICAgIHsKICAgICAgICAgICAgcGF0dGVybjogL14xWzM0NTY3ODldXGR7OX0kLywKICAgICAgICAgICAgbWVzc2FnZTogIuaJi+acuuWPt+agvOW8j+S4jeato+ehriIsCiAgICAgICAgICAgIHRyaWdnZXI6ICJibHVyIiwKICAgICAgICAgIH0sCiAgICAgICAgXSwKICAgICAgfSwKICAgICAgcmFuZ2VEYXRlOiB7CiAgICAgICAgLy/ml6XmnJ/ojIPlm7TpgInmi6nvvIzlj6rog73pgInmi6nlvZPliY3ml6XmnJ/ku6XliY3nmoQKICAgICAgICBkaXNhYmxlZERhdGUoZGF0ZSkgewogICAgICAgICAgcmV0dXJuIGRhdGUuZ2V0VGltZSgpID4gRGF0ZS5ub3coKTsKICAgICAgICB9LAogICAgICB9LAogICAgfTsKICB9LAogIGNyZWF0ZWQ6IGZ1bmN0aW9uICgpIHsKICAgIHRoaXMuZ2V0Um9sZXNMaXN0KCk7IC8v6I635Y+W6KeS6ImyCiAgICBpZiAodGhpcy50eXBlID09IDIpIHsKICAgICAgdGhpcy5nZXRVc2VyRWRpdCgpOwogICAgfQogIH0sCiAgbW91bnRlZDogZnVuY3Rpb24gKCkge30sCiAgbWV0aG9kczogewogICAgLy/ojrflj5bkv67mlLnnmoTkv6Hmga8KICAgIGdldFVzZXJFZGl0KCkge30sCiAgICAvL+iOt+WPluinkuiJsue7hAogICAgZ2V0Um9sZXNMaXN0KCkgewogICAgICBsZXQgdG9rZW4gPSBzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKCJ0b2tlbiIpOwogICAgICB0aGlzLnRva2VuID0gdG9rZW47CiAgICAgIGxldCBwYXJhbXMgPSB7CiAgICAgICAgdG9rZW46IHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oInRva2VuIiksCiAgICAgIH07CiAgICAgIHVzZXJSb2xlcyhwYXJhbXMpLnRoZW4oKHJlcykgPT4gewogICAgICAgIHRoaXMucm9sZXNMaXN0ID0gcmVzLmRhdGEuZGF0YTsKICAgICAgfSk7CiAgICB9LAogICAgc2hvdyh0eXBlLCByb3cpIHsKICAgICAgdGhpcy50eXBlID0gdHlwZTsKICAgICAgdGhpcy5kaWFsb2dWaXNpYmxlID0gdHJ1ZTsKICAgICAgaWYgKHR5cGUgPT0gMikgewogICAgICAgIHRoaXMucnVsZUZvcm0gPSByb3c7CiAgICAgICAgbGV0IGlkID0gdGhpcy5ydWxlRm9ybS5pZDsKICAgICAgICB0aGlzLmlkID0gaWQ7CiAgICAgICAgbGV0IHBhcmFtcyA9IHsKICAgICAgICAgIHRva2VuOiBzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKCJ0b2tlbiIpLAogICAgICAgIH07CiAgICAgICAgZWRpdFNob3cocGFyYW1zLCBpZCkudGhlbigocmVzKSA9PiB7CiAgICAgICAgICB0aGlzLnJ1bGVGb3JtID0gcmVzLmRhdGEuZGF0YTsKICAgICAgICAgIHRoaXMucnVsZUZvcm0ucm9sZV9uYW1lID0gcmVzLmRhdGEuZGF0YS5yaWQ7CiAgICAgICAgfSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5ydWxlRm9ybSA9IHsKICAgICAgICAgIGlkOiAiIiwKICAgICAgICAgIG5pY2tuYW1lOiAiIiwKICAgICAgICAgIHB3ZDogIiIsCiAgICAgICAgICB1bmFtZTogIiIsCiAgICAgICAgICB0ZWw6ICIiLAogICAgICAgICAgcm9sZV9uYW1lOiAiIiwKICAgICAgICAgIHdlYl91aWQ6ICIiLAogICAgICAgIH07CiAgICAgIH0KICAgIH0sCiAgICBjbG9zZSgpIHsKICAgICAgdGhpcy5kaWFsb2dWaXNpYmxlID0gZmFsc2U7CiAgICAgIHRoaXMuJG5leHRUaWNrKCgpID0+IHsKICAgICAgICB0aGlzLiRyZWZzLnJ1bGVGb3JtLmNsZWFyVmFsaWRhdGUoKTsgLy/lhbPpl63muIXnqbrmoKHpqozop4TliJkKICAgICAgfSk7CiAgICB9LAogICAgc3VibWl0Rm9ybSgpIHsKICAgICAgdGhpcy4kcmVmcy5ydWxlRm9ybS52YWxpZGF0ZShhc3luYyAodmFsaWQpID0+IHsKICAgICAgICBpZiAodmFsaWQpIHsKICAgICAgICAgIGlmICh0aGlzLnR5cGUgPT0gMSkgewogICAgICAgICAgICBsZXQgdG9rZW4gPSBzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKCJ0b2tlbiIpOwogICAgICAgICAgICB0aGlzLnRva2VuID0gdG9rZW47CiAgICAgICAgICAgIGxldCBwYXJhbXMgPSB7CiAgICAgICAgICAgICAgdG9rZW46IHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oInRva2VuIiksCiAgICAgICAgICAgICAgbmlja25hbWU6IHRoaXMucnVsZUZvcm0ubmlja25hbWUsCiAgICAgICAgICAgICAgdW5hbWU6IHRoaXMucnVsZUZvcm0udW5hbWUsCiAgICAgICAgICAgICAgdGVsOiB0aGlzLnJ1bGVGb3JtLnRlbCwKICAgICAgICAgICAgICBwd2Q6IHRoaXMucnVsZUZvcm0ucHdkLAogICAgICAgICAgICAgIHdlYl91aWQ6IHRoaXMucnVsZUZvcm0ud2ViX3VpZCwKICAgICAgICAgICAgICB1X3R5cGU6IDMsCiAgICAgICAgICAgICAgcm9sZV9uYW1lOiB0aGlzLnJ1bGVGb3JtLnJvbGVfbmFtZSwKICAgICAgICAgICAgfTsKCiAgICAgICAgICAgIGFkZFVzZXIocGFyYW1zKS50aGVuKChyZXMpID0+IHsKICAgICAgICAgICAgICBpZiAocmVzLmRhdGEuY29kZSA9PSAyMDApIHsKICAgICAgICAgICAgICAgIHRoaXMuJG1lc3NhZ2Uuc3VjY2Vzcygi5paw5aKe5oiQ5YqfIik7CiAgICAgICAgICAgICAgICB0aGlzLmNsb3NlKCk7CiAgICAgICAgICAgICAgICB0aGlzLiRwYXJlbnQuZ2V0VXNlckxpc3QoKTsKICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgdGhpcy4kbWVzc2FnZS5lcnJvcihyZXMuZGF0YS5tc2cpOwogICAgICAgICAgICAgICAgdGhpcy5jbG9zZSgpOwogICAgICAgICAgICAgICAgdGhpcy4kcGFyZW50LmdldFVzZXJMaXN0KCk7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIGxldCB0b2tlbiA9IHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oInRva2VuIik7CiAgICAgICAgICAgIHRoaXMudG9rZW4gPSB0b2tlbjsKICAgICAgICAgICAgbGV0IGlkID0gdGhpcy5pZDsKCiAgICAgICAgICAgIGxldCBwYXJhbXMgPSB7CiAgICAgICAgICAgICAgdG9rZW46IHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oInRva2VuIiksCiAgICAgICAgICAgICAgdV90eXBlOiAzLAogICAgICAgICAgICAgIG5pY2tuYW1lOiB0aGlzLnJ1bGVGb3JtLm5pY2tuYW1lLAogICAgICAgICAgICAgIHVuYW1lOiB0aGlzLnJ1bGVGb3JtLnVuYW1lLAogICAgICAgICAgICAgIHRlbDogdGhpcy5ydWxlRm9ybS50ZWwsCiAgICAgICAgICAgICAgcHdkOiB0aGlzLnJ1bGVGb3JtLnB3ZCwKICAgICAgICAgICAgICB3ZWJfdWlkOiB0aGlzLnJ1bGVGb3JtLndlYl91aWQsCgogICAgICAgICAgICAgIHJvbGVfbmFtZTogdGhpcy5ydWxlRm9ybS5yb2xlX25hbWUsCiAgICAgICAgICAgIH07CgogICAgICAgICAgICBlZGl0VXNlcihwYXJhbXMsIGlkKS50aGVuKChyZXMpID0+IHsKICAgICAgICAgICAgICBpZiAocmVzLmRhdGEuY29kZSA9PSAyMDApIHsKICAgICAgICAgICAgICAgIHRoaXMuJG1lc3NhZ2Uuc3VjY2Vzcygi57yW6L6R5oiQ5YqfIik7CiAgICAgICAgICAgICAgICB0aGlzLmNsb3NlKCk7CiAgICAgICAgICAgICAgICB0aGlzLiRwYXJlbnQuZ2V0VXNlckxpc3QoKTsKICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgdGhpcy4kbWVzc2FnZS5lcnJvcihyZXMuZGF0YS5tc2cpOwogICAgICAgICAgICAgICAgdGhpcy5jbG9zZSgpOwogICAgICAgICAgICAgICAgdGhpcy4kcGFyZW50LmdldFVzZXJMaXN0KCk7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICAgIH0KICAgICAgICAgIHRoaXMuJHBhcmVudC5nZXRVc2VyTGlzdCgpOwogICAgICAgICAgdGhpcy5jbG9zZSgpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgfSwKfTsK"},{"version":3,"sources":["addOrEditDialog.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA0FA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"addOrEditDialog.vue","sourceRoot":"src/views/user/bgaccountset/busaccount/components","sourcesContent":["<template>\n  <div class=\"AddDialog\">\n    <el-dialog\n      :title=\"type == 1 ? '新增' : '编辑'\"\n      :visible.sync=\"dialogVisible\"\n      width=\"800px\"\n      :close-on-click-modal=\"false\"\n      @close=\"close\"\n    >\n      <el-form\n        :model=\"ruleForm\"\n        ref=\"ruleForm\"\n        :rules=\"rules\"\n        label-width=\"auto\"\n      >\n        <el-input type=\"hidden\" v-model=\"ruleForm.id\"></el-input>\n        <el-row :gutter=\"20\">\n          <el-col :span=\"12\">\n            <el-form-item label=\"账号\" prop=\"uname\">\n              <el-input\n                v-model=\"ruleForm.uname\"\n                placeholder=\"请输入账号\"\n              ></el-input>\n            </el-form-item>\n          </el-col>\n          <el-col :span=\"12\">\n            <el-form-item label=\"密码\" prop=\"pwd\">\n              <el-input\n                v-model=\"ruleForm.pwd\"\n                placeholder=\"请输入密码\"\n              ></el-input>\n            </el-form-item>\n          </el-col>\n          <el-col :span=\"12\">\n            <el-form-item label=\"姓名\" prop=\"nickname\">\n              <el-input\n                v-model=\"ruleForm.nickname\"\n                placeholder=\"请输入姓名\"\n              ></el-input>\n            </el-form-item>\n          </el-col>\n          <el-col :span=\"12\">\n            <el-form-item label=\"手机号\" prop=\"tel\">\n              <el-input\n                v-model=\"ruleForm.tel\"\n                placeholder=\"请输入手机号\"\n              ></el-input>\n            </el-form-item>\n          </el-col>\n          <el-col :span=\"12\">\n            <el-form-item\n              label=\"角色\"\n              prop=\"role_name\"\n              :rules=\"[\n                { required: true, message: '角色不能为空', trigger: 'blur' },\n              ]\"\n            >\n              <el-select\n                v-model=\"ruleForm.role_name\"\n                clearable\n                placeholder=\"请选择角色\"\n              >\n                <el-option\n                  v-for=\"item in rolesList\"\n                  :value=\"item.id\"\n                  :label=\"item.role_name\"\n                  :key=\"item.id\"\n                ></el-option>\n              </el-select>\n            </el-form-item>\n          </el-col>\n          <el-col :span=\"12\">\n            <el-form-item label=\"前端用户id绑定\" prop=\"web_uid\">\n              <el-input\n                v-model=\"ruleForm.web_uid\"\n                placeholder=\"请输入前端用户id\"\n              ></el-input>\n            </el-form-item>\n          </el-col>\n        </el-row>\n      </el-form>\n      <div slot=\"footer\" class=\"dialog-footer\">\n        <el-button @click=\"dialogVisible = false\">取 消</el-button>\n        <el-button type=\"primary\" @click=\"submitForm\">确 定</el-button>\n      </div>\n    </el-dialog>\n  </div>\n</template>\n\n<script>\nimport { userRoles, addUser, editShow, editUser } from \"@/request/api\";\nexport default {\n  name: \"AddDialog\",\n  components: {},\n  data() {\n    return {\n      id: \"\",\n      token: \"\",\n      rolesList: [], //角色列表\n      type: 1, //1新增，2编辑\n      dialogVisible: false,\n      ruleForm: {\n        id: \"\",\n        nickname: \"\",\n        pwd: \"\",\n        uname: \"\",\n        tel: \"\",\n        role_name: \"\",\n        web_uid: \"\",\n      },\n      rules: {\n        uname: [\n          { required: true, message: \"账号不能为空\", trigger: \"blur\" },\n          {\n            pattern: /^[a-z0-9]{4,10}$/,\n            message: \"账号由 4-10 个小写字母和数字组成\",\n            trigger: \"blur\",\n          },\n        ],\n        web_uid: [\n          { required: true, message: \"前端用户id不能为空\", trigger: \"blur\" },\n        ],\n        pwd: [\n          { required: true, message: \"密码不能为空\", trigger: \"blur\" },\n          {\n            pattern: /^[a-zA-Z0-9]{6,18}$/,\n            message: \"密码由 6-18 个大小写字母和数字组成\",\n            trigger: \"blur\",\n          },\n        ],\n        nickname: [\n          { required: true, message: \"姓名不能为空\", trigger: \"blur\" },\n          {\n            pattern: /^[a-zA-Z0-9\\u4e00-\\u9fa5]{2,4}$/,\n            message: \"姓名由 2-4 个汉字组成\",\n            trigger: \"blur\",\n          },\n        ],\n        tel: [\n          { required: true, message: \"手机号不能为空\", trigger: \"blur\" },\n          {\n            pattern: /^1[3456789]\\d{9}$/,\n            message: \"手机号格式不正确\",\n            trigger: \"blur\",\n          },\n        ],\n      },\n      rangeDate: {\n        //日期范围选择，只能选择当前日期以前的\n        disabledDate(date) {\n          return date.getTime() > Date.now();\n        },\n      },\n    };\n  },\n  created: function () {\n    this.getRolesList(); //获取角色\n    if (this.type == 2) {\n      this.getUserEdit();\n    }\n  },\n  mounted: function () {},\n  methods: {\n    //获取修改的信息\n    getUserEdit() {},\n    //获取角色组\n    getRolesList() {\n      let token = sessionStorage.getItem(\"token\");\n      this.token = token;\n      let params = {\n        token: sessionStorage.getItem(\"token\"),\n      };\n      userRoles(params).then((res) => {\n        this.rolesList = res.data.data;\n      });\n    },\n    show(type, row) {\n      this.type = type;\n      this.dialogVisible = true;\n      if (type == 2) {\n        this.ruleForm = row;\n        let id = this.ruleForm.id;\n        this.id = id;\n        let params = {\n          token: sessionStorage.getItem(\"token\"),\n        };\n        editShow(params, id).then((res) => {\n          this.ruleForm = res.data.data;\n          this.ruleForm.role_name = res.data.data.rid;\n        });\n      } else {\n        this.ruleForm = {\n          id: \"\",\n          nickname: \"\",\n          pwd: \"\",\n          uname: \"\",\n          tel: \"\",\n          role_name: \"\",\n          web_uid: \"\",\n        };\n      }\n    },\n    close() {\n      this.dialogVisible = false;\n      this.$nextTick(() => {\n        this.$refs.ruleForm.clearValidate(); //关闭清空校验规则\n      });\n    },\n    submitForm() {\n      this.$refs.ruleForm.validate(async (valid) => {\n        if (valid) {\n          if (this.type == 1) {\n            let token = sessionStorage.getItem(\"token\");\n            this.token = token;\n            let params = {\n              token: sessionStorage.getItem(\"token\"),\n              nickname: this.ruleForm.nickname,\n              uname: this.ruleForm.uname,\n              tel: this.ruleForm.tel,\n              pwd: this.ruleForm.pwd,\n              web_uid: this.ruleForm.web_uid,\n              u_type: 3,\n              role_name: this.ruleForm.role_name,\n            };\n\n            addUser(params).then((res) => {\n              if (res.data.code == 200) {\n                this.$message.success(\"新增成功\");\n                this.close();\n                this.$parent.getUserList();\n              } else {\n                this.$message.error(res.data.msg);\n                this.close();\n                this.$parent.getUserList();\n              }\n            });\n          } else {\n            let token = sessionStorage.getItem(\"token\");\n            this.token = token;\n            let id = this.id;\n\n            let params = {\n              token: sessionStorage.getItem(\"token\"),\n              u_type: 3,\n              nickname: this.ruleForm.nickname,\n              uname: this.ruleForm.uname,\n              tel: this.ruleForm.tel,\n              pwd: this.ruleForm.pwd,\n              web_uid: this.ruleForm.web_uid,\n\n              role_name: this.ruleForm.role_name,\n            };\n\n            editUser(params, id).then((res) => {\n              if (res.data.code == 200) {\n                this.$message.success(\"编辑成功\");\n                this.close();\n                this.$parent.getUserList();\n              } else {\n                this.$message.error(res.data.msg);\n                this.close();\n                this.$parent.getUserList();\n              }\n            });\n          }\n          this.$parent.getUserList();\n          this.close();\n        } else {\n          return false;\n        }\n      });\n    },\n  },\n};\n</script>\n\n<style>\n</style>\n"]}]}