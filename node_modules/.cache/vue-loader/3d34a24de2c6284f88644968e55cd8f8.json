{"remainingRequest":"C:\\Users\\Administrator\\Desktop\\后台\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Administrator\\Desktop\\后台\\src\\views\\login\\components\\identify.vue?vue&type=style&index=0&id=db71d096&scoped=true&lang=css&","dependencies":[{"path":"C:\\Users\\Administrator\\Desktop\\后台\\src\\views\\login\\components\\identify.vue","mtime":1646805521000},{"path":"C:\\Users\\Administrator\\Desktop\\后台\\node_modules\\css-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Administrator\\Desktop\\后台\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"C:\\Users\\Administrator\\Desktop\\后台\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"C:\\Users\\Administrator\\Desktop\\后台\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Administrator\\Desktop\\后台\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKI2NvbnQtY2FudmFzIHsKCWRpc3BsYXk6IGJsb2NrOwoJY3Vyc29yOiBwb2ludGVyOwp9Cg=="},{"version":3,"sources":["identify.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkKA;AACA;AACA;AACA","file":"identify.vue","sourceRoot":"src/views/login/components","sourcesContent":["<template>\n\t<div class=\"canvas-box\" @click=\"changeCode\">\n\t\t<canvas id=\"cont-canvas\" :width=\"contentWidth\" :height=\"contentHeight\"></canvas>\n\t</div>\n</template>\n\n<script>\n\texport default {\n\t\tname: \"IdentifyCode\",\n\t\tdata() {\n\t\t\treturn {\n\t\t\t\tidentifyCode: \"\"\n\t\t\t};\n\t\t},\n\t\tprops: {\n\t\t\tidentifyCodes: {\n\t\t\t\t//验证码从该字段中抽取生成\n\t\t\t\ttype: String,\n\t\t\t\tdefault: \"0123456789abcdefghijkmnpqrstuvwxyzABCDEFGHIJKMNPQRSTUVWXYZ\"\n\t\t\t},\n\t\t\tfontSizeMin: {\n\t\t\t\t// 字体最小值\n\t\t\t\ttype: Number,\n\t\t\t\tdefault: 25\n\t\t\t},\n\t\t\tfontSizeMax: {\n\t\t\t\t// 字体最大值\n\t\t\t\ttype: Number,\n\t\t\t\tdefault: 35\n\t\t\t},\n\t\t\tbackgroundColorMin: {\n\t\t\t\t// 验证码图片背景色最小值\n\t\t\t\ttype: Number,\n\t\t\t\tdefault: 200\n\t\t\t},\n\t\t\tbackgroundColorMax: {\n\t\t\t\t// 验证码图片背景色最大值\n\t\t\t\ttype: Number,\n\t\t\t\tdefault: 220\n\t\t\t},\n\t\t\tdotColorMin: {\n\t\t\t\t// 背景干扰点最小值\n\t\t\t\ttype: Number,\n\t\t\t\tdefault: 60\n\t\t\t},\n\t\t\tdotColorMax: {\n\t\t\t\t// 背景干扰点最大值\n\t\t\t\ttype: Number,\n\t\t\t\tdefault: 120\n\t\t\t},\n\t\t\tcontentWidth: {\n\t\t\t\t//容器宽度\n\t\t\t\ttype: Number,\n\t\t\t\tdefault: 115\n\t\t\t},\n\t\t\tcontentHeight: {\n\t\t\t\t//容器高度\n\t\t\t\ttype: Number,\n\t\t\t\tdefault: 43\n\t\t\t}\n\t\t},\n\t\twatch: {\n\t\t\tidentifyCode() {\n\t\t\t\tthis.drawPic();\n\t\t\t}\n\t\t},\n\t\tmounted() {\n\t\t\tthis.drawPic();\n\t\t\tthis.makeCode(this.identifyCodes, 4);\n\t\t},\n\t\tmethods: {\n\t\t\t// 生成一个随机数\n\t\t\trandomNum(min, max) {\n\t\t\t\treturn Math.floor(Math.random() * (max - min) + min);\n\t\t\t},\n\t\t\t// 生成一个随机的颜色\n\t\t\trandomColor(min, max) {\n\t\t\t\tlet r = this.randomNum(min, max);\n\t\t\t\tlet g = this.randomNum(min, max);\n\t\t\t\tlet b = this.randomNum(min, max);\n\t\t\t\treturn \"rgb(\" + r + \",\" + g + \",\" + b + \")\";\n\t\t\t},\n\t\t\tdrawPic() {\n\t\t\t\tlet canvas = document.getElementById(\"cont-canvas\");\n\t\t\t\tlet ctx = canvas.getContext(\"2d\");\n\t\t\t\tctx.textBaseline = \"bottom\";\n\t\t\t\t// 绘制背景\n\t\t\t\tctx.fillStyle = this.randomColor(\n\t\t\t\t\tthis.backgroundColorMin,\n\t\t\t\t\tthis.backgroundColorMax\n\t\t\t\t);\n\t\t\t\tctx.fillRect(0, 0, this.contentWidth, this.contentHeight);\n\t\t\t\t// 绘制文字\n\t\t\t\tfor (let i = 0; i < this.identifyCode.length; i++) {\n\t\t\t\t\tthis.drawText(ctx, this.identifyCode[i], i);\n\t\t\t\t}\n\t\t\t\tthis.drawLine(ctx);\n\t\t\t\tthis.drawDot(ctx);\n\t\t\t},\n\t\t\tdrawText(ctx, txt, i) {\n\t\t\t\tctx.fillStyle = this.randomColor(50, 160); //随机生成字体颜色\n\t\t\t\tctx.font =\n\t\t\t\t\tthis.randomNum(this.fontSizeMin, this.fontSizeMax) + \"px SimHei\"; //随机生成字体大小\n\t\t\t\tlet x = (i + 1) * (this.contentWidth / (this.identifyCode.length + 1));\n\t\t\t\tlet y = this.randomNum(this.fontSizeMax, this.contentHeight - 5);\n\t\t\t\tvar deg = this.randomNum(-30, 30);\n\t\t\t\t// 修改坐标原点和旋转角度\n\t\t\t\tctx.translate(x, y);\n\t\t\t\tctx.rotate((deg * Math.PI) / 180);\n\t\t\t\tctx.fillText(txt, 0, 0);\n\t\t\t\t// 恢复坐标原点和旋转角度\n\t\t\t\tctx.rotate((-deg * Math.PI) / 180);\n\t\t\t\tctx.translate(-x, -y);\n\t\t\t},\n\t\t\tdrawLine(ctx) {\n\t\t\t\t// 绘制干扰线\n\t\t\t\tfor (let i = 0; i < 4; i++) {\n\t\t\t\t\tctx.strokeStyle = this.randomColor(100, 200);\n\t\t\t\t\tctx.beginPath();\n\t\t\t\t\tctx.moveTo(\n\t\t\t\t\t\tthis.randomNum(0, this.contentWidth),\n\t\t\t\t\t\tthis.randomNum(0, this.contentHeight)\n\t\t\t\t\t);\n\t\t\t\t\tctx.lineTo(\n\t\t\t\t\t\tthis.randomNum(0, this.contentWidth),\n\t\t\t\t\t\tthis.randomNum(0, this.contentHeight)\n\t\t\t\t\t);\n\t\t\t\t\tctx.stroke();\n\t\t\t\t}\n\t\t\t},\n\t\t\tdrawDot(ctx) {\n\t\t\t\t// 绘制干扰点\n\t\t\t\tfor (let i = 0; i < 30; i++) {\n\t\t\t\t\tctx.fillStyle = this.randomColor(0, 255);\n\t\t\t\t\tctx.beginPath();\n\t\t\t\t\tctx.arc(\n\t\t\t\t\t\tthis.randomNum(0, this.contentWidth),\n\t\t\t\t\t\tthis.randomNum(0, this.contentHeight),\n\t\t\t\t\t\t1,\n\t\t\t\t\t\t0,\n\t\t\t\t\t\t2 * Math.PI\n\t\t\t\t\t);\n\t\t\t\t\tctx.fill();\n\t\t\t\t}\n\t\t\t},\n\t\t\t/*切换验证码start*/\n\t\t\tchangeCode() {\n\t\t\t\tthis.identifyCode = \"\";\n\t\t\t\tthis.makeCode(this.identifyCodes, 4);\n\t\t\t},\n\t\t\tmakeCode(e, n) {\n\t\t\t\tfor (let i = 0; i < n; i++) {\n\t\t\t\t\tthis.identifyCode += e[this.randomNum(0, e.length)];\n\t\t\t\t}\n\t\t\t\t// console.log('code = ', this.identifyCode)\n\t\t\t\tthis.$emit(\"update:changeCode\", this.identifyCode);\n\t\t\t},\n\t\t\t/*切换验证码end*/\n\t\t}\n\t};\n</script>\n<style scoped>\n\t#cont-canvas {\n\t\tdisplay: block;\n\t\tcursor: pointer;\n\t}\n</style>\n"]}]}