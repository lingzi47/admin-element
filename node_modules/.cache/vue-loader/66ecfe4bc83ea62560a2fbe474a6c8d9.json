{"remainingRequest":"C:\\Users\\Administrator\\Desktop\\预见未来后台管理系统\\后台\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Administrator\\Desktop\\预见未来后台管理系统\\后台\\src\\views\\shop\\special\\type\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\Administrator\\Desktop\\预见未来后台管理系统\\后台\\src\\views\\shop\\special\\type\\index.vue","mtime":1655718183160},{"path":"C:\\Users\\Administrator\\Desktop\\预见未来后台管理系统\\后台\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\Administrator\\Desktop\\预见未来后台管理系统\\后台\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Administrator\\Desktop\\预见未来后台管理系统\\后台\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgeyBjaGVja1Blcm1pc3Npb24gfSBmcm9tICJAL3V0aWxzL3Blcm1pc3Npb25zIjsNCmltcG9ydCB7IHNob3B0eXBlLCBzaG9wVHlwZWRlbCwgc2hvcFR5cGVpc3Nob3cgfSBmcm9tICJAL2FwaS9zaG9wIjsNCmltcG9ydCBwYWdlVGFibGUgZnJvbSAiQC9jb21wb25lbnRzL3BhZ2VUYWJsZS52dWUiOw0KaW1wb3J0IGFkZE9yRWRpdERpYWxvZyBmcm9tICIuL2FkZE9yRWRpdERpYWxvZy52dWUiOw0KZXhwb3J0IGRlZmF1bHQgew0KICBuYW1lOiAibWVudVBhZ2UiLA0KICBjb21wb25lbnRzOiB7DQogICAgcGFnZVRhYmxlLA0KICAgIGFkZE9yRWRpdERpYWxvZywNCiAgfSwNCiAgZGF0YSgpIHsNCiAgICByZXR1cm4gew0KICAgICAgbWVudUxpc3Q6IFtdLA0KICAgICAgdGFibGVTZWxlY3RMaXN0OiBbXSwNCiAgICAgIGZvcm06IHsNCiAgICAgICAgdHlwZTogIjEiLA0KICAgICAgfSwNCiAgICB9Ow0KICB9LA0KICBjcmVhdGVkKCkgew0KICAgIHRoaXMuZ2V0bGlzdCgpOw0KICB9LA0KICBtb3VudGVkKCkge30sDQogIG1ldGhvZHM6IHsNCiAgICBjaGVja1Blcm1pc3Npb24sDQogICAgYXN5bmMgZ2V0bGlzdCgpIHsNCiAgICAgIGxldCByZXMgPSBhd2FpdCBzaG9wdHlwZSh0aGlzLmZvcm0pOw0KICAgICAgaWYgKHJlcy5zdGF0dXMgPT0gMjAwKSB7DQogICAgICAgIHRoaXMubWVudUxpc3QgPSByZXMuZGF0YS5kYXRhOw0KICAgICAgfQ0KICAgIH0sDQogICAgbWVudUNoYW5nZSh2YWwpIHsNCiAgICAgIHRoaXMuc2hvd01lbnVMZXZlbDIgPSB0aGlzLm1lbnVMZXZlbDIuZmlsdGVyKChpdGVtKSA9PiBpdGVtLnBpZCA9PSB2YWwpOw0KICAgIH0sDQoNCiAgICBhZGREYXRhKCkgew0KICAgICAgdGhpcy4kcmVmcy5hZGRvcmVkaXREYXRhLnNob3coMSwge30pOyAvLyAxOuaWsOWinu+8jDI657yW6L6R77yMMzrliIbnsbvmlrDlop4NCiAgICB9LA0KDQogICAgYWRkdHlwZURhdGEodHlwZSwgcm93KSB7DQogICAgICAvLyAxOuaWsOWinu+8jDI657yW6L6R77yMMzrliIbnsbvmlrDlop4NCiAgICAgIHRoaXMuJHJlZnMuYWRkb3JlZGl0RGF0YS5zaG93KDMsIEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkocm93KSkpOw0KICAgIH0sDQoNCiAgICBlZGl0RGF0YSh0eXBlLCByb3cpIHsNCiAgICAgIGlmICgodHlwZSA9PSAxICYmIHRoaXMudGFibGVTZWxlY3RMaXN0Lmxlbmd0aCA9PSAxKSB8fCB0eXBlID09IDIpIHsNCiAgICAgICAgbGV0IHJvd0RhdGEgPSB0eXBlID09IDEgPyB0aGlzLnRhYmxlU2VsZWN0TGlzdFswXSA6IHJvdzsNCiAgICAgICAgLy8gMTrmlrDlop7vvIwyOue8lui+kQ0KICAgICAgICB0aGlzLiRyZWZzLmFkZG9yZWRpdERhdGEuc2hvdygyLCBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KHJvd0RhdGEpKSk7DQogICAgICB9IGVsc2Ugew0KICAgICAgICB0aGlzLiRtZXNzYWdlLndhcm5pbmcoIuivt+mAieaLqeS4gOadoeaVsOaNrue8lui+kSIpOw0KICAgICAgfQ0KICAgIH0sDQoNCiAgICAvL+aYvuekuumakOiXjw0KICAgIGlzU2h3byh0eXBlLCByb3cpIHsNCiAgICAgIGlmICh0eXBlID09IDEwIHx8IHR5cGUgPT0gMjApIHsNCiAgICAgICAgdGhpcy4kY29uZmlybSgi5piv5ZCm5pON5L2c5q2k5YiG57G777yfIiwgIuaPkOekuiIsIHsNCiAgICAgICAgICB0eXBlOiAid2FybmluZyIsDQogICAgICAgIH0pDQogICAgICAgICAgLnRoZW4oYXN5bmMgKCkgPT4gew0KICAgICAgICAgICAgbGV0IHJlcyA9IGF3YWl0IHNob3BUeXBlaXNzaG93KHsNCiAgICAgICAgICAgICAgaWQ6IHJvdy5pZCwNCiAgICAgICAgICAgICAgaXNfc2hvdzogdHlwZSwNCiAgICAgICAgICAgIH0pOw0KICAgICAgICAgICAgaWYgKHJlcy5zdGF0dXMgPT0gMjAwKSB7DQogICAgICAgICAgICAgIHRoaXMuZ2V0bGlzdCgpOw0KICAgICAgICAgICAgICB0aGlzLiRtZXNzYWdlLnN1Y2Nlc3MoIuaTjeS9nOaIkOWKnyIpOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgIH0pDQogICAgICAgICAgLmNhdGNoKCgpID0+IHt9KTsNCiAgICAgIH0NCiAgICB9LA0KICAgIC8v5Yig6ZmkDQogICAgZGVsZXRlRGF0YSh0eXBlLCByb3cpIHsNCiAgICAgIGlmICgodHlwZSA9PSAxICYmIHRoaXMudGFibGVTZWxlY3RMaXN0Lmxlbmd0aCA9PSAxKSB8fCB0eXBlID09IDIpIHsNCiAgICAgICAgdGhpcy4kY29uZmlybSgi5piv5ZCm5Yig6Zmk5q2k5YiG57G777yfIiwgIuaPkOekuiIsIHsNCiAgICAgICAgICB0eXBlOiAid2FybmluZyIsDQogICAgICAgIH0pDQogICAgICAgICAgLnRoZW4oYXN5bmMgKCkgPT4gew0KICAgICAgICAgICAgbGV0IHJvd0RhdGEgPSB0eXBlID09IDEgPyB0aGlzLnRhYmxlU2VsZWN0TGlzdFswXSA6IHJvdzsNCiAgICAgICAgICAgIGxldCByZXMgPSBhd2FpdCBzaG9wVHlwZWRlbCh7DQogICAgICAgICAgICAgIGlkOiByb3dEYXRhLmlkLA0KICAgICAgICAgICAgfSk7DQogICAgICAgICAgICBpZiAocmVzLnN0YXR1cyA9PSAyMDApIHsNCiAgICAgICAgICAgICAgdGhpcy5nZXRsaXN0KCk7DQogICAgICAgICAgICAgIHRoaXMuJG1lc3NhZ2Uuc3VjY2Vzcygi5Yig6Zmk5oiQ5YqfIik7DQogICAgICAgICAgICB9DQogICAgICAgICAgfSkNCiAgICAgICAgICAuY2F0Y2goKCkgPT4ge30pOw0KICAgICAgfSBlbHNlIHsNCiAgICAgICAgdGhpcy4kbWVzc2FnZS53YXJuaW5nKCLor7fpgInmi6nkuIDmnaHmlbDmja7liKDpmaQiKTsNCiAgICAgIH0NCiAgICB9LA0KICB9LA0KfTsNCg=="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4GA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/views/shop/special/type","sourcesContent":["<template>\r\n  <div class=\"menu\">\r\n    <div class=\"block-quote\">\r\n      <el-form :inline=\"true\" ref=\"form\">\r\n        <span style=\"color: red\">* 注: 专区商城为三级分类</span>\r\n        <el-form-item style=\"float: right\">\r\n          <el-button\r\n            v-if=\"checkPermission('roleadd')\"\r\n            type=\"primary\"\r\n            icon=\"el-icon-plus\"\r\n            @click=\"addData\"\r\n            >新增</el-button\r\n          >\r\n        </el-form-item>\r\n      </el-form>\r\n    </div>\r\n    <page-table\r\n      ref=\"dataTable\"\r\n      :data=\"menuList\"\r\n      :paging=\"false\"\r\n      row-key=\"id\"\r\n      :header-cell-style=\"{ textAlign: 'center' }\"\r\n      :cell-style=\"{ textAlign: 'center' }\"\r\n    >\r\n      <el-table-column\r\n        prop=\"id\"\r\n        label=\"编号ID\"\r\n        width=\"160\"\r\n        :resizable=\"false\"\r\n      ></el-table-column>\r\n      <el-table-column\r\n        prop=\"name\"\r\n        label=\"分类名称\"\r\n        width=\"220\"\r\n        :resizable=\"false\"\r\n      ></el-table-column>\r\n      <el-table-column\r\n        prop=\"weigh\"\r\n        label=\"排序(大->小)\"\r\n        width=\"140\"\r\n        :resizable=\"false\"\r\n      ></el-table-column>\r\n      <el-table-column label=\"显示状态\" width=\"150\" :resizable=\"false\">\r\n        <template slot-scope=\"scope\">\r\n          <el-button\r\n            v-if=\"scope.row.is_show == 10\"\r\n            size=\"mini\"\r\n            type=\"success\"\r\n            @click=\"isShwo(20, scope.row)\"\r\n            >显示</el-button\r\n          >\r\n          <el-button\r\n            v-else\r\n            size=\"mini\"\r\n            type=\"danger\"\r\n            @click=\"isShwo(10, scope.row)\"\r\n            >隐藏</el-button\r\n          >\r\n        </template>\r\n      </el-table-column>\r\n\r\n      <el-table-column prop=\"icon\" label=\"图标\" width=\"240\" :resizable=\"false\">\r\n        <template slot-scope=\"scope\">\r\n          <img :src=\"scope.row.icon\" min-width=\"70\" height=\"70\" />\r\n        </template>\r\n      </el-table-column>\r\n\r\n      <el-table-column\r\n        prop=\"brief\"\r\n        label=\"简介\"\r\n        :resizable=\"false\"\r\n      ></el-table-column>\r\n      <el-table-column\r\n        fixed=\"right\"\r\n        label=\"操作\"\r\n        width=\"240\"\r\n        :resizable=\"false\"\r\n        v-if=\"checkPermission(['useradd', 'useredit', 'userdelete'])\"\r\n      >\r\n        <template slot-scope=\"scope\">\r\n          <el-link\r\n            v-if=\"checkPermission('useradd')\"\r\n            type=\"primary\"\r\n            @click=\"addtypeData(3, scope.row)\"\r\n            >新增</el-link\r\n          >\r\n          &nbsp;\r\n          <el-link\r\n            v-if=\"checkPermission('useredit')\"\r\n            type=\"primary\"\r\n            @click=\"editData(2, scope.row)\"\r\n            >编辑</el-link\r\n          >\r\n          <el-link\r\n            type=\"danger\"\r\n            style=\"margin-left: 10px\"\r\n            @click=\"deleteData(2, scope.row)\"\r\n            >删除</el-link\r\n          >\r\n        </template>\r\n      </el-table-column>\r\n    </page-table>\r\n    <!-- 新增或编辑弹窗 -->\r\n    <addOrEdit-dialog ref=\"addoreditData\"></addOrEdit-dialog>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { checkPermission } from \"@/utils/permissions\";\r\nimport { shoptype, shopTypedel, shopTypeisshow } from \"@/api/shop\";\r\nimport pageTable from \"@/components/pageTable.vue\";\r\nimport addOrEditDialog from \"./addOrEditDialog.vue\";\r\nexport default {\r\n  name: \"menuPage\",\r\n  components: {\r\n    pageTable,\r\n    addOrEditDialog,\r\n  },\r\n  data() {\r\n    return {\r\n      menuList: [],\r\n      tableSelectList: [],\r\n      form: {\r\n        type: \"1\",\r\n      },\r\n    };\r\n  },\r\n  created() {\r\n    this.getlist();\r\n  },\r\n  mounted() {},\r\n  methods: {\r\n    checkPermission,\r\n    async getlist() {\r\n      let res = await shoptype(this.form);\r\n      if (res.status == 200) {\r\n        this.menuList = res.data.data;\r\n      }\r\n    },\r\n    menuChange(val) {\r\n      this.showMenuLevel2 = this.menuLevel2.filter((item) => item.pid == val);\r\n    },\r\n\r\n    addData() {\r\n      this.$refs.addoreditData.show(1, {}); // 1:新增，2:编辑，3:分类新增\r\n    },\r\n\r\n    addtypeData(type, row) {\r\n      // 1:新增，2:编辑，3:分类新增\r\n      this.$refs.addoreditData.show(3, JSON.parse(JSON.stringify(row)));\r\n    },\r\n\r\n    editData(type, row) {\r\n      if ((type == 1 && this.tableSelectList.length == 1) || type == 2) {\r\n        let rowData = type == 1 ? this.tableSelectList[0] : row;\r\n        // 1:新增，2:编辑\r\n        this.$refs.addoreditData.show(2, JSON.parse(JSON.stringify(rowData)));\r\n      } else {\r\n        this.$message.warning(\"请选择一条数据编辑\");\r\n      }\r\n    },\r\n\r\n    //显示隐藏\r\n    isShwo(type, row) {\r\n      if (type == 10 || type == 20) {\r\n        this.$confirm(\"是否操作此分类？\", \"提示\", {\r\n          type: \"warning\",\r\n        })\r\n          .then(async () => {\r\n            let res = await shopTypeisshow({\r\n              id: row.id,\r\n              is_show: type,\r\n            });\r\n            if (res.status == 200) {\r\n              this.getlist();\r\n              this.$message.success(\"操作成功\");\r\n            }\r\n          })\r\n          .catch(() => {});\r\n      }\r\n    },\r\n    //删除\r\n    deleteData(type, row) {\r\n      if ((type == 1 && this.tableSelectList.length == 1) || type == 2) {\r\n        this.$confirm(\"是否删除此分类？\", \"提示\", {\r\n          type: \"warning\",\r\n        })\r\n          .then(async () => {\r\n            let rowData = type == 1 ? this.tableSelectList[0] : row;\r\n            let res = await shopTypedel({\r\n              id: rowData.id,\r\n            });\r\n            if (res.status == 200) {\r\n              this.getlist();\r\n              this.$message.success(\"删除成功\");\r\n            }\r\n          })\r\n          .catch(() => {});\r\n      } else {\r\n        this.$message.warning(\"请选择一条数据删除\");\r\n      }\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n</style>\r\n"]}]}