{"version":3,"sources":["webpack:///./src/views/shop/activity/activitylist/index.vue?a521","webpack:///./src/views/shop/activity/activitylist/components/editData.vue?dea7","webpack:///src/views/shop/activity/activitylist/components/editData.vue","webpack:///./src/views/shop/activity/activitylist/components/editData.vue?4c77","webpack:///./src/views/shop/activity/activitylist/components/editData.vue","webpack:///src/views/shop/activity/activitylist/index.vue","webpack:///./src/views/shop/activity/activitylist/index.vue?f27b","webpack:///./src/views/shop/activity/activitylist/index.vue","webpack:///./src/views/shop/activity/activitylist/components/editData.vue?27d1"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","staticStyle","on","add","_v","ref","userList","changeCurrent","scopedSlots","_u","key","fn","scope","_s","page","currentPage","pageSize","$index","row","type","$event","show","_e","is_buy","deleteData","staticRenderFns","tittle","dialogVisible","close","ruleForm","rules","model","value","callback","$$v","$set","expression","slot","submitForm","name","components","data","form","value1","value2","value3","uid","created","mounted","methods","$refs","validate","component","pageTable","editData","total","watch","getUserList","computed","console","log","$confirm","checkPermission","size","token","limit","sessionStorage","getItem"],"mappings":"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","file":"js/chunk-22502c94.dc85b233.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"user\"},[_c('div',{staticClass:\"block-quote\"},[_c('el-form',{attrs:{\"inline\":true}},[_c('el-form-item',{staticStyle:{\"float\":\"right\"}},[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.add}},[_vm._v(\"添加\")])],1)],1)],1),_c('page-table',{ref:\"dataTable\",attrs:{\"data\":_vm.userList},on:{\"changeCurrentPage\":_vm.changeCurrent}},[_c('el-table-column',{attrs:{\"label\":\"序号\",\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('span',[_vm._v(_vm._s((_vm.page.currentPage - 1) * _vm.page.pageSize + scope.$index + 1))])]}}])}),_c('el-table-column',{attrs:{\"prop\":\"uid\",\"label\":\"用户ID\",\"align\":\"center\"}}),_c('el-table-column',{attrs:{\"prop\":\"username\",\"label\":\"用户名称\",\"align\":\"center\"}}),_c('el-table-column',{attrs:{\"label\":\"限购套餐\",\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [(scope.row.type == 1)?_c('el-link',{on:{\"click\":function($event){return _vm.show(2, scope.row)}}},[_vm._v(\"套餐一\")]):_vm._e(),(scope.row.type == 2)?_c('el-link',{on:{\"click\":function($event){return _vm.show(2, scope.row)}}},[_vm._v(\"套餐二\")]):_vm._e(),(scope.row.type == 3)?_c('el-link',{on:{\"click\":function($event){return _vm.show(2, scope.row)}}},[_vm._v(\"套餐三\")]):_vm._e()]}}])}),_c('el-table-column',{attrs:{\"label\":\"购买状态\",\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [(scope.row.is_buy == 20)?_c('el-link',{attrs:{\"type\":\"success\"}},[_vm._v(\"已购买\")]):_vm._e(),(scope.row.is_buy == 10)?_c('el-link',{attrs:{\"type\":\"warning\"}},[_vm._v(\"未购买\")]):_vm._e()]}}])}),_c('el-table-column',{attrs:{\"label\":\"操作\",\"align\":\"center\",\"width\":\"350\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-link',{staticStyle:{\"margin-left\":\"10px\"},attrs:{\"type\":\"danger\"},on:{\"click\":function($event){return _vm.deleteData(scope.row)}}},[_vm._v(\"删除\")])]}}])})],1),_c('edit-data',{ref:\"editData\"})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('el-dialog',{staticClass:\"AddDialog\",attrs:{\"title\":_vm.tittle,\"visible\":_vm.dialogVisible,\"width\":\"800px\",\"hegiht\":\"1000px\",\"close-on-click-modal\":false},on:{\"update:visible\":function($event){_vm.dialogVisible=$event},\"close\":_vm.close}},[_c('el-form',{ref:\"ruleForm\",attrs:{\"model\":_vm.ruleForm,\"rules\":_vm.rules,\"label-width\":\"auto\"}},[_c('el-row',{attrs:{\"gutter\":15}},[(this.tittle == '添加')?_c('el-col',{attrs:{\"span\":10}},[_c('el-form-item',{attrs:{\"label\":\"用户ID\",\"prop\":\"uid\"}},[_c('el-input',{staticStyle:{\"width\":\"180px\"},attrs:{\"placeholder\":\"请输入用户ID\"},model:{value:(_vm.ruleForm.uid),callback:function ($$v) {_vm.$set(_vm.ruleForm, \"uid\", $$v)},expression:\"ruleForm.uid\"}})],1)],1):_vm._e(),(this.tittle == '添加')?_c('el-col',{attrs:{\"span\":10}},[_c('el-form-item',{attrs:{\"label\":\"限购套餐\",\"prop\":\"type\"}},[_c('el-select',{staticStyle:{\"width\":\"150px\"},attrs:{\"placeholder\":\"请选择\"},model:{value:(_vm.ruleForm.type),callback:function ($$v) {_vm.$set(_vm.ruleForm, \"type\", $$v)},expression:\"ruleForm.type\"}},[_c('el-option',{attrs:{\"label\":\"套餐一\",\"value\":\"1\"}}),_c('el-option',{attrs:{\"label\":\"套餐二\",\"value\":\"2\"}}),_c('el-option',{attrs:{\"label\":\"套餐三\",\"value\":\"3\"}})],1)],1)],1):_vm._e()],1)],1),(this.tittle == '查看套餐')?_c('p',[_vm._v(\" 套餐1: 西贝·贾国龙瑞兔迎新礼盒（3190g） +诺西贝（NosyBe）国产海鲜398型\"),_c('br'),_vm._v(\" 套餐2: 西贝认,贾国龙瑞兔迎新礼盒（3190g） +诺西贝（NosyBe)国产海鲜398型 +京禧・浓情（20选1）\"),_c('br'),_vm._v(\" 套餐3: 西贝·贾国龙瑞兔迎新礼盒（3190g） +诺西贝（NosyBe)国产海鲜398型 +京禧·浓情（20选1）+中粮·尊品（16选1） \")]):_vm._e(),(this.tittle == '添加')?_c('div',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.dialogVisible = false}}},[_vm._v(\"取 消\")]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.submitForm}},[_vm._v(\"确 定\")])],1):_vm._e()],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <el-dialog\r\n      class=\"AddDialog\"\r\n      :title=\"tittle\"\r\n      :visible.sync=\"dialogVisible\"\r\n      width=\"800px\"\r\n      hegiht=\"1000px\"\r\n      :close-on-click-modal=\"false\"\r\n      @close=\"close\"\r\n    >\r\n      <el-form\r\n        :model=\"ruleForm\"\r\n        ref=\"ruleForm\"\r\n        :rules=\"rules\"\r\n        label-width=\"auto\"\r\n      >\r\n        <el-row :gutter=\"15\">\r\n          <el-col :span=\"10\" v-if=\"this.tittle == '添加'\">\r\n            <el-form-item label=\"用户ID\" prop=\"uid\">\r\n              <el-input\r\n                v-model=\"ruleForm.uid\"\r\n                style=\"width: 180px\"\r\n                placeholder=\"请输入用户ID\"\r\n              ></el-input>\r\n            </el-form-item>\r\n          </el-col>\r\n\r\n          <el-col :span=\"10\" v-if=\"this.tittle == '添加'\">\r\n            <el-form-item label=\"限购套餐\" prop=\"type\">\r\n              <el-select\r\n                v-model=\"ruleForm.type\"\r\n                placeholder=\"请选择\"\r\n                style=\"width: 150px\"\r\n              >\r\n                <el-option label=\"套餐一\" value=\"1\"></el-option>\r\n                <el-option label=\"套餐二\" value=\"2\"></el-option>\r\n                <el-option label=\"套餐三\" value=\"3\"></el-option>\r\n              </el-select>\r\n            </el-form-item>\r\n          </el-col>\r\n        </el-row>\r\n      </el-form>\r\n      <p v-if=\"this.tittle == '查看套餐'\">\r\n        套餐1: 西贝·贾国龙瑞兔迎新礼盒（3190g）\r\n        +诺西贝（NosyBe）国产海鲜398型<br />\r\n        套餐2: 西贝认,贾国龙瑞兔迎新礼盒（3190g） +诺西贝（NosyBe)国产海鲜398型\r\n        +京禧・浓情（20选1）<br />\r\n        套餐3: 西贝·贾国龙瑞兔迎新礼盒（3190g） +诺西贝（NosyBe)国产海鲜398型\r\n        +京禧·浓情（20选1）+中粮·尊品（16选1）\r\n      </p>\r\n      <div slot=\"footer\" class=\"dialog-footer\" v-if=\"this.tittle == '添加'\">\r\n        <el-button @click=\"dialogVisible = false\">取 消</el-button>\r\n        <el-button type=\"primary\" @click=\"submitForm\">确 定</el-button>\r\n      </div>\r\n    </el-dialog>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { goodschooseadd } from \"@/request/api\";\r\nimport { areaListData } from \"@/utils/area\";\r\nexport default {\r\n  name: \"AddDialog\",\r\n  components: {},\r\n  data() {\r\n    return {\r\n      tittle: \"\",\r\n      form: {\r\n        value1: \"\",\r\n        value2: \"\",\r\n        value3: \"\",\r\n      },\r\n\r\n      dialogVisible: false,\r\n      ruleForm: {\r\n        uid: \"\",\r\n        type: \"\",\r\n      },\r\n      rules: {\r\n        uid: [{ required: true, message: \"请输入用户id\", trigger: \"blur\" }],\r\n        type: [{ required: true, message: \"请选择限购套餐\", trigger: \"blur\" }],\r\n      },\r\n    };\r\n  },\r\n  created() {},\r\n  mounted() {},\r\n  methods: {\r\n    show(type) {\r\n      if (type == 1) {\r\n        this.dialogVisible = true;\r\n        this.tittle = \"添加\";\r\n      } else {\r\n        this.tittle = \"查看套餐\";\r\n        this.dialogVisible = true;\r\n      }\r\n    },\r\n\r\n    close() {\r\n      this.dialogVisible = false;\r\n      this.ruleForm.uid = \"\";\r\n      this.ruleForm.type = \"\";\r\n    },\r\n\r\n    submitForm() {\r\n      this.$refs.ruleForm.validate(async (valid) => {\r\n        if (valid) {\r\n          let token = sessionStorage.getItem(\"token\");\r\n          this.token = token;\r\n          let params = {\r\n            token: sessionStorage.getItem(\"token\"),\r\n            uid: this.ruleForm.uid,\r\n            type: this.ruleForm.type,\r\n          };\r\n          goodschooseadd(params).then((res) => {\r\n            if (res.data.code == 200) {\r\n              this.$message.success(\"新增成功\");\r\n              this.$parent.getUserList();\r\n              this.close();\r\n            } else {\r\n              this.$message.error(res.data.msg);\r\n              this.$parent.getUserList();\r\n              this.close();\r\n            }\r\n          });\r\n        } else {\r\n          return false;\r\n        }\r\n      });\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style>\r\n.yao {\r\n  margin-left: -75px !important;\r\n}\r\n</style>\r\n","import mod from \"-!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../../node_modules/babel-loader/lib/index.js!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./editData.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../../node_modules/babel-loader/lib/index.js!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./editData.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./editData.vue?vue&type=template&id=587e7557&\"\nimport script from \"./editData.vue?vue&type=script&lang=js&\"\nexport * from \"./editData.vue?vue&type=script&lang=js&\"\nimport style0 from \"./editData.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <div class=\"user\">\r\n    <div class=\"block-quote\">\r\n      <el-form :inline=\"true\">\r\n        <el-form-item style=\"float: right\">\r\n          <el-button type=\"primary\" @click=\"add\">添加</el-button>\r\n        </el-form-item>\r\n      </el-form>\r\n    </div>\r\n    <page-table\r\n      ref=\"dataTable\"\r\n      :data=\"userList\"\r\n      @changeCurrentPage=\"changeCurrent\"\r\n    >\r\n      <el-table-column label=\"序号\" align=\"center\">\r\n        <template slot-scope=\"scope\">\r\n          <span>{{\r\n            (page.currentPage - 1) * page.pageSize + scope.$index + 1\r\n          }}</span>\r\n        </template>\r\n      </el-table-column>\r\n\r\n      <el-table-column prop=\"uid\" label=\"用户ID\" align=\"center\">\r\n      </el-table-column>\r\n      <el-table-column prop=\"username\" label=\"用户名称\" align=\"center\">\r\n      </el-table-column>\r\n      <el-table-column label=\"限购套餐\" align=\"center\">\r\n        <template slot-scope=\"scope\">\r\n          <el-link v-if=\"scope.row.type == 1\" @click=\"show(2, scope.row)\"\r\n            >套餐一</el-link\r\n          >\r\n          <el-link v-if=\"scope.row.type == 2\" @click=\"show(2, scope.row)\"\r\n            >套餐二</el-link\r\n          >\r\n          <el-link v-if=\"scope.row.type == 3\" @click=\"show(2, scope.row)\"\r\n            >套餐三</el-link\r\n          >\r\n        </template>\r\n      </el-table-column>\r\n\r\n      <el-table-column label=\"购买状态\" align=\"center\">\r\n        <template slot-scope=\"scope\">\r\n          <el-link type=\"success\" v-if=\"scope.row.is_buy == 20\">已购买</el-link>\r\n          <el-link type=\"warning\" v-if=\"scope.row.is_buy == 10\">未购买</el-link>\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column label=\"操作\" align=\"center\" width=\"350\">\r\n        <template slot-scope=\"scope\">\r\n          <el-link\r\n            type=\"danger\"\r\n            style=\"margin-left: 10px\"\r\n            @click=\"deleteData(scope.row)\"\r\n            >删除</el-link\r\n          >\r\n        </template>\r\n      </el-table-column>\r\n    </page-table>\r\n    <!-- 新增编辑弹窗 -->\r\n    <edit-data ref=\"editData\" />\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { goodschooseindex, goodschoosedel } from \"@/request/api\";\r\nimport { checkPermission } from \"@/utils/permissions\";\r\nimport pageTable from \"@/components/pageTable.vue\";\r\n\r\nimport editData from \"./components/editData.vue\";\r\n\r\nexport default {\r\n  name: \"user\",\r\n  components: {\r\n    pageTable,\r\n    editData,\r\n  },\r\n  data() {\r\n    return {\r\n      userList: [], // 列表\r\n      page: {\r\n        //分页信息\r\n        currentPage: 1, //当前页\r\n        pageSize: 10, //每页条数\r\n        total: 0, //总条数\r\n      },\r\n    };\r\n  },\r\n  watch: {},\r\n  created() {\r\n    this.getUserList(); //获取用户列表\r\n  },\r\n  mounted() {},\r\n  computed: {},\r\n  methods: {\r\n    add() {\r\n      this.$refs.editData.show(1, {});\r\n    },\r\n    show(row, type) {\r\n      console.log(type);\r\n      this.$refs.editData.show(2, {});\r\n    },\r\n    deleteData(row) {\r\n      this.$confirm(\"是否删除此信息？\", \"提示\", {\r\n        type: \"warning\",\r\n      })\r\n        .then(async () => {\r\n          let id = row.id;\r\n\r\n          let params = {\r\n            token: sessionStorage.getItem(\"token\"),\r\n            id: row.id,\r\n          };\r\n          goodschoosedel(params).then((res) => {\r\n            //console.log(res.data);\r\n            if (res.data.code == 200) {\r\n              this.getUserList();\r\n              this.$message.success(\"删除成功\");\r\n            } else {\r\n              this.$message.error(res.data.msg);\r\n            }\r\n          });\r\n        })\r\n        .catch(() => {});\r\n    },\r\n\r\n    checkPermission,\r\n    // 切换分页\r\n    changeCurrent(page, size) {\r\n      this.page.currentPage = page;\r\n      this.page.pageSize = size;\r\n      this.getUserList();\r\n    },\r\n    getUserList() {\r\n      let token = sessionStorage.getItem(\"token\");\r\n      this.token = token;\r\n      let params = {\r\n        page: this.page.currentPage,\r\n        limit: this.page.pageSize,\r\n        token: sessionStorage.getItem(\"token\"),\r\n      };\r\n      goodschooseindex(params).then((res) => {\r\n        this.page.total = res.data.count;\r\n        this.userList = res.data.data;\r\n        this.$refs.dataTable.setPageInfo({\r\n          total: this.page.total,\r\n        });\r\n      });\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n</style>\r\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=1ce619a4&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"1ce619a4\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./editData.vue?vue&type=style&index=0&lang=css&\""],"sourceRoot":""}