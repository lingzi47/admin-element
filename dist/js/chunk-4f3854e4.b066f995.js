(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4f3854e4"],{"12ad":function(e,t,a){"use strict";a("8a6c")},2409:function(e,t,a){},"2ad8":function(e,t,a){},"408a":function(e,t,a){var l=a("e330");e.exports=l(1..valueOf)},5899:function(e,t){e.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"58a8":function(e,t,a){var l=a("e330"),i=a("1d80"),r=a("577e"),s=a("5899"),o=l("".replace),n="["+s+"]",u=RegExp("^"+n+n+"*"),c=RegExp(n+n+"*$"),p=function(e){return function(t){var a=r(i(t));return 1&e&&(a=o(a,u,"")),2&e&&(a=o(a,c,"")),a}};e.exports={start:p(1),end:p(2),trim:p(3)}},"615c":function(e,t,a){"use strict";a.r(t);var l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"user"},[a("div",{staticClass:"block-quote"},[a("el-form",{attrs:{inline:!0}},[a("el-form-item",{attrs:{label:"设备租赁号",prop:"name"}},[a("el-input",{staticStyle:{width:"180px"},attrs:{clearable:"",placeholder:"请输入设备租赁号"},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}})],1),a("el-form-item",{attrs:{label:"推荐人id",prop:"use_pid"}},[a("el-input",{staticStyle:{width:"180px"},attrs:{clearable:"",placeholder:"请输入推荐人id"},model:{value:e.use_pid,callback:function(t){e.use_pid=t},expression:"use_pid"}})],1),a("el-form-item",{attrs:{label:"租赁人id",prop:"use_pid"}},[a("el-input",{staticStyle:{width:"180px"},attrs:{clearable:"",placeholder:"请输入租赁人id"},model:{value:e.uid,callback:function(t){e.uid=t},expression:"uid"}})],1),a("el-form-item",{attrs:{label:"推荐人租赁号",prop:"pid"}},[a("el-input",{staticStyle:{width:"180px"},attrs:{clearable:"",placeholder:"请输入推荐人租赁号"},model:{value:e.pid,callback:function(t){e.pid=t},expression:"pid"}})],1),a("el-form-item",{attrs:{label:"购买服务",prop:"box_type"}},[a("el-select",{staticStyle:{width:"150px"},attrs:{placeholder:"请选择"},model:{value:e.box_type,callback:function(t){e.box_type=t},expression:"box_type"}},[a("el-option",{attrs:{label:"全部状态",value:""}}),a("el-option",{attrs:{label:"终身",value:"3"}}),a("el-option",{attrs:{label:"三年",value:"1"}}),a("el-option",{attrs:{label:"五年",value:"2"}})],1)],1),a("el-form-item",{attrs:{label:"租赁号状态",prop:"status"}},[a("el-select",{staticStyle:{width:"150px"},attrs:{placeholder:"请选择"},model:{value:e.status,callback:function(t){e.status=t},expression:"status"}},[a("el-option",{attrs:{label:"全部状态",value:""}}),a("el-option",{attrs:{label:"已绑定",value:"20"}}),a("el-option",{attrs:{label:"排队中",value:"10"}})],1)],1),a("el-form-item",{attrs:{label:"审核状态",prop:"status"}},[a("el-select",{staticStyle:{width:"150px"},attrs:{placeholder:"请选择"},model:{value:e.ex_status,callback:function(t){e.ex_status=t},expression:"ex_status"}},[a("el-option",{attrs:{label:"全部状态",value:""}}),a("el-option",{attrs:{label:"通过",value:"2"}}),a("el-option",{attrs:{label:"待审核",value:"1"}}),a("el-option",{attrs:{label:"拒绝",value:"3"}})],1)],1),a("el-form-item",{attrs:{label:"是否真实购买",prop:"status"}},[a("el-select",{staticStyle:{width:"150px"},attrs:{placeholder:"请选择"},model:{value:e.device_type,callback:function(t){e.device_type=t},expression:"device_type"}},[a("el-option",{attrs:{label:"是",value:"10"}}),a("el-option",{attrs:{label:"否",value:"20"}})],1)],1),a("el-form-item",{staticStyle:{float:"right"}},[a("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:e.searchinfo}},[e._v("搜索")]),a("el-button",{attrs:{type:"primary"},on:{click:e.add}},[e._v("手动添加租赁人")]),a("el-button",{on:{click:e.dao}},[e._v("导出")])],1)],1)],1),a("page-table",{ref:"dataTable",attrs:{data:e.userList},on:{changeCurrentPage:e.changeCurrent}},[a("el-table-column",{attrs:{label:"序号",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s((e.page.currentPage-1)*e.page.pageSize+t.$index+1))])]}}])}),a("el-table-column",{attrs:{prop:"name",label:"设备租赁号",align:"center"}}),a("el-table-column",{attrs:{prop:"box_number",label:"设备编号",align:"center"}}),a("el-table-column",{attrs:{label:"是否真实购买",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[10==t.row.device_type?a("span",[e._v("是")]):e._e(),20==t.row.device_type?a("span",[e._v("否")]):e._e()]}}])}),a("el-table-column",{attrs:{label:"租赁人数",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-link",{on:{click:function(a){return e.handleClick(t.row)}}},[e._v(e._s(t.row.count))])]}}])}),a("el-table-column",{attrs:{label:"推荐人租赁号",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[null==t.row.pid?a("span",[e._v("无")]):a("span",[e._v(e._s(t.row.pid))])]}}])}),a("el-table-column",{attrs:{prop:"use_pid",label:"推荐人",align:"center"}}),a("el-table-column",{attrs:{label:"购买药柜租赁服务",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[1==t.row.box_type?a("span",[e._v("三年")]):e._e(),2==t.row.box_type?a("span",[e._v("五年")]):e._e(),3==t.row.box_type?a("span",[e._v("终身")]):e._e()]}}])}),a("el-table-column",{attrs:{label:"所属团队",align:"center",resizable:!1},scopedSlots:e._u([{key:"default",fn:function(t){return[1==t.row.user_team?a("el-link",[e._v("全国")]):e._e(),2==t.row.user_team?a("el-link",[e._v("大连")]):e._e(),3==t.row.user_team?a("el-link",[e._v("大庆")]):e._e(),5==t.row.user_team?a("el-link",[e._v("本溪")]):e._e(),null==t.row.user_team?a("el-link",{attrs:{type:"danger"}},[e._v("暂无")]):e._e()]}}])}),a("el-table-column",{attrs:{label:"购买区域",align:"center",resizable:!1},scopedSlots:e._u([{key:"default",fn:function(t){return[1==t.row.box_team?a("el-link",[e._v("全国")]):e._e(),2==t.row.box_team?a("el-link",[e._v("大连")]):e._e(),3==t.row.box_team?a("el-link",[e._v("大庆")]):e._e(),4==t.row.box_team?a("el-link",[e._v("北京")]):e._e(),5==t.row.box_team?a("el-link",[e._v("本溪")]):e._e(),null==t.row.box_team?a("el-link",{attrs:{type:"danger"}},[e._v("暂无")]):e._e()]}}])}),a("el-table-column",{attrs:{prop:"queue",label:"队列编号",align:"center"}}),a("el-table-column",{attrs:{prop:"remark",label:"备注",align:"center"}}),a("el-table-column",{attrs:{label:"审核状态",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[2==t.row.ex_status?a("el-link",{attrs:{type:"success"}},[e._v("已通过")]):e._e(),3==t.row.ex_status?a("el-link",{attrs:{type:"danger"}},[e._v("未通过")]):e._e(),1==t.row.ex_status?a("el-link",{attrs:{type:"primary"}},[e._v("待审核")]):e._e()]}}])}),a("el-table-column",{attrs:{label:"状态",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[20==t.row.status?a("el-link",{attrs:{type:"success"}},[e._v("已绑定")]):e._e(),10==t.row.status?a("el-link",{attrs:{type:"danger"}},[e._v("排队中")]):e._e()]}}])}),a("el-table-column",{attrs:{label:"操作",align:"center",width:"350"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-link",{staticStyle:{"margin-left":"10px"},attrs:{type:"primary"},on:{click:function(a){return e.showtable(t.row)}}},[e._v("查看应急箱")]),a("el-link",{staticStyle:{"margin-left":"10px"},attrs:{type:"success"},on:{click:function(a){return e.fenrun(t.row)}}},[e._v("商务团队信息")]),0==t.row.pid&&2==t.row.ex_status?a("el-link",{staticStyle:{"margin-left":"10px"},attrs:{type:"warning"},on:{click:function(a){return e.addup(1,t.row)}}},[e._v("绑定上级")]):e._e()]}}])})],1),a("el-dialog",{attrs:{title:"账户信息",visible:e.dialogVisible,width:"600px","close-on-click-modal":!1},on:{"update:visible":function(t){e.dialogVisible=t},close:e.close}},[a("el-table",{ref:"dataTable",attrs:{data:e.List,border:""}},[a("el-table-column",{attrs:{label:"序号",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s((e.page.currentPage-1)*e.page.pageSize+t.$index+1))])]}}])}),a("el-table-column",{attrs:{prop:"uid",label:"用户id",align:"center"}}),a("el-table-column",{attrs:{prop:"phone",label:"联系方式",align:"center"}}),a("el-table-column",{attrs:{prop:"share",label:"分润占比",align:"center"}}),a("el-table-column",{attrs:{label:"操作",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){return e.edit(t.row)}}},[e._v("编辑")])]}}])})],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.submitForm}},[e._v("确认")])],1)],1),a("el-dialog",{attrs:{title:"信息修改",visible:e.Visible,width:"600px","close-on-click-modal":!1},on:{"update:visible":function(t){e.Visible=t},close:e.closee}},[a("el-form",{ref:"Form",attrs:{rules:e.rules,"label-width":"auto",model:e.Form}},[a("el-row",{attrs:{gutter:24}},[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"用户id:",prop:"uid"}},[a("el-input",{staticStyle:{width:"180px"},attrs:{disabled:"",placeholder:"请输入"},model:{value:e.Form.uid,callback:function(t){e.$set(e.Form,"uid",t)},expression:"Form.uid"}})],1)],1),a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"联系方式:",prop:"phone"}},[a("el-input",{staticStyle:{width:"180px"},attrs:{placeholder:"请输入"},model:{value:e.Form.phone,callback:function(t){e.$set(e.Form,"phone",t)},expression:"Form.phone"}})],1)],1),a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"分润占比:",prop:"share"}},[a("el-select",{staticStyle:{width:"100px"},attrs:{disabled:"",placeholder:"请选择"},model:{value:e.Form.share,callback:function(t){e.$set(e.Form,"share",t)},expression:"Form.share"}},[a("el-option",{attrs:{label:"12.5%",value:"12.50"}}),a("el-option",{attrs:{label:"25%",value:"25.00"}}),a("el-option",{attrs:{label:"50%",value:"50.00"}}),a("el-option",{attrs:{label:"100%",value:"100.00"}})],1)],1)],1)],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:e.closee}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:e.submit}},[e._v("确 定")])],1)],1),a("edit-data",{ref:"editData"}),a("fen-run",{ref:"fenRun"}),a("up-set",{ref:"upSet"})],1)},i=[],r=a("ade3"),s=(a("b0c0"),a("e9c4"),a("fd03")),o=a("bade"),n=a("e3d9"),u=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-dialog",{staticClass:"AddDialog",attrs:{title:"新增",visible:e.dialogVisible,width:"1000px",hegiht:"1000px","close-on-click-modal":!1},on:{"update:visible":function(t){e.dialogVisible=t},close:e.close}},[a("el-form",{ref:"ruleForm",attrs:{model:e.ruleForm,rules:e.rules,"label-width":"auto"}},[a("el-row",{attrs:{gutter:25}},[a("el-col",{attrs:{span:20}},[a("el-form-item",{attrs:{label:"购买类型",prop:"type"}},[a("el-select",{staticStyle:{width:"150px"},attrs:{placeholder:"请选择"},model:{value:e.ruleForm.type,callback:function(t){e.$set(e.ruleForm,"type",t)},expression:"ruleForm.type"}},[a("el-option",{attrs:{label:"单人购买",value:"1"}}),a("el-option",{attrs:{label:"多人购买",value:"2"}})],1)],1)],1),a("el-col",{attrs:{span:20}},[a("el-form-item",{attrs:{label:"区域选择",prop:"box_team"}},[a("el-select",{staticStyle:{width:"150px"},attrs:{placeholder:"请选择"},model:{value:e.ruleForm.box_team,callback:function(t){e.$set(e.ruleForm,"box_team",t)},expression:"ruleForm.box_team"}},[a("el-option",{attrs:{label:"全国",value:"1"}}),a("el-option",{attrs:{label:"大连",value:"2"}}),a("el-option",{attrs:{label:"大庆",value:"3"}}),a("el-option",{attrs:{label:"北京",value:"4"}}),a("el-option",{attrs:{label:"本溪",value:"5"}})],1)],1)],1),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"推荐人设备租赁号",prop:"pid"}},[a("el-input",{staticStyle:{width:"180px"},attrs:{disabled:e.isDisable,placeholder:"请输入设备租赁号"},model:{value:e.ruleForm.pid,callback:function(t){e.$set(e.ruleForm,"pid",t)},expression:"ruleForm.pid"}})],1)],1),a("el-col",{attrs:{span:10}},[a("el-form-item",{staticClass:"xian"},[a("el-checkbox",{on:{change:e.checked},model:{value:e.check,callback:function(t){e.check=t},expression:"check"}},[e._v("无推荐人")]),e._v("（外埠市场请选择无推荐人) ")],1)],1),0!==e.ruleForm.pid?a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"推荐人id",prop:"use_pid"}},[a("el-select",{staticStyle:{width:"230px"},attrs:{clearable:"",filterable:"",placeholder:"请选择推荐人id"},model:{value:e.ruleForm.use_pid,callback:function(t){e.$set(e.ruleForm,"use_pid",t)},expression:"ruleForm.use_pid"}},e._l(e.arr,(function(e){return a("el-option",{key:e.uid,attrs:{value:e.uid,label:e.uid}})})),1)],1)],1):e._e(),a("el-col",{attrs:{span:10}},[1==e.ruleForm.type?a("el-form-item",{attrs:{label:"租赁商id",prop:"uid"}},[a("el-input",{staticStyle:{width:"180px"},attrs:{placeholder:"请输入租赁人用户id"},model:{value:e.ruleForm.uid,callback:function(t){e.$set(e.ruleForm,"uid",t)},expression:"ruleForm.uid"}})],1):e._e()],1),a("el-col",{attrs:{span:10}},[1==e.ruleForm.type?a("el-form-item",{attrs:{label:"租赁人手机号",prop:"tel"}},[a("el-input",{staticStyle:{width:"180px"},attrs:{placeholder:"请输入租赁人手机号"},model:{value:e.ruleForm.tel,callback:function(t){e.$set(e.ruleForm,"tel",t)},expression:"ruleForm.tel"}})],1):e._e()],1),2==e.ruleForm.type?a("el-col",{staticStyle:{"margin-left":"-57px"}},e._l(e.list,(function(t,l){return a("el-form-item",{key:l,attrs:{prop:"tel"}},[a("span",[e._v("账号"+e._s(l+1))]),e._v(" 租赁商id: "),a("el-input",{staticStyle:{width:"100px"},attrs:{placeholder:"请输入"},model:{value:t.uid,callback:function(a){e.$set(t,"uid",a)},expression:"v.uid"}}),e._v(" 分润占比: "),a("el-select",{staticStyle:{width:"100px"},attrs:{placeholder:"请选择"},model:{value:t.bl,callback:function(a){e.$set(t,"bl",a)},expression:"v.bl"}},[a("el-option",{attrs:{label:"12.5%",value:"12.5"}}),a("el-option",{attrs:{label:"25%",value:"25"}}),a("el-option",{attrs:{label:"50%",value:"50"}})],1),e._v(" 手机号: "),a("el-input",{staticStyle:{width:"150px"},attrs:{placeholder:"请输入"},on:{blur:function(a){return e.checkRight(t)}},model:{value:t.tel,callback:function(a){e.$set(t,"tel",a)},expression:"v.tel"}}),l==e.list.length-1&&l<=6?a("el-button",{staticStyle:{"margin-left":"10px"},attrs:{type:"primary",size:"mini"},on:{click:e.insert}},[e._v("+")]):e._e(),1!==l&&l==e.list.length-1?a("el-button",{attrs:{type:"danger",size:"mini"},on:{click:function(t){return e.remove(l)}}},[e._v("-")]):e._e()],1)})),1):e._e(),a("el-col",{attrs:{span:10}},[a("el-form-item",{attrs:{label:"购买服务",prop:"box_type"}},[a("el-select",{staticStyle:{width:"150px"},attrs:{placeholder:"请选择"},model:{value:e.ruleForm.box_type,callback:function(t){e.$set(e.ruleForm,"box_type",t)},expression:"ruleForm.box_type"}},[a("el-option",{attrs:{label:"三年",value:"1"}}),a("el-option",{attrs:{label:"五年",value:"2"}}),a("el-option",{attrs:{label:"终身",value:"3"}})],1)],1)],1),a("el-col",{attrs:{span:10}},[a("el-form-item",{attrs:{label:"是否真实购买",prop:"device_type"}},[a("el-select",{staticStyle:{width:"150px"},attrs:{placeholder:"请选择"},model:{value:e.ruleForm.device_type,callback:function(t){e.$set(e.ruleForm,"device_type",t)},expression:"ruleForm.device_type"}},[a("el-option",{attrs:{label:"是",value:"10"}}),a("el-option",{attrs:{label:"否",value:"20"}})],1)],1)],1),a("el-col",{attrs:{span:20}},[a("el-form-item",{attrs:{label:"备注"}},[a("el-input",{staticStyle:{width:"180px"},attrs:{placeholder:"请输入备注"},model:{value:e.ruleForm.remark,callback:function(t){e.$set(e.ruleForm,"remark",t)},expression:"ruleForm.remark"}})],1)],1)],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogVisible=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:e.submitForm}},[e._v("确 定")])],1)],1)],1)},c=[],p=a("1da1"),d=(a("96cf"),a("ac1f"),a("00b4"),a("a434"),a("99af"),a("d3b7"),a("159b"),a("a9e3"),{name:"AddDialog",components:{},data:function(){return{id:"",check:!1,token:"",arr:[],uid:"",bl:"",kshow:!0,tel:"",isDisable:!1,type:"",dialogVisible:!1,list:[{uid:"",tel:"",bl:""},{uid:"",tel:"",bl:""}],user:{uid:"",tel:"",bl:""},ruleForm:{uid:"",tel:"",use_pid:"",type:"",remark:"",box_type:"",device_type:"",pid:"",box_team:""},rules:{type:[{required:!0,message:"请选择购买类型",trigger:"blur"}],use_pid:[{required:!0,message:"请选择推荐人id",trigger:"blur"}],remark:[{required:!0,message:"请输入备注",trigger:"blur"}],box_team:[{required:!0,message:"请选择地区",trigger:"blur"}],uid:[{required:!0,message:"请输入租赁人用户id",trigger:"blur"}],tel:[{required:!1,message:"请输入租赁人手机号",trigger:"blur"},{pattern:/^1[3456789]\d{9}$/,message:"手机号格式不正确",trigger:"blur"}],box_type:[{required:!0,message:"请选择购买服务",trigger:"blur"}],device_type:[{required:!0,message:"请选择是否真实购买",trigger:"blur"}],pid:[{required:!0,message:"请输入设备租赁号",trigger:"blur"}]}}},watch:{"ruleForm.pid":function(e){this.huoopin()}},created:function(){},mounted:function(){},methods:{checkRight:function(e){var t=e.tel,a=/^1[3456789]\d{9}$/;0==a.test(t)&&this.$message.error("手机号错误")},insert:function(){this.user={uid:"",tel:"",bl:""},this.list.push(this.user)},remove:function(e){this.list.splice(e,1)},huoopin:function(){var e=this,t={token:sessionStorage.getItem("token"),name:this.ruleForm.pid};Object(s["T"])(t).then((function(t){e.arr=t.data.data}))},show:function(e,t){this.dialogVisible=!0},close:function(){this.dialogVisible=!1,this.ruleForm.pid="",this.ruleForm.use_pid="",this.ruleForm.remark="",this.ruleForm.tel="",this.ruleForm.box_team="",this.ruleForm.box_type="",this.list=[{uid:"",tel:"",bl:""},{uid:"",tel:"",bl:""}],this.ruleForm.uid="",this.ruleForm.device_type="",this.isDisable=!1,this.check=!1},checked:function(e){this.events=e,1==e?(this.isDisable=!0,this.ruleForm.pid=0):(this.isDisable=!1,this.ruleForm.pid="")},go:function(){this.$router.back()},submitForm:function(){var e=this;this.$refs.ruleForm.validate(function(){var t=Object(p["a"])(regeneratorRuntime.mark((function t(a){var l,i,r,o,n,u,c,p,d,b;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!a){t.next=24;break}if(1!=e.ruleForm.type){t.next=6;break}l={token:sessionStorage.getItem("token"),uid:e.ruleForm.uid,remark:e.ruleForm.remark,tel:e.ruleForm.tel,box_type:e.ruleForm.box_type,pid:e.ruleForm.pid,use_pid:e.ruleForm.use_pid,device_type:e.ruleForm.device_type,box_team:e.ruleForm.box_team,str:e.ruleForm.uid.concat(",").concat(e.ruleForm.tel).concat(",").concat(100)},Object(s["h"])(l).then((function(t){200==t.data.code?(e.$message.success("新增成功"),e.$parent.getUserList(),e.close(),e.isDisable=!1,e.check=!1):(e.$message.error(t.data.msg),e.$parent.getUserList(),e.close(),e.isDisable=!1,e.check=!1)})),t.next=22;break;case 6:if(i=e,r=i.list.every((function(e){return!!e.uid})),o=i.list.every((function(e){return!!e.tel})),n=i.list.every((function(e){return!!e.bl})),r){t.next=13;break}return e.$message.error("租赁商id不能为空"),t.abrupt("return");case 13:if(o){t.next=16;break}return e.$message.error("手机号不能为空"),t.abrupt("return");case 16:if(n){t.next=19;break}return e.$message.error("分润占比不能为空"),t.abrupt("return");case 19:if(u=0,e.list.forEach((function(e){u+=Number(e.bl)})),100===u){for(c="",p=0;p<e.list.length;p++)c+=e.list[p].uid+","+e.list[p].tel+","+e.list[p].bl+"&&";d=c.substring(0,c.length-2),b={token:sessionStorage.getItem("token"),uid:e.list[0].uid,tel:e.list[0].tel,box_type:e.ruleForm.box_type,pid:e.ruleForm.pid,remark:e.ruleForm.remark,use_pid:e.ruleForm.use_pid,device_type:e.ruleForm.device_type,box_team:e.ruleForm.box_team,str:d},Object(s["h"])(b).then((function(t){200==t.data.code?(e.$message.success("新增成功"),e.$parent.getUserList(),e.close(),e.isDisable=!1,e.check=!1):(e.$message.error(t.data.msg),e.$parent.getUserList(),e.close(),e.isDisable=!1,e.check=!1)}))}else u<=100?e.$message.error("分润占比总和不能小于100%"):e.$message.error("分润占比总和不能超过100%");case 22:t.next=25;break;case 24:return t.abrupt("return",!1);case 25:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}}}),b=d,m=(a("b6ce"),a("2877")),h=Object(m["a"])(b,u,c,!1,null,null,null),g=h.exports,f=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-dialog",{staticClass:"AddDialog",attrs:{title:"商务团队信息",visible:e.dialogVisible,width:"800px",hegiht:"1000px","close-on-click-modal":!1},on:{"update:visible":function(t){e.dialogVisible=t},close:e.close}},[a("el-button",{staticStyle:{margin:"10px 10px 10px 10px"},attrs:{type:"primary"},on:{click:function(t){return e.go()}}},[e._v("返回")]),a("el-table",{ref:"dataTable",attrs:{data:e.userList,border:""}},[a("el-table-column",{attrs:{label:"序号",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s((e.page.currentPage-1)*e.page.pageSize+t.$index+1))])]}}])}),a("el-table-column",{attrs:{prop:"box_pid_uid",label:"推荐人id",align:"center"}}),a("el-table-column",{attrs:{prop:"box_pid",label:"推荐人设备租赁号",align:"center"}}),a("el-table-column",{attrs:{prop:"box_id",label:"设备租赁号",align:"center"}}),a("el-table-column",{attrs:{label:"租赁商id",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return e._l(t.row.userinfo,(function(l,i){return a("el-link",{key:i,staticStyle:{"margin-left":"10px"},on:{click:function(a){return e.nextUser(l,t.row)}}},[e._v(e._s(l))])}))}}])})],1)],1)],1)},_=[],v=(a("25f0"),a("fb6a"),{name:"AddDialog",components:{pageTable:n["a"]},data:function(){return{name:"",uid:"",arr:[],arr1:[],box_pid_uid:"",pid:"",dialogVisible:!1,page:{currentPage:1,pageSize:10,total:0},userList:[{setid:"1",sevid:"11",uid:"2",phone:110}]}},created:function(){},mounted:function(){},methods:{nextUser:function(e,t){console.log(e),this.box_pid_uid=e,this.box_pid=t.box_id;var a=[],l=[];a.push(t.box_pid_uid),l.push(t.box_pid),this.arr.push(a),this.arr1.push(l),console.log(this.arr),console.log(this.arr1),this.getUserList()},go:function(){if(this.arr.length<1)console.log("我不显示"),this.dialogVisible=!1;else{var e=this.arr[this.arr.length-1];this.box_pid_uid=e.toString(),console.log(this.box_pid_uid);var t=this.arr1[this.arr1.length-1];this.box_pid=t.toString(),console.log(this.box_pid),this.getUserList();var a=this.arr.slice(0);a.splice(a.length-1,1);var l=this.arr1.slice(0);l.splice(l.length-1,1)}this.arr=a,this.arr1=l},show:function(e){console.log(e),this.dialogVisible=!0,this.box_pid=e.name,this.getUserList()},close:function(){this.dialogVisible=!1,this.arr=[],this.arr1=[]},changeCurrent:function(e,t){this.page.currentPage=e,this.page.pageSize=t,this.getUserList()},getUserList:function(){var e=this,t=sessionStorage.getItem("token");this.token=t;var a={token:sessionStorage.getItem("token"),box_pid:this.box_pid,box_pid_uid:this.box_pid_uid};Object(s["Ud"])(a).then((function(t){e.userList=t.data.data}))},showtable:function(){}}}),x=v,y=(a("741c"),Object(m["a"])(x,f,_,!1,null,null,null)),k=y.exports,F=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-dialog",{staticClass:"AddDialog",attrs:{title:1==this.type?"绑定上级":"修改上级",visible:e.dialogVisible,width:"800px",hegiht:"1000px","close-on-click-modal":!1},on:{"update:visible":function(t){e.dialogVisible=t},close:e.close}},[a("el-form",{ref:"goodsForm",attrs:{rules:e.rules,"label-width":"auto",model:e.goodsForm}},[a("el-row",{attrs:{gutter:24}},[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"推荐人设备租赁号",prop:"device_num"}},[a("el-input",{staticStyle:{width:"180px"},attrs:{placeholder:"请输入设备租赁号"},model:{value:e.goodsForm.device_num,callback:function(t){e.$set(e.goodsForm,"device_num",t)},expression:"goodsForm.device_num"}})],1)],1)],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogVisible=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:e.submitForm}},[e._v("确 定")])],1)],1)],1)},w=[],S={name:"AddDialog",components:{},data:function(){return{id:"",check:"",token:"",setid:"",type:"",dialogVisible:!1,goodsForm:{device_num:""},uid:"",rules:{device_num:[{required:!0,message:"请输入设备租赁号",trigger:"blur"}]}}},created:function(){},mounted:function(){},methods:{show:function(e,t){console.log(e),this.type=e,console.log(t),this.id=t.id,this.dialogVisible=!0},close:function(){this.dialogVisible=!1},go:function(){this.$router.back()},submitForm:function(){var e=this,t=sessionStorage.getItem("token");this.token=t;var a={token:sessionStorage.getItem("token"),id:this.id,device:this.device_num};Object(s["Rd"])(a).then((function(t){200==t.data.code?(e.$message.success("成功"),e.$parent.getUserList(),e.close()):(e.$message.error(t.data.msg),e.$parent.getUserList(),e.close())}))}}},$=S,O=(a("dc1a"),Object(m["a"])($,F,w,!1,null,null,null)),N=O.exports,V={name:"user",components:{pageTable:n["a"],editData:g,fenRun:k,upSet:N},data:function(){var e;return e={dialogVisible:!1,Visible:!1,name:"",uid:"",pid:"",use_pid:""},Object(r["a"])(e,"uid",""),Object(r["a"])(e,"box_type",""),Object(r["a"])(e,"box_name",""),Object(r["a"])(e,"status",""),Object(r["a"])(e,"ex_status",""),Object(r["a"])(e,"device_type",""),Object(r["a"])(e,"buy_time",""),Object(r["a"])(e,"userList",[]),Object(r["a"])(e,"List",[]),Object(r["a"])(e,"Form",{id:"",uid:"",phone:"",share:""}),Object(r["a"])(e,"page",{currentPage:1,pageSize:10,total:0}),Object(r["a"])(e,"rules",{phone:[{required:!0,message:"请输入手机号",trigger:"blur"},{pattern:/^1[3456789]\d{9}$/,message:"手机号格式不正确",trigger:"blur"}],share:[{required:!0,message:"请选择分润占比",trigger:"blur"}]}),e},watch:{buy_time:function(e){null==e&&(this.buy_time=[])}},created:function(){this.getUserList()},mounted:function(){},computed:{},methods:{dao:function(){window.location.href="https://yujian02.xyz/admin/box/exportList?token="+this.token+"&name="+this.name+"&pid="+this.pid+"&box_type="+this.box_type+"&use_pid="+this.use_pid+"&status="+this.status+"&device_type="+this.device_type+"&ex_status="+this.ex_status},submit:function(){var e=this,t={id:this.Form.id,phone:this.Form.phone,share:this.Form.share,token:sessionStorage.getItem("token")};Object(s["Id"])(t).then((function(t){200==t.data.code?(e.$message.success("编辑成功"),e.closee(),e.dialogVisible=!0,e.getList()):(e.$message.error(t.data.msg),e.closee(),e.dialogVisible=!0,e.getList())}))},closee:function(){this.Form.id="",this.Form.uid="",this.Form.phone="",this.Form.share="",this.Visible=!1,this.dialogVisible=!0},edit:function(e){this.Form.id=e.id,this.Form.uid=e.uid,this.Form.phone=e.phone,this.Form.share=e.share,this.Visible=!0},handleClick:function(e){this.box_name=e.name,this.getList()},getList:function(){var e=this,t={token:sessionStorage.getItem("token"),box_name:this.box_name};Object(s["Gd"])(t).then((function(t){e.List=t.data.data})),this.dialogVisible=!0},submitForm:function(){this.dialogVisible=!1},close:function(){this.dialogVisible=!1},add:function(){this.$refs.editData.show(1,{})},addup:function(e,t){var a=t;this.$refs.upSet.show(1,JSON.parse(JSON.stringify(a)))},setup:function(e,t){var a=t;this.$refs.upSet.show(2,JSON.parse(JSON.stringify(a)))},fenrun:function(e){var t=e;this.$refs.fenRun.show(JSON.parse(JSON.stringify(t)))},showtable:function(e){this.$router.push({path:"/showtable",query:{row:e}})},checkPermission:o["a"],changeCurrent:function(e,t){this.page.currentPage=e,this.page.pageSize=t,this.getUserList()},searchinfo:function(){var e=this,t=sessionStorage.getItem("token");this.token=t;var a={page:1,limit:this.page.pageSize,token:sessionStorage.getItem("token"),name:this.name,pid:this.pid,box_type:this.box_type,uid:this.uid,use_pid:this.use_pid,status:this.status,ex_status:this.ex_status,device_type:this.device_type};Object(s["Db"])(a).then((function(t){e.page.total=t.data.count,e.userList=t.data.data,e.$refs.dataTable.setPageInfo({total:e.page.total})}))},getUserList:function(){var e=this,t=sessionStorage.getItem("token");this.token=t;var a={page:this.page.currentPage,limit:this.page.pageSize,token:sessionStorage.getItem("token"),name:this.name,pid:this.pid,box_type:this.box_type,uid:this.uid,use_pid:this.use_pid,status:this.status,ex_status:this.ex_status,device_type:this.device_type};Object(s["Db"])(a).then((function(t){e.page.total=t.data.count,e.userList=t.data.data,e.$refs.dataTable.setPageInfo({total:e.page.total})}))}}},I=V,L=Object(m["a"])(I,l,i,!1,null,"77220145",null);t["default"]=L.exports},"741c":function(e,t,a){"use strict";a("2409")},"8a6c":function(e,t,a){},"8ac6":function(e,t,a){},a9e3:function(e,t,a){"use strict";var l=a("83ab"),i=a("da84"),r=a("e330"),s=a("94ca"),o=a("6eeb"),n=a("1a2d"),u=a("7156"),c=a("3a9b"),p=a("d9b5"),d=a("c04e"),b=a("d039"),m=a("241c").f,h=a("06cf").f,g=a("9bf2").f,f=a("408a"),_=a("58a8").trim,v="Number",x=i[v],y=x.prototype,k=i.TypeError,F=r("".slice),w=r("".charCodeAt),S=function(e){var t=d(e,"number");return"bigint"==typeof t?t:$(t)},$=function(e){var t,a,l,i,r,s,o,n,u=d(e,"number");if(p(u))throw k("Cannot convert a Symbol value to a number");if("string"==typeof u&&u.length>2)if(u=_(u),t=w(u,0),43===t||45===t){if(a=w(u,2),88===a||120===a)return NaN}else if(48===t){switch(w(u,1)){case 66:case 98:l=2,i=49;break;case 79:case 111:l=8,i=55;break;default:return+u}for(r=F(u,2),s=r.length,o=0;o<s;o++)if(n=w(r,o),n<48||n>i)return NaN;return parseInt(r,l)}return+u};if(s(v,!x(" 0o1")||!x("0b1")||x("+0x1"))){for(var O,N=function(e){var t=arguments.length<1?0:x(S(e)),a=this;return c(y,a)&&b((function(){f(a)}))?u(Object(t),a,N):t},V=l?m(x):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,isFinite,isInteger,isNaN,isSafeInteger,parseFloat,parseInt,fromString,range".split(","),I=0;V.length>I;I++)n(x,O=V[I])&&!n(N,O)&&g(N,O,h(x,O));N.prototype=y,y.constructor=N,o(i,v,N)}},b6ce:function(e,t,a){"use strict";a("2ad8")},bade:function(e,t,a){"use strict";a.d(t,"a",(function(){return i}));a("d3b7"),a("caad"),a("2532");var l=a("4360");function i(e){var t=l["a"].getters.permissions;if(e)if("string"===typeof e||e instanceof String){if(-1!=t.indexOf(e))return!0}else if(e instanceof Array&&e.length>0){var a=e;return t.some((function(e){return a.includes(e)}))}return!1}},dc1a:function(e,t,a){"use strict";a("8ac6")},e3d9:function(e,t,a){"use strict";var l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"page-table"},[a("el-table",e._g(e._b({ref:"pageTable",attrs:{data:e.data,border:"",stripe:""}},"el-table",e.$attrs,!1),e.$listeners),[e._t("default")],2),a("div",{directives:[{name:"show",rawName:"v-show",value:e.paging,expression:"paging"}],staticClass:"page-pagination"},[a("el-pagination",e._g(e._b({attrs:{"current-page":e.currPage,"page-size":e.pageNum,total:e.totalNum,"page-sizes":[10,15,20,50,100],layout:"total, sizes, prev, pager, next, jumper"},on:{"size-change":e.changePageSize,"current-change":e.changePageCurrent}},"el-pagination",e.$attrs,!1),e.$listeners))],1)],1)},i=[],r=(a("a9e3"),{name:"PageTable",props:{data:{type:Array,require:!0,default:function(e){return[]}},paging:{type:Boolean,default:!0},currentPage:{type:Number,default:1},pageSize:{type:Number,default:10},total:{type:Number,default:0}},data:function(){return{currPage:this.currentPage,pageNum:this.pageSize,totalNum:this.total,selectData:[]}},created:function(){},mounted:function(){},computed:{},watch:{},methods:{setPageInfo:function(e){this.totalNum=e.total},changePageSize:function(e){this.pageNum=e,this.currPage=1,this.$emit("changeCurrentPage",1,e)},changePageCurrent:function(e){this.currPage=e,this.$emit("changeCurrentPage",e,this.pageNum)}}}),s=r,o=(a("12ad"),a("2877")),n=Object(o["a"])(s,l,i,!1,null,null,null);t["a"]=n.exports}}]);
//# sourceMappingURL=chunk-4f3854e4.b066f995.js.map