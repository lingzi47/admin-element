{"remainingRequest":"C:\\Users\\Administrator\\Desktop\\1\\预见未来后台管理系统\\后台\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\Administrator\\Desktop\\1\\预见未来后台管理系统\\后台\\src\\utils\\request.js","dependencies":[{"path":"C:\\Users\\Administrator\\Desktop\\1\\预见未来后台管理系统\\后台\\src\\utils\\request.js","mtime":1656985037729},{"path":"C:\\Users\\Administrator\\Desktop\\1\\预见未来后台管理系统\\后台\\babel.config.js","mtime":1646805521000},{"path":"C:\\Users\\Administrator\\Desktop\\1\\预见未来后台管理系统\\后台\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Administrator\\Desktop\\1\\预见未来后台管理系统\\后台\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCBheGlvcyBmcm9tICdheGlvcyc7CmltcG9ydCB7IExvYWRpbmcgfSBmcm9tICJlbGVtZW50LXVpIjsKaW1wb3J0IHN0b3JlIGZyb20gJ0Avc3RvcmUnOyAvLyBjb25zb2xlLmxvZyhwcm9jZXNzLmVudi5OT0RFX0VOVikKLy8gY29uc29sZS5sb2cocHJvY2Vzcy5lbnYuVlVFX0FQUF9CQVNFX1VSTCkKCi8qIGlmKHByb2Nlc3MuZW52Lk5PREVfRU5WID09ICJkZXZlbG9wbWVudCIpewoJLy/lvIDlj5Hnjq/looMKfWVsc2UgaWYocHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT0gInRlc3QiKXsKCS8v5rWL6K+V546v5aKDCn1lbHNlewoJLy/nlJ/kuqfnjq/looMKfSAqLwovLyBsZXQgYmFzZVVSTCA9IHByb2Nlc3MuZW52LlZVRV9BUFBfQkFTRV9VUkwKCnZhciBiYXNlVVJMID0gJy9hcGknOyAvLyBjb25zb2xlLmxvZyhiYXNlVVJMKTsKCnZhciBzZXJ2aWNlID0gYXhpb3MuY3JlYXRlKHsKICBiYXNlVVJMOiAnYmFzZVVSTCcsCiAgdGltZW91dDogNTAwMCAvLyDor7fmsYLotoXml7bml7bpl7QKCn0pOwp2YXIgbG9hZGluZ0luc3RhbmNlOwpzZXJ2aWNlLmludGVyY2VwdG9ycy5yZXF1ZXN0LnVzZShmdW5jdGlvbiAoY29uZmlnKSB7CiAgbG9hZGluZ0luc3RhbmNlID0gTG9hZGluZy5zZXJ2aWNlKHsKICAgIHRleHQ6ICLmraPlnKjliqDovb0uLi4iLAogICAgc3Bpbm5lcjogJ2VsLWljb24tbG9hZGluZycsCiAgICBiYWNrZ3JvdW5kOiAicmdiYSgwLCAwLCAwLCAwLjMpIgogIH0pOwoKICBpZiAoc3RvcmUuZ2V0dGVycy50b2tlbikgewogICAgY29uZmlnLmhlYWRlcnNbJ3Rva2VuJ10gPSBzdG9yZS5nZXR0ZXJzLnRva2VuOwogIH0KCiAgcmV0dXJuIGNvbmZpZzsKfSwgZnVuY3Rpb24gKGVycm9yKSB7CiAgUHJvbWlzZS5yZWplY3QoZXJyb3IpOwp9KTsgLy8gcmVzcG9uc2Ug5oum5oiq5ZmoCgpzZXJ2aWNlLmludGVyY2VwdG9ycy5yZXNwb25zZS51c2UoZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgaWYgKGxvYWRpbmdJbnN0YW5jZSkgbG9hZGluZ0luc3RhbmNlLmNsb3NlKCk7CgogIGlmIChyZXNwb25zZS5zdGF0dXMgPT09IDIwMCkgewogICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShyZXNwb25zZS5kYXRhKTsKICB9IGVsc2UgewogICAgc3RvcmUuZGlzcGF0Y2goJ3VzZXIvcmVzZXRUb2tlbicpLnRoZW4oZnVuY3Rpb24gKCkgewogICAgICBsb2NhdGlvbi5yZWxvYWQoKTsKICAgIH0pOwogICAgcmV0dXJuIFByb21pc2UucmVqZWN0KHJlc3BvbnNlKTsKICB9Cn0sIGZ1bmN0aW9uIChlcnJvcikgewogIGlmIChsb2FkaW5nSW5zdGFuY2UpIGxvYWRpbmdJbnN0YW5jZS5jbG9zZSgpOwoKICBpZiAoZXJyb3IgJiYgZXJyb3IucmVzcG9uc2UpIHsKICAgIHN3aXRjaCAoZXJyb3IucmVzcG9uc2Uuc3RhdHVzKSB7CiAgICAgIGNhc2UgNDAwOgogICAgICAgIGVycm9yLm1lc3NhZ2UgPSAn6ZSZ6K+v6K+35rGCJzsKICAgICAgICBicmVhazsKCiAgICAgIGNhc2UgNDAxOgogICAgICAgIGVycm9yLm1lc3NhZ2UgPSAn5pyq5o6I5p2D77yM6K+36YeN5paw55m75b2VJzsKICAgICAgICBicmVhazsKCiAgICAgIGNhc2UgNDAzOgogICAgICAgIGVycm9yLm1lc3NhZ2UgPSAn5ouS57ud6K6/6ZeuJzsKICAgICAgICBicmVhazsKCiAgICAgIGNhc2UgNDA0OgogICAgICAgIGVycm9yLm1lc3NhZ2UgPSAn6K+35rGC6ZSZ6K+vLOacquaJvuWIsOivpei1hOa6kCc7CiAgICAgICAgYnJlYWs7CgogICAgICBjYXNlIDQwNToKICAgICAgICBlcnJvci5tZXNzYWdlID0gJ+ivt+axguaWueazleacquWFgeiuuCc7CiAgICAgICAgYnJlYWs7CgogICAgICBjYXNlIDQwODoKICAgICAgICBlcnJvci5tZXNzYWdlID0gJ+ivt+axgui2heaXtic7CiAgICAgICAgYnJlYWs7CgogICAgICBjYXNlIDUwMDoKICAgICAgICBlcnJvci5tZXNzYWdlID0gJ+acjeWKoeWZqOerr+WHuumUmSc7CiAgICAgICAgYnJlYWs7CgogICAgICBjYXNlIDUwMToKICAgICAgICBlcnJvci5tZXNzYWdlID0gJ+e9kee7nOacquWunueOsCc7CiAgICAgICAgYnJlYWs7CgogICAgICBjYXNlIDUwMjoKICAgICAgICBlcnJvci5tZXNzYWdlID0gJ+e9kee7nOmUmeivryc7CiAgICAgICAgYnJlYWs7CgogICAgICBjYXNlIDUwMzoKICAgICAgICBlcnJvci5tZXNzYWdlID0gJ+acjeWKoeS4jeWPr+eUqCc7CiAgICAgICAgYnJlYWs7CgogICAgICBjYXNlIDUwNDoKICAgICAgICBlcnJvci5tZXNzYWdlID0gJ+e9kee7nOi2heaXtic7CiAgICAgICAgYnJlYWs7CgogICAgICBjYXNlIDUwNToKICAgICAgICBlcnJvci5tZXNzYWdlID0gJ2h0dHDniYjmnKzkuI3mlK/mjIHor6Xor7fmsYInOwogICAgICAgIGJyZWFrOwoKICAgICAgZGVmYXVsdDoKICAgICAgICBlcnJvci5tZXNzYWdlID0gIlx1NjcyQVx1NzdFNVx1OTUxOVx1OEJFRiIuY29uY2F0KGVycm9yLnJlc3BvbnNlLnN0YXR1cyk7CiAgICB9CiAgfSBlbHNlIHsKICAgIGVycm9yLm1lc3NhZ2UgPSAi6L+e5o6l5Yiw5pyN5Yqh5Zmo5aSx6LSlIjsKICB9CgogIHJldHVybiBQcm9taXNlLnJlamVjdChlcnJvcik7Cn0pOwpleHBvcnQgZGVmYXVsdCBzZXJ2aWNlOw=="},{"version":3,"sources":["C:/Users/Administrator/Desktop/1/预见未来后台管理系统/后台/src/utils/request.js"],"names":["axios","Loading","store","baseURL","service","create","timeout","loadingInstance","interceptors","request","use","config","text","spinner","background","getters","token","headers","error","Promise","reject","response","close","status","resolve","data","dispatch","then","location","reload","message"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SACCC,OADD,QAEO,YAFP;AAGA,OAAOC,KAAP,MAAkB,SAAlB,C,CAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,IAAIC,OAAO,GAAG,MAAd,C,CACA;;AAEA,IAAMC,OAAO,GAAGJ,KAAK,CAACK,MAAN,CAAa;AAC5BF,EAAAA,OAAO,EAAE,SADmB;AAE5BG,EAAAA,OAAO,EAAE,IAFmB,CAEd;;AAFc,CAAb,CAAhB;AAKA,IAAIC,eAAJ;AACAH,OAAO,CAACI,YAAR,CAAqBC,OAArB,CAA6BC,GAA7B,CACC,UAAAC,MAAM,EAAI;AACTJ,EAAAA,eAAe,GAAGN,OAAO,CAACG,OAAR,CAAgB;AACjCQ,IAAAA,IAAI,EAAE,SAD2B;AAEjCC,IAAAA,OAAO,EAAE,iBAFwB;AAGjCC,IAAAA,UAAU,EAAE;AAHqB,GAAhB,CAAlB;;AAKA,MAAIZ,KAAK,CAACa,OAAN,CAAcC,KAAlB,EAAyB;AACxBL,IAAAA,MAAM,CAACM,OAAP,CAAe,OAAf,IAA0Bf,KAAK,CAACa,OAAN,CAAcC,KAAxC;AACA;;AACD,SAAOL,MAAP;AACA,CAXF,EAYC,UAAAO,KAAK,EAAI;AACRC,EAAAA,OAAO,CAACC,MAAR,CAAeF,KAAf;AACA,CAdF,E,CAgBA;;AACAd,OAAO,CAACI,YAAR,CAAqBa,QAArB,CAA8BX,GAA9B,CACC,UAAAW,QAAQ,EAAI;AACX,MAAId,eAAJ,EAAqBA,eAAe,CAACe,KAAhB;;AACrB,MAAID,QAAQ,CAACE,MAAT,KAAoB,GAAxB,EAA6B;AAC5B,WAAOJ,OAAO,CAACK,OAAR,CAAgBH,QAAQ,CAACI,IAAzB,CAAP;AACA,GAFD,MAEO;AACNvB,IAAAA,KAAK,CAACwB,QAAN,CAAe,iBAAf,EAAkCC,IAAlC,CAAuC,YAAM;AAC5CC,MAAAA,QAAQ,CAACC,MAAT;AACA,KAFD;AAGA,WAAOV,OAAO,CAACC,MAAR,CAAeC,QAAf,CAAP;AACA;AACD,CAXF,EAYC,UAAAH,KAAK,EAAI;AACR,MAAIX,eAAJ,EAAqBA,eAAe,CAACe,KAAhB;;AACrB,MAAIJ,KAAK,IAAIA,KAAK,CAACG,QAAnB,EAA6B;AAC5B,YAAQH,KAAK,CAACG,QAAN,CAAeE,MAAvB;AACC,WAAK,GAAL;AACCL,QAAAA,KAAK,CAACY,OAAN,GAAgB,MAAhB;AACA;;AACD,WAAK,GAAL;AACCZ,QAAAA,KAAK,CAACY,OAAN,GAAgB,WAAhB;AACA;;AACD,WAAK,GAAL;AACCZ,QAAAA,KAAK,CAACY,OAAN,GAAgB,MAAhB;AACA;;AACD,WAAK,GAAL;AACCZ,QAAAA,KAAK,CAACY,OAAN,GAAgB,aAAhB;AACA;;AACD,WAAK,GAAL;AACCZ,QAAAA,KAAK,CAACY,OAAN,GAAgB,SAAhB;AACA;;AACD,WAAK,GAAL;AACCZ,QAAAA,KAAK,CAACY,OAAN,GAAgB,MAAhB;AACA;;AACD,WAAK,GAAL;AACCZ,QAAAA,KAAK,CAACY,OAAN,GAAgB,QAAhB;AACA;;AACD,WAAK,GAAL;AACCZ,QAAAA,KAAK,CAACY,OAAN,GAAgB,OAAhB;AACA;;AACD,WAAK,GAAL;AACCZ,QAAAA,KAAK,CAACY,OAAN,GAAgB,MAAhB;AACA;;AACD,WAAK,GAAL;AACCZ,QAAAA,KAAK,CAACY,OAAN,GAAgB,OAAhB;AACA;;AACD,WAAK,GAAL;AACCZ,QAAAA,KAAK,CAACY,OAAN,GAAgB,MAAhB;AACA;;AACD,WAAK,GAAL;AACCZ,QAAAA,KAAK,CAACY,OAAN,GAAgB,cAAhB;AACA;;AACD;AACCZ,QAAAA,KAAK,CAACY,OAAN,qCAAuBZ,KAAK,CAACG,QAAN,CAAeE,MAAtC;AAtCF;AAwCA,GAzCD,MAyCO;AACNL,IAAAA,KAAK,CAACY,OAAN,GAAgB,UAAhB;AACA;;AACD,SAAOX,OAAO,CAACC,MAAR,CAAeF,KAAf,CAAP;AACA,CA3DF;AA6DA,eAAed,OAAf","sourcesContent":["import axios from 'axios'\nimport {\n\tLoading\n} from \"element-ui\";\nimport store from '@/store'\n\n// console.log(process.env.NODE_ENV)\n// console.log(process.env.VUE_APP_BASE_URL)\n\n/* if(process.env.NODE_ENV == \"development\"){\n\t//开发环境\n}else if(process.env.NODE_ENV == \"test\"){\n\t//测试环境\n}else{\n\t//生产环境\n} */\n// let baseURL = process.env.VUE_APP_BASE_URL\nlet baseURL = '/api';\n// console.log(baseURL);\n\nconst service = axios.create({\n\tbaseURL: 'baseURL',\n\ttimeout: 5000 // 请求超时时间\n})\n\nlet loadingInstance;\nservice.interceptors.request.use(\n\tconfig => {\n\t\tloadingInstance = Loading.service({\n\t\t\ttext: \"正在加载...\",\n\t\t\tspinner: 'el-icon-loading',\n\t\t\tbackground: \"rgba(0, 0, 0, 0.3)\"\n\t\t});\n\t\tif (store.getters.token) {\n\t\t\tconfig.headers['token'] = store.getters.token;\n\t\t}\n\t\treturn config\n\t},\n\terror => {\n\t\tPromise.reject(error)\n\t}\n)\n// response 拦截器\nservice.interceptors.response.use(\n\tresponse => {\n\t\tif (loadingInstance) loadingInstance.close();\n\t\tif (response.status === 200) {\n\t\t\treturn Promise.resolve(response.data);\n\t\t} else {\n\t\t\tstore.dispatch('user/resetToken').then(() => {\n\t\t\t\tlocation.reload()\n\t\t\t})\n\t\t\treturn Promise.reject(response);\n\t\t}\n\t},\n\terror => {\n\t\tif (loadingInstance) loadingInstance.close();\n\t\tif (error && error.response) {\n\t\t\tswitch (error.response.status) {\n\t\t\t\tcase 400:\n\t\t\t\t\terror.message = '错误请求';\n\t\t\t\t\tbreak;\n\t\t\t\tcase 401:\n\t\t\t\t\terror.message = '未授权，请重新登录';\n\t\t\t\t\tbreak;\n\t\t\t\tcase 403:\n\t\t\t\t\terror.message = '拒绝访问';\n\t\t\t\t\tbreak;\n\t\t\t\tcase 404:\n\t\t\t\t\terror.message = '请求错误,未找到该资源';\n\t\t\t\t\tbreak;\n\t\t\t\tcase 405:\n\t\t\t\t\terror.message = '请求方法未允许';\n\t\t\t\t\tbreak;\n\t\t\t\tcase 408:\n\t\t\t\t\terror.message = '请求超时';\n\t\t\t\t\tbreak;\n\t\t\t\tcase 500:\n\t\t\t\t\terror.message = '服务器端出错';\n\t\t\t\t\tbreak;\n\t\t\t\tcase 501:\n\t\t\t\t\terror.message = '网络未实现';\n\t\t\t\t\tbreak;\n\t\t\t\tcase 502:\n\t\t\t\t\terror.message = '网络错误';\n\t\t\t\t\tbreak;\n\t\t\t\tcase 503:\n\t\t\t\t\terror.message = '服务不可用';\n\t\t\t\t\tbreak;\n\t\t\t\tcase 504:\n\t\t\t\t\terror.message = '网络超时';\n\t\t\t\t\tbreak;\n\t\t\t\tcase 505:\n\t\t\t\t\terror.message = 'http版本不支持该请求';\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\terror.message = `未知错误${error.response.status}`;\n\t\t\t}\n\t\t} else {\n\t\t\terror.message = \"连接到服务器失败\";\n\t\t}\n\t\treturn Promise.reject(error);\n\t}\n)\nexport default service"]}]}