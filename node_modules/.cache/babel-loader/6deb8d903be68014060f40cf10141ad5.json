{"remainingRequest":"C:\\Users\\Administrator\\Desktop\\后台\\node_modules\\thread-loader\\dist\\cjs.js!C:\\Users\\Administrator\\Desktop\\后台\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\Administrator\\Desktop\\后台\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!C:\\Users\\Administrator\\Desktop\\后台\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Administrator\\Desktop\\后台\\src\\views\\authority\\role\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\Administrator\\Desktop\\后台\\src\\views\\authority\\role\\index.vue","mtime":1651134821178},{"path":"C:\\Users\\Administrator\\Desktop\\后台\\babel.config.js","mtime":1646805521000},{"path":"C:\\Users\\Administrator\\Desktop\\后台\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Administrator\\Desktop\\后台\\node_modules\\thread-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Administrator\\Desktop\\后台\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\Administrator\\Desktop\\后台\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Administrator\\Desktop\\后台\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkM6L1VzZXJzL0FkbWluaXN0cmF0b3IvRGVza3RvcC9cdTU0MEVcdTUzRjAvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5qc29uLnN0cmluZ2lmeS5qcyI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lLmpzIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IHsgY2hlY2tQZXJtaXNzaW9uIH0gZnJvbSAiQC91dGlscy9wZXJtaXNzaW9ucyI7CmltcG9ydCB7IGdldFJvbGVzLCBkZWxldGVSb2xlcyB9IGZyb20gIkAvYXBpL3JvbGUiOwppbXBvcnQgcGFnZVRhYmxlIGZyb20gIkAvY29tcG9uZW50cy9wYWdlVGFibGUudnVlIjsKaW1wb3J0IHNldFJvbGUgZnJvbSAiLi9jb21wb25lbnRzL3NldFJvbGUudnVlIjsKaW1wb3J0IGFkZE9yRWRpdERpYWxvZyBmcm9tICIuL2NvbXBvbmVudHMvYWRkT3JFZGl0RGlhbG9nLnZ1ZSI7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAicm9sZSIsCiAgY29tcG9uZW50czogewogICAgcGFnZVRhYmxlOiBwYWdlVGFibGUsCiAgICBzZXRSb2xlOiBzZXRSb2xlLAogICAgYWRkT3JFZGl0RGlhbG9nOiBhZGRPckVkaXREaWFsb2cKICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICByb2xlc0xpc3Q6IFtdLAogICAgICAvL+inkuiJsuWIl+ihqAogICAgICB0YWJsZVNlbGVjdExpc3Q6IFtdLAogICAgICBmb3JtOiB7CiAgICAgICAgdGl0bGU6ICIiCiAgICAgIH0KICAgIH07CiAgfSwKICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkgewogICAgdGhpcy5nZXRSb2xlc0xpc3QoKTsgLy/ojrflj5bop5LoibIKICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7fSwKICBtZXRob2RzOiB7CiAgICBjaGVja1Blcm1pc3Npb246IGNoZWNrUGVybWlzc2lvbiwKICAgIGdldFJvbGVzTGlzdDogZnVuY3Rpb24gZ2V0Um9sZXNMaXN0KCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgICB2YXIgcmVzOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAyOwogICAgICAgICAgICAgICAgcmV0dXJuIGdldFJvbGVzKF90aGlzLmZvcm0pOwoKICAgICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgICByZXMgPSBfY29udGV4dC5zZW50OwoKICAgICAgICAgICAgICAgIGlmIChyZXMuc3RhdHVzID09IDIwMCkgewogICAgICAgICAgICAgICAgICBfdGhpcy5yb2xlc0xpc3QgPSByZXMuZGF0YTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZSk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIC8v55uR5ZCs6KGo5qC85aSa6YCJCiAgICBnZXRTZWxlY3Rpb246IGZ1bmN0aW9uIGdldFNlbGVjdGlvbihzZWxlY3QpIHsKICAgICAgdGhpcy50YWJsZVNlbGVjdExpc3QgPSBzZWxlY3Q7CiAgICB9LAogICAgYWRkRGF0YTogZnVuY3Rpb24gYWRkRGF0YSgpIHsKICAgICAgdGhpcy4kcmVmcy5hZGRvcmVkaXREYXRhLnNob3coMSwge30pOyAvLyAxOuaWsOWinu+8jDI657yW6L6RCiAgICB9LAogICAgZWRpdERhdGE6IGZ1bmN0aW9uIGVkaXREYXRhKCkgewogICAgICBpZiAodGhpcy50YWJsZVNlbGVjdExpc3QubGVuZ3RoID09IDEpIHsKICAgICAgICB0aGlzLiRyZWZzLmFkZG9yZWRpdERhdGEuc2hvdygyLCBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KHRoaXMudGFibGVTZWxlY3RMaXN0WzBdKSkpOyAvLyAxOuaWsOWinu+8jDI657yW6L6RCiAgICAgIH0gZWxzZSBpZiAodGhpcy50YWJsZVNlbGVjdExpc3QubGVuZ3RoID09IDApIHsKICAgICAgICB0aGlzLiRtZXNzYWdlLndhcm5pbmcoIuivt+mAieaLqeS4gOadoeaVsOaNrue8lui+kSIpOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuJG1lc3NhZ2Uud2FybmluZygi5pqC5LiN5pSv5oyB5om56YeP57yW6L6RIik7CiAgICAgIH0KICAgIH0sCiAgICBkZWxldGVEYXRhOiBmdW5jdGlvbiBkZWxldGVEYXRhKCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIGlmICh0aGlzLnRhYmxlU2VsZWN0TGlzdC5sZW5ndGggPT0gMSkgewogICAgICAgIHRoaXMuJGNvbmZpcm0oIuaYr+WQpuWIoOmZpOatpOinkuiJsu+8nyIsICLmj5DnpLoiLCB7CiAgICAgICAgICB0eXBlOiAid2FybmluZyIKICAgICAgICB9KS50aGVuKCAvKiNfX1BVUkVfXyovX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMigpIHsKICAgICAgICAgIHZhciByZXM7CiAgICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTIkKF9jb250ZXh0MikgewogICAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQyLnByZXYgPSBfY29udGV4dDIubmV4dCkgewogICAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDI7CiAgICAgICAgICAgICAgICAgIHJldHVybiBkZWxldGVSb2xlcyh7CiAgICAgICAgICAgICAgICAgICAgaWQ6IF90aGlzMi50YWJsZVNlbGVjdExpc3RbMF0uaWQKICAgICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgICAgICByZXMgPSBfY29udGV4dDIuc2VudDsKCiAgICAgICAgICAgICAgICAgIGlmIChyZXMuc3RhdHVzID09IDIwMCkgewogICAgICAgICAgICAgICAgICAgIF90aGlzMi5nZXRSb2xlc0xpc3QoKTsKCiAgICAgICAgICAgICAgICAgICAgX3RoaXMyLiRtZXNzYWdlLnN1Y2Nlc3MocmVzLm1lc3NhZ2UpOwogICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5zdG9wKCk7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICB9LCBfY2FsbGVlMik7CiAgICAgICAgfSkpKS5jYXRjaChmdW5jdGlvbiAoKSB7fSk7CiAgICAgIH0gZWxzZSBpZiAodGhpcy50YWJsZVNlbGVjdExpc3QubGVuZ3RoID09IDApIHsKICAgICAgICB0aGlzLiRtZXNzYWdlLndhcm5pbmcoIuivt+mAieaLqeS4gOadoeaVsOaNruWIoOmZpCIpOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuJG1lc3NhZ2Uud2FybmluZygi5pqC5LiN5pSv5oyB5om56YeP5Yig6ZmkIik7CiAgICAgIH0KICAgIH0sCiAgICBzZXRQZXJtaXNzaW9uczogZnVuY3Rpb24gc2V0UGVybWlzc2lvbnMocm93KSB7CiAgICAgIHRoaXMuJHJlZnMuc2V0UmxvZS5zaG93KHJvdyk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["index.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div class=\"role\">\n    <div class=\"block-quote\">\n      <el-form :inline=\"true\" ref=\"form\">\n        <el-form-item label=\"角色名称\" prop=\"title\">\n          <el-input\n            v-model=\"form.title\"\n            clearable\n            placeholder=\"请输入角色名称\"\n          ></el-input>\n        </el-form-item>\n        <el-form-item style=\"float: right\">\n          <el-button\n            v-if=\"checkPermission('rolesearch')\"\n            type=\"primary\"\n            icon=\"el-icon-search\"\n            @click=\"getRolesList\"\n            >查询</el-button\n          >\n          <el-button\n            v-if=\"checkPermission('roleadd')\"\n            type=\"primary\"\n            icon=\"el-icon-plus\"\n            @click=\"addData\"\n            >新增</el-button\n          >\n          <el-button\n            v-if=\"checkPermission('roleedit')\"\n            type=\"primary\"\n            icon=\"el-icon-edit\"\n            @click=\"editData\"\n            >编辑</el-button\n          >\n          <el-button\n            v-if=\"checkPermission('roledelete')\"\n            type=\"danger\"\n            icon=\"el-icon-delete\"\n            @click=\"deleteData\"\n            >删除</el-button\n          >\n        </el-form-item>\n      </el-form>\n    </div>\n    <page-table\n      ref=\"dataTable\"\n      :data=\"rolesList\"\n      :paging=\"false\"\n      @selection-change=\"getSelection\"\n    >\n      <el-table-column\n        type=\"selection\"\n        fixed\n        width=\"40\"\n        :resizable=\"false\"\n      ></el-table-column>\n      <el-table-column\n        type=\"index\"\n        label=\"序号\"\n        fixed\n        width=\"50\"\n        :resizable=\"false\"\n      ></el-table-column>\n      <el-table-column\n        prop=\"name\"\n        label=\"角色\"\n        width=\"200\"\n        :resizable=\"false\"\n      ></el-table-column>\n      <el-table-column\n        prop=\"title\"\n        label=\"角色名称\"\n        width=\"200\"\n        :resizable=\"false\"\n      ></el-table-column>\n      <el-table-column\n        prop=\"description\"\n        label=\"角色描述\"\n        :resizable=\"false\"\n      ></el-table-column>\n      <el-table-column\n        fixed=\"right\"\n        label=\"操作\"\n        width=\"200\"\n        :resizable=\"false\"\n        v-if=\"checkPermission('rolepermissions')\"\n      >\n        <template slot-scope=\"scope\">\n          <el-link\n            type=\"primary\"\n            :disabled=\"scope.row.id == '001' ? true : false\"\n            @click=\"setPermissions(scope.row)\"\n            >设置权限</el-link\n          >\n        </template>\n      </el-table-column>\n    </page-table>\n    <!-- 设置权限 -->\n    <set-role ref=\"setRloe\"></set-role>\n    <!-- 新增或编辑弹窗 -->\n    <addOrEdit-dialog ref=\"addoreditData\"></addOrEdit-dialog>\n  </div>\n</template>\n\n<script>\nimport { checkPermission } from \"@/utils/permissions\";\nimport { getRoles, deleteRoles } from \"@/api/role\";\nimport pageTable from \"@/components/pageTable.vue\";\nimport setRole from \"./components/setRole.vue\";\nimport addOrEditDialog from \"./components/addOrEditDialog.vue\";\nexport default {\n  name: \"role\",\n  components: {\n    pageTable,\n    setRole,\n    addOrEditDialog,\n  },\n  data() {\n    return {\n      rolesList: [], //角色列表\n      tableSelectList: [],\n      form: {\n        title: \"\",\n      },\n    };\n  },\n  created() {\n    this.getRolesList(); //获取角色\n  },\n  mounted() {},\n  methods: {\n    checkPermission,\n    async getRolesList() {\n      let res = await getRoles(this.form);\n      if (res.status == 200) {\n        this.rolesList = res.data;\n      }\n    },\n    //监听表格多选\n    getSelection(select) {\n      this.tableSelectList = select;\n    },\n    addData() {\n      this.$refs.addoreditData.show(1, {}); // 1:新增，2:编辑\n    },\n    editData() {\n      if (this.tableSelectList.length == 1) {\n        this.$refs.addoreditData.show(\n          2,\n          JSON.parse(JSON.stringify(this.tableSelectList[0]))\n        ); // 1:新增，2:编辑\n      } else if (this.tableSelectList.length == 0) {\n        this.$message.warning(\"请选择一条数据编辑\");\n      } else {\n        this.$message.warning(\"暂不支持批量编辑\");\n      }\n    },\n    deleteData() {\n      if (this.tableSelectList.length == 1) {\n        this.$confirm(\"是否删除此角色？\", \"提示\", {\n          type: \"warning\",\n        })\n          .then(async () => {\n            let res = await deleteRoles({\n              id: this.tableSelectList[0].id,\n            });\n            if (res.status == 200) {\n              this.getRolesList();\n              this.$message.success(res.message);\n            }\n          })\n          .catch(() => {});\n      } else if (this.tableSelectList.length == 0) {\n        this.$message.warning(\"请选择一条数据删除\");\n      } else {\n        this.$message.warning(\"暂不支持批量删除\");\n      }\n    },\n    setPermissions(row) {\n      this.$refs.setRloe.show(row);\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n</style>\n"],"sourceRoot":"src/views/authority/role"}]}