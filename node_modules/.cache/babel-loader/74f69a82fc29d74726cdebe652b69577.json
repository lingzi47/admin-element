{"remainingRequest":"C:\\Users\\Administrator\\Desktop\\个人\\后台\\node_modules\\thread-loader\\dist\\cjs.js!C:\\Users\\Administrator\\Desktop\\个人\\后台\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\Administrator\\Desktop\\个人\\后台\\src\\utils\\request.js","dependencies":[{"path":"C:\\Users\\Administrator\\Desktop\\个人\\后台\\src\\utils\\request.js","mtime":1670920779528},{"path":"C:\\Users\\Administrator\\Desktop\\个人\\后台\\babel.config.js","mtime":1646805521000},{"path":"C:\\Users\\Administrator\\Desktop\\个人\\后台\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Administrator\\Desktop\\个人\\后台\\node_modules\\thread-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Administrator\\Desktop\\个人\\后台\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCBheGlvcyBmcm9tICdheGlvcyc7CmltcG9ydCB7IExvYWRpbmcgfSBmcm9tICJlbGVtZW50LXVpIjsKaW1wb3J0IHN0b3JlIGZyb20gJ0Avc3RvcmUnOwpjb25zb2xlLmxvZyhwcm9jZXNzLmVudi5OT0RFX0VOVik7CmNvbnNvbGUubG9nKHByb2Nlc3MuZW52LlZVRV9BUFBfQkFTRV9VUkwpOwovKiBpZihwcm9jZXNzLmVudi5OT0RFX0VOViA9PSAiZGV2ZWxvcG1lbnQiKXsKCS8v5byA5Y+R546v5aKDCn1lbHNlIGlmKHByb2Nlc3MuZW52Lk5PREVfRU5WID09ICJ0ZXN0Iil7CgkvL+a1i+ivleeOr+Wigwp9ZWxzZXsKCS8v55Sf5Lqn546v5aKDCn0gKi8KLy8gbGV0IGJhc2VVUkwgPSBwcm9jZXNzLmVudi5WVUVfQVBQX0JBU0VfVVJMCgp2YXIgYmFzZVVSTCA9ICcvYXBpJzsKdmFyIHNlcnZpY2UgPSBheGlvcy5jcmVhdGUoewogIGJhc2VVUkw6ICdiYXNlVVJMJywKICB0aW1lb3V0OiA1MDAwIC8vIOivt+axgui2heaXtuaXtumXtAoKfSk7CnZhciBsb2FkaW5nSW5zdGFuY2U7CnNlcnZpY2UuaW50ZXJjZXB0b3JzLnJlcXVlc3QudXNlKGZ1bmN0aW9uIChjb25maWcpIHsKICBsb2FkaW5nSW5zdGFuY2UgPSBMb2FkaW5nLnNlcnZpY2UoewogICAgdGV4dDogIuato+WcqOWKoOi9vS4uLiIsCiAgICBzcGlubmVyOiAnZWwtaWNvbi1sb2FkaW5nJywKICAgIGJhY2tncm91bmQ6ICJyZ2JhKDAsIDAsIDAsIDAuMykiCiAgfSk7CgogIGlmIChzdG9yZS5nZXR0ZXJzLnRva2VuKSB7CiAgICBjb25maWcuaGVhZGVyc1sndG9rZW4nXSA9IHN0b3JlLmdldHRlcnMudG9rZW47CiAgfQoKICByZXR1cm4gY29uZmlnOwp9LCBmdW5jdGlvbiAoZXJyb3IpIHsKICBQcm9taXNlLnJlamVjdChlcnJvcik7Cn0pOyAvLyByZXNwb25zZSDmi6bmiKrlmagKCnNlcnZpY2UuaW50ZXJjZXB0b3JzLnJlc3BvbnNlLnVzZShmdW5jdGlvbiAocmVzcG9uc2UpIHsKICBpZiAobG9hZGluZ0luc3RhbmNlKSBsb2FkaW5nSW5zdGFuY2UuY2xvc2UoKTsKCiAgaWYgKHJlc3BvbnNlLnN0YXR1cyA9PT0gMjAwKSB7CiAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHJlc3BvbnNlLmRhdGEpOwogIH0gZWxzZSB7CiAgICBzdG9yZS5kaXNwYXRjaCgndXNlci9yZXNldFRva2VuJykudGhlbihmdW5jdGlvbiAoKSB7CiAgICAgIGxvY2F0aW9uLnJlbG9hZCgpOwogICAgfSk7CiAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QocmVzcG9uc2UpOwogIH0KfSwgZnVuY3Rpb24gKGVycm9yKSB7CiAgaWYgKGxvYWRpbmdJbnN0YW5jZSkgbG9hZGluZ0luc3RhbmNlLmNsb3NlKCk7CgogIGlmIChlcnJvciAmJiBlcnJvci5yZXNwb25zZSkgewogICAgc3dpdGNoIChlcnJvci5yZXNwb25zZS5zdGF0dXMpIHsKICAgICAgY2FzZSA0MDA6CiAgICAgICAgZXJyb3IubWVzc2FnZSA9ICfplJnor6/or7fmsYInOwogICAgICAgIGJyZWFrOwoKICAgICAgY2FzZSA0MDE6CiAgICAgICAgZXJyb3IubWVzc2FnZSA9ICfmnKrmjojmnYPvvIzor7fph43mlrDnmbvlvZUnOwogICAgICAgIGJyZWFrOwoKICAgICAgY2FzZSA0MDM6CiAgICAgICAgZXJyb3IubWVzc2FnZSA9ICfmi5Lnu53orr/pl64nOwogICAgICAgIGJyZWFrOwoKICAgICAgY2FzZSA0MDQ6CiAgICAgICAgZXJyb3IubWVzc2FnZSA9ICfor7fmsYLplJnor68s5pyq5om+5Yiw6K+l6LWE5rqQJzsKICAgICAgICBicmVhazsKCiAgICAgIGNhc2UgNDA1OgogICAgICAgIGVycm9yLm1lc3NhZ2UgPSAn6K+35rGC5pa55rOV5pyq5YWB6K64JzsKICAgICAgICBicmVhazsKCiAgICAgIGNhc2UgNDA4OgogICAgICAgIGVycm9yLm1lc3NhZ2UgPSAn6K+35rGC6LaF5pe2JzsKICAgICAgICBicmVhazsKCiAgICAgIGNhc2UgNTAwOgogICAgICAgIGVycm9yLm1lc3NhZ2UgPSAn5pyN5Yqh5Zmo56uv5Ye66ZSZJzsKICAgICAgICBicmVhazsKCiAgICAgIGNhc2UgNTAxOgogICAgICAgIGVycm9yLm1lc3NhZ2UgPSAn572R57uc5pyq5a6e546wJzsKICAgICAgICBicmVhazsKCiAgICAgIGNhc2UgNTAyOgogICAgICAgIGVycm9yLm1lc3NhZ2UgPSAn572R57uc6ZSZ6K+vJzsKICAgICAgICBicmVhazsKCiAgICAgIGNhc2UgNTAzOgogICAgICAgIGVycm9yLm1lc3NhZ2UgPSAn5pyN5Yqh5LiN5Y+v55SoJzsKICAgICAgICBicmVhazsKCiAgICAgIGNhc2UgNTA0OgogICAgICAgIGVycm9yLm1lc3NhZ2UgPSAn572R57uc6LaF5pe2JzsKICAgICAgICBicmVhazsKCiAgICAgIGNhc2UgNTA1OgogICAgICAgIGVycm9yLm1lc3NhZ2UgPSAnaHR0cOeJiOacrOS4jeaUr+aMgeivpeivt+axgic7CiAgICAgICAgYnJlYWs7CgogICAgICBkZWZhdWx0OgogICAgICAgIGVycm9yLm1lc3NhZ2UgPSAiXHU2NzJBXHU3N0U1XHU5NTE5XHU4QkVGIi5jb25jYXQoZXJyb3IucmVzcG9uc2Uuc3RhdHVzKTsKICAgIH0KICB9IGVsc2UgewogICAgZXJyb3IubWVzc2FnZSA9ICLov57mjqXliLDmnI3liqHlmajlpLHotKUiOwogIH0KCiAgcmV0dXJuIFByb21pc2UucmVqZWN0KGVycm9yKTsKfSk7CmV4cG9ydCBkZWZhdWx0IHNlcnZpY2U7"},{"version":3,"sources":["C:/Users/Administrator/Desktop/个人/后台/src/utils/request.js"],"names":["axios","Loading","store","console","log","process","env","NODE_ENV","VUE_APP_BASE_URL","baseURL","service","create","timeout","loadingInstance","interceptors","request","use","config","text","spinner","background","getters","token","headers","error","Promise","reject","response","close","status","resolve","data","dispatch","then","location","reload","message"],"mappings":"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","sourcesContent":["import axios from 'axios'\nimport {\n\tLoading\n} from \"element-ui\";\nimport store from '@/store'\n\nconsole.log(process.env.NODE_ENV)\nconsole.log(process.env.VUE_APP_BASE_URL)\n\n/* if(process.env.NODE_ENV == \"development\"){\n\t//开发环境\n}else if(process.env.NODE_ENV == \"test\"){\n\t//测试环境\n}else{\n\t//生产环境\n} */\n// let baseURL = process.env.VUE_APP_BASE_URL\nlet baseURL = '/api';\n\n\nconst service = axios.create({\n\tbaseURL: 'baseURL',\n\ttimeout: 5000 // 请求超时时间\n})\n\nlet loadingInstance;\nservice.interceptors.request.use(\n\tconfig => {\n\t\tloadingInstance = Loading.service({\n\t\t\ttext: \"正在加载...\",\n\t\t\tspinner: 'el-icon-loading',\n\t\t\tbackground: \"rgba(0, 0, 0, 0.3)\"\n\t\t});\n\t\tif (store.getters.token) {\n\t\t\tconfig.headers['token'] = store.getters.token;\n\t\t}\n\t\treturn config\n\t},\n\terror => {\n\t\tPromise.reject(error)\n\t}\n)\n// response 拦截器\nservice.interceptors.response.use(\n\tresponse => {\n\t\tif (loadingInstance) loadingInstance.close();\n\t\tif (response.status === 200) {\n\t\t\treturn Promise.resolve(response.data);\n\t\t} else {\n\t\t\tstore.dispatch('user/resetToken').then(() => {\n\t\t\t\tlocation.reload()\n\t\t\t})\n\t\t\treturn Promise.reject(response);\n\t\t}\n\t},\n\terror => {\n\t\tif (loadingInstance) loadingInstance.close();\n\t\tif (error && error.response) {\n\t\t\tswitch (error.response.status) {\n\t\t\t\tcase 400:\n\t\t\t\t\terror.message = '错误请求';\n\t\t\t\t\tbreak;\n\t\t\t\tcase 401:\n\t\t\t\t\terror.message = '未授权，请重新登录';\n\t\t\t\t\tbreak;\n\t\t\t\tcase 403:\n\t\t\t\t\terror.message = '拒绝访问';\n\t\t\t\t\tbreak;\n\t\t\t\tcase 404:\n\t\t\t\t\terror.message = '请求错误,未找到该资源';\n\t\t\t\t\tbreak;\n\t\t\t\tcase 405:\n\t\t\t\t\terror.message = '请求方法未允许';\n\t\t\t\t\tbreak;\n\t\t\t\tcase 408:\n\t\t\t\t\terror.message = '请求超时';\n\t\t\t\t\tbreak;\n\t\t\t\tcase 500:\n\t\t\t\t\terror.message = '服务器端出错';\n\t\t\t\t\tbreak;\n\t\t\t\tcase 501:\n\t\t\t\t\terror.message = '网络未实现';\n\t\t\t\t\tbreak;\n\t\t\t\tcase 502:\n\t\t\t\t\terror.message = '网络错误';\n\t\t\t\t\tbreak;\n\t\t\t\tcase 503:\n\t\t\t\t\terror.message = '服务不可用';\n\t\t\t\t\tbreak;\n\t\t\t\tcase 504:\n\t\t\t\t\terror.message = '网络超时';\n\t\t\t\t\tbreak;\n\t\t\t\tcase 505:\n\t\t\t\t\terror.message = 'http版本不支持该请求';\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\terror.message = `未知错误${error.response.status}`;\n\t\t\t}\n\t\t} else {\n\t\t\terror.message = \"连接到服务器失败\";\n\t\t}\n\t\treturn Promise.reject(error);\n\t}\n)\nexport default service"]}]}