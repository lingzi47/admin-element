(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7f2d6954"],{"1d35":function(e,t,a){"use strict";a("b16b")},"8e42":function(e,t,a){"use strict";a("c087")},b16b:function(e,t,a){},b6be:function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"user"},[a("div",{staticClass:"block-quote"},[a("el-form",{attrs:{inline:!0}},[a("el-form-item",{attrs:{label:"租赁商id"}},[a("el-input",{staticStyle:{width:"180px"},attrs:{clearable:"",placeholder:"请输入租赁商id"},model:{value:e.lease_id,callback:function(t){e.lease_id=t},expression:"lease_id"}})],1),a("el-form-item",{attrs:{label:"租赁商手机号"}},[a("el-input",{staticStyle:{width:"180px"},attrs:{clearable:"",placeholder:"请输入租赁商手机号"},model:{value:e.lease_phone,callback:function(t){e.lease_phone=t},expression:"lease_phone"}})],1),a("el-form-item",{attrs:{label:"设备编号"}},[a("el-input",{staticStyle:{width:"180px"},attrs:{clearable:"",placeholder:"请输入设备编号"},model:{value:e.device_num,callback:function(t){e.device_num=t},expression:"device_num"}})],1),a("el-form-item",{attrs:{label:"供货药房"}},[a("el-select",{staticStyle:{width:"160px"},attrs:{placeholder:"请选择",clearable:""},on:{change:e.change},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}},e._l(e.list,(function(e){return a("el-option",{key:e.key,attrs:{value:e.big_name,label:e.big_name}})})),1),a("el-select",{staticStyle:{width:"160px"},attrs:{placeholder:"请选择",clearable:""},model:{value:e.pharmacy_id,callback:function(t){e.pharmacy_id=t},expression:"pharmacy_id"}},e._l(e.list1,(function(e){return a("el-option",{key:e.id,attrs:{value:e.id,label:e.name}})})),1)],1),a("el-form-item",{attrs:{label:"状态"}},[a("el-select",{staticStyle:{width:"160px"},attrs:{placeholder:"请选择",clearable:""},model:{value:e.ex_status,callback:function(t){e.ex_status=t},expression:"ex_status"}},[a("el-option",{attrs:{value:1,label:"待处理"}}),a("el-option",{attrs:{value:2,label:"处理中"}}),a("el-option",{attrs:{value:3,label:"已处理"}})],1)],1),a("el-form-item",{attrs:{label:"时间"}},[a("el-date-picker",{attrs:{type:"daterange","value-format":"yyyy-MM-dd HH:mm:ss","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:e.time,callback:function(t){e.time=t},expression:"time"}})],1),a("el-form-item",{staticStyle:{float:"right"}},[a("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:e.searchinfo}},[e._v("搜索")])],1)],1)],1),a("page-table",{ref:"dataTable",attrs:{data:e.userList},on:{changeCurrentPage:e.changeCurrent}},[a("el-table-column",{attrs:{label:"序号",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s((e.page.currentPage-1)*e.page.pageSize+t.$index+1))])]}}])}),a("el-table-column",{attrs:{prop:"lease_id",label:"租赁商ID",align:"center"}}),a("el-table-column",{attrs:{prop:"lease_phone",label:"租赁商手机号",align:"center"}}),a("el-table-column",{attrs:{prop:"device_num",label:"设备租赁号",align:"center"}}),a("el-table-column",{attrs:{prop:"pharmacy_id",label:"供货药房",align:"center"}}),a("el-table-column",{attrs:{prop:"pharmacy_phone",label:"药房联系方式",align:"center"}}),a("el-table-column",{attrs:{prop:"address",label:"设备位置",align:"center"}}),a("el-table-column",{attrs:{prop:"created_at",label:"申请时间",align:"center"}}),a("el-table-column",{attrs:{label:"状态",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[2==t.row.ex_status?a("el-link",{attrs:{type:"success"}},[e._v("处理中")]):e._e(),3==t.row.ex_status?a("el-link",{attrs:{type:"danger"}},[e._v("已处理")]):e._e(),1==t.row.ex_status?a("el-link",{attrs:{type:"primary"}},[e._v("待处理")]):e._e()]}}])}),a("el-table-column",{attrs:{label:"操作",align:"center",width:"350"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-link",{staticStyle:{"margin-left":"10px"},attrs:{type:"primary"},on:{click:function(a){return e.showtable(t.row)}}},[e._v("查看")]),2==t.row.ex_status||1==t.row.ex_status?a("el-link",{staticStyle:{"margin-left":"10px"},attrs:{type:"success"},on:{click:function(a){return e.set(t.row)}}},[e._v("处理")]):e._e()]}}])})],1),a("el-dialog",{attrs:{title:"处理",visible:e.dialogVisible,width:"400px","close-on-click-modal":!1},on:{"update:visible":function(t){e.dialogVisible=t},close:e.close}},[a("el-form",{attrs:{"label-width":"auto"}},[a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"补货申请处理",prop:"role_name"}})],1)],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:e.refuse}},[e._v("处理中")]),a("el-button",{attrs:{type:"primary"},on:{click:e.submitForm}},[e._v("已处理")])],1)],1),a("edit-data",{ref:"editData"})],1)},i=[],l=a("ade3"),n=(a("b0c0"),a("e9c4"),a("fd03")),o=a("bade"),r=a("e3d9"),c=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-dialog",{staticClass:"AddDialog",attrs:{title:"申请补货详情",visible:e.dialogVisible,width:"800px",hegiht:"1000px","close-on-click-modal":!1},on:{"update:visible":function(t){e.dialogVisible=t},close:e.close}},[a("el-form",{attrs:{"label-width":"auto"}},[a("el-row",{attrs:{gutter:24}},[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"设备租赁号："}},[e._v(e._s(e.device_num)+" ")])],1),a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"机器位置："}},[e._v(e._s(e.address)+" ")])],1)],1)],1),a("el-table",{ref:"dataTable",attrs:{data:e.userList,border:""},on:{changeCurrentPage:e.changeCurrent}},[a("el-table-column",{attrs:{label:"序号",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s((e.page.currentPage-1)*e.page.pageSize+t.$index+1))])]}}])}),a("el-table-column",{attrs:{prop:"setid",label:"药品位置",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.aisleRow)+"行"+e._s(t.row.aisleColumn)+"列")])]}}])}),a("el-table-column",{attrs:{prop:"productName",label:"药品名称",align:"center"}}),a("el-table-column",{attrs:{label:"申请补货数量",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.aisleStockMax-t.row.aisleStockLock))])]}}])})],1)],1)],1)},u=[],d=(a("ff82"),{name:"AddDialog",components:{pageTable:r["a"]},data:function(){return{id:"",device_num:"",address:"",dialogVisible:!1,userList:[],page:{currentPage:1,pageSize:10,total:0}}},created:function(){},mounted:function(){},methods:{changeCurrent:function(e,t){this.page.currentPage=e,this.page.pageSize=t,this.getUserList()},getUserList:function(){var e=this,t=sessionStorage.getItem("token");this.token=t;var a={token:sessionStorage.getItem("token"),number:this.id};Object(n["pc"])(a).then((function(t){e.page.total=t.data.count,e.userList=t.data.data}))},show:function(e){this.dialogVisible=!0,console.log(e),this.id=e.number,this.address=e.address,this.device_num=e.device_num,this.getUserList()},close:function(){this.dialogVisible=!1}}}),m=d,p=(a("1d35"),a("2877")),g=Object(p["a"])(m,c,u,!1,null,null,null),h=g.exports,b=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-dialog",{staticClass:"AddDialog",attrs:{title:"处理",visible:e.dialogVisible,width:"800px",hegiht:"1000px","close-on-click-modal":!1},on:{"update:visible":function(t){e.dialogVisible=t},close:e.close}},[a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:e.admin}},[e._v("处理中")]),a("el-button",{attrs:{type:"primary"},on:{click:e.submit}},[e._v("已处理")])],1)])],1)},f=[],_={name:"AddDialog",components:{},data:function(){return{id:"",dialogVisible:!1}},created:function(){},mounted:function(){},methods:{show:function(e){console.log(e),this.dialogVisible=!0}},close:function(){this.dialogVisible=!1},admin:function(){var e=this,t=sessionStorage.getItem("token");this.token=t;var a={token:sessionStorage.getItem("token"),status:2,id:this.id};Object(n["oc"])(a).then((function(t){200==t.data.code?(e.$message.success("成功"),e.$parent.getUserList(),e.close()):(e.$message.error(t.data.msg),e.$parent.getUserList(),e.close())}))},submit:function(){var e=this,t=sessionStorage.getItem("token");this.token=t;var a={token:sessionStorage.getItem("token"),status:3,id:this.id};Object(n["oc"])(a).then((function(t){200==t.data.code?(e.$message.success("成功"),e.$parent.getUserList(),e.close()):(e.$message.error(t.data.msg),e.$parent.getUserList(),e.close())}))}},v=_,k=(a("8e42"),Object(p["a"])(v,b,f,!1,null,null,null)),y=k.exports,x={name:"user",components:{pageTable:r["a"],editData:h,upSet:y},data:function(){var e;return e={sta:"",dialogVisible:!1,id:"",lease_id:"",name:"",lease_phone:"",device_num:"",ex_status:"",pharmacy_id:"",time:"",userList:[],list:[],list1:[]},Object(l["a"])(e,"time",""),Object(l["a"])(e,"page",{currentPage:1,pageSize:10,total:0}),e},watch:{time:function(e){null==e&&(this.time=[])},name:function(e){console.log(e),this.xiaolist()}},created:function(){this.getUserList(),this.yaolist()},mounted:function(){},computed:{},methods:{yaolist:function(){var e=this,t={token:sessionStorage.getItem("token")};Object(n["Fc"])(t).then((function(t){200==t.data.code&&(console.log(t.data.data),e.list=t.data.data)}))},change:function(){this.xiaolist(),this.pharmacy_id=""},xiaolist:function(){var e=this,t={token:sessionStorage.getItem("token"),name:this.name};Object(n["Gc"])(t).then((function(t){200==t.data.code&&(console.log(t.data.data),e.list1=t.data.data)}))},submitForm:function(){var e=this,t={token:sessionStorage.getItem("token"),status:3,id:this.id};Object(n["oc"])(t).then((function(t){200==t.data.code&&(e.$message.success("操作成功"),e.dialogVisible=!1,e.getUserList())})),this.dialogVisible=!1,this.getUserList()},set:function(e){this.dialogVisible=!0,this.id=e.id},refuse:function(){var e=this,t={token:sessionStorage.getItem("token"),status:2,id:this.id};Object(n["oc"])(t).then((function(t){200==t.data.code&&(e.$message.success("操作成功"),e.dialogVisible=!1,e.getUserList())}))},close:function(){this.dialogVisible=!1},showtable:function(e){var t=e;this.$refs.editData.show(JSON.parse(JSON.stringify(t)))},checkPermission:o["a"],changeCurrent:function(e,t){this.page.currentPage=e,this.page.pageSize=t,this.getUserList()},searchinfo:function(){var e,t=this,a=sessionStorage.getItem("token");this.token=a;var s=(e={limit:this.page.pageSize,token:sessionStorage.getItem("token"),lease_id:this.lease_id,lease_phone:this.lease_phone,device_num:this.device_num,ex_status:this.ex_status,pharmacy_id:this.pharmacy_id},Object(l["a"])(e,"ex_status",this.ex_status),Object(l["a"])(e,"s_time",this.time[0]),Object(l["a"])(e,"e_time",this.time[1]),e);Object(n["c"])(s).then((function(e){t.page.total=e.data.data.total,t.userList=e.data.data.data,t.$refs.dataTable.setPageInfo({total:t.page.total})}))},getUserList:function(){var e,t=this,a=sessionStorage.getItem("token");this.token=a;var s=(e={page:this.page.currentPage,limit:this.page.pageSize,token:sessionStorage.getItem("token"),lease_id:this.lease_id,lease_phone:this.lease_phone,device_num:this.device_num,ex_status:this.ex_status,pharmacy_id:this.pharmacy_id},Object(l["a"])(e,"ex_status",this.ex_status),Object(l["a"])(e,"s_time",this.time[0]),Object(l["a"])(e,"e_time",this.time[1]),e);Object(n["c"])(s).then((function(e){t.page.total=e.data.data.total,t.userList=e.data.data.data,t.$refs.dataTable.setPageInfo({total:t.page.total})}))}}},S=x,w=Object(p["a"])(S,s,i,!1,null,"5d39a360",null);t["default"]=w.exports},c087:function(e,t,a){}}]);
//# sourceMappingURL=chunk-7f2d6954.4f2c5284.js.map