{"remainingRequest":"C:\\Users\\Administrator\\Desktop\\预见未来后台管理系统\\后台\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Administrator\\Desktop\\预见未来后台管理系统\\后台\\src\\views\\shop\\life\\lifegoods\\components\\fileFu.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\Administrator\\Desktop\\预见未来后台管理系统\\后台\\src\\views\\shop\\life\\lifegoods\\components\\fileFu.vue","mtime":1664415966891},{"path":"C:\\Users\\Administrator\\Desktop\\预见未来后台管理系统\\后台\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Administrator\\Desktop\\预见未来后台管理系统\\后台\\node_modules\\thread-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Administrator\\Desktop\\预见未来后台管理系统\\后台\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\Administrator\\Desktop\\预见未来后台管理系统\\后台\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Administrator\\Desktop\\预见未来后台管理系统\\后台\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgRSBmcm9tICJ3YW5nZWRpdG9yIjsNCg0KZXhwb3J0IGRlZmF1bHQgew0KICBuYW1lOiAiZWRpdG9yaXRlbSIsDQogIGRhdGEoKSB7DQogICAgcmV0dXJuIHsNCiAgICAgIGVkaXRvcjogbnVsbCwNCiAgICAgIGluZm9fOiBudWxsLA0KICAgIH07DQogIH0sDQogIG1vZGVsOiB7DQogICAgcHJvcDogInZhbHVlIiwNCiAgICBldmVudDogImNoYW5nZSIsDQogIH0sDQogIHByb3BzOiB7DQogICAgdmFsdWU6IHsNCiAgICAgIHR5cGU6IFN0cmluZywNCiAgICAgIGRlZmF1bHQ6ICIiLA0KICAgIH0sDQogICAgaXNDbGVhcjogew0KICAgICAgdHlwZTogQm9vbGVhbiwNCiAgICAgIGRlZmF1bHQ6IGZhbHNlLA0KICAgIH0sDQogIH0sDQogIHdhdGNoOiB7DQogICAgaXNDbGVhcih2YWwpIHsNCiAgICAgIC8vIOinpuWPkea4hemZpOaWh+acrOWfn+WGheWuuQ0KICAgICAgaWYgKHZhbCkgew0KICAgICAgICB0aGlzLmVkaXRvci50eHQuY2xlYXIoKTsNCiAgICAgICAgdGhpcy5pbmZvXyA9IG51bGw7DQogICAgICB9DQogICAgfSwNCiAgICB2YWx1ZTogZnVuY3Rpb24gKHZhbHVlKSB7DQogICAgICBpZiAodmFsdWUgIT09IHRoaXMuZWRpdG9yLnR4dC5odG1sKCkpIHsNCiAgICAgICAgdGhpcy5lZGl0b3IudHh0Lmh0bWwodGhpcy52YWx1ZSk7DQogICAgICAgIHZhbHVlOw0KICAgICAgfQ0KICAgIH0sDQogICAgLy92YWx1ZeS4uue8lui+keahhui+k+WFpeeahOWGheWuue+8jOi/memHjOaIkeebkeWQrOS6huS4gOS4i+WAvO+8jOW9k+eItue7hOS7tuiwg+eUqOW+l+aXtuWAme+8jOWmguaenOe7mXZhbHVl6LWL5YC85LqG77yM5a2Q57uE5Lu25bCG5Lya5pi+56S654i257uE5Lu26LWL57uZ55qE5YC8DQogIH0sDQogIG1vdW50ZWQoKSB7DQogICAgdGhpcy5zZXRlZGl0b3IoKTsNCiAgICB0aGlzLmVkaXRvci50eHQuaHRtbCh0aGlzLnZhbHVlKTsNCiAgfSwNCiAgbWV0aG9kczogew0KICAgIHNldGVkaXRvcigpIHsNCiAgICAgIHRoaXMuZWRpdG9yID0gbmV3IEUodGhpcy4kcmVmcy5lZGl0b3IpOw0KICAgICAgdGhpcy5lZGl0b3IuY29uZmlnLnVwbG9hZEltZ1Nob3dCYXNlNjQgPSBmYWxzZTsgLy8gYmFzZSA2NCDlrZjlgqjlm77niYcNCiAgICAgIHRoaXMuZWRpdG9yLmNvbmZpZy51cGxvYWRJbWdTZXJ2ZXIgPQ0KICAgICAgICAiaHR0cHM6Ly95dWppYW4wMi54eXovY29tbWFuZC9vc3NVcGxvYWQ/ZmlsZW5hbWU9aW1nX2UiOyAvLyDloavlhpnphY3nva7mnI3liqHlmajnq6/lnLDlnYANCiAgICAgIC8vIHRoaXMuZWRpdG9yLmNvbmZpZy51cGxvYWRJbWdIZWFkZXJzID0geyAnQXV0aG9yaXphdGlvbic6IHRoaXMudG9rZW4gfS8vIOiHquWumuS5iSBoZWFkZXINCiAgICAgIHRoaXMuZWRpdG9yLmNvbmZpZy51cGxvYWRGaWxlTmFtZSA9ICJpbWdfZSI7IC8vIOWQjuerr+aOpeWPl+S4iuS8oOaWh+S7tueahOWPguaVsOWQjQ0KICAgICAgdGhpcy5lZGl0b3IuY29uZmlnLnVwbG9hZEltZ01heFNpemUgPSA4ICogMTAyNCAqIDEwMjQ7IC8vIOWwhuWbvueJh+Wkp+Wwj+mZkOWItuS4uiAyTQ0KICAgICAgdGhpcy5lZGl0b3IuY29uZmlnLnVwbG9hZEltZ01heExlbmd0aCA9IDY7IC8vIOmZkOWItuS4gOasoeacgOWkmuS4iuS8oCA2IOW8oOWbvueJhw0KICAgICAgdGhpcy5lZGl0b3IuY29uZmlnLnVwbG9hZEltZ1RpbWVvdXQgPSAzICogNjAgKiAxMDAwOyAvLyDorr7nva7otoXml7bml7bpl7QNCiAgICAgIC8vIOiHquWumuS5iSBvbmNoYW5nZSDop6blj5HnmoTlu7bov5/ml7bpl7TvvIzpu5jorqTkuLogMjAwIG1zDQogICAgICB0aGlzLmVkaXRvci5jb25maWcub25jaGFuZ2VUaW1lb3V0ID0gMTAwMDsgLy8g5Y2V5L2NIG1zDQogICAgICB0aGlzLmVkaXRvci5jb25maWcub25jaGFuZ2UgPSAoaHRtbCkgPT4gew0KICAgICAgICB0aGlzLmluZm9fID0gaHRtbDsgLy8g57uR5a6a5b2T5YmN6YCQ5riQ5Zyw5YC8DQogICAgICAgIGNvbnN0IHJlZ2V4ID0gbmV3IFJlZ0V4cCgiPGltZyIsICJnaSIpOw0KICAgICAgICB0aGlzLmluZm9fID0gaHRtbC5yZXBsYWNlKHJlZ2V4LCBgPGltZyBzdHlsZT0ibWF4LXdpZHRoOicnOyJgKTsNCiAgICAgICAgdGhpcy4kZW1pdCgiY2hhbmdlIiwgdGhpcy5pbmZvXyk7IC8vIOWwhuWGheWuueWQjOatpeWIsOeItue7hOS7tuS4rQ0KICAgICAgICAvL2NvbnNvbGUubG9nKHRoaXMuaW5mb18pOw0KICAgICAgfTsNCiAgICAgIC8vIOWIm+W7uuWvjOaWh+acrOe8lui+keWZqA0KICAgICAgdGhpcy5lZGl0b3IuY3JlYXRlKCk7DQoNCiAgICAgIHRoaXMuZWRpdG9yLmNvbmZpZy51cGxvYWRJbWdIb29rcyA9IHsNCiAgICAgICAgZmFpbDogKHhociwgZWRpdG9yLCByZXN1bHQpID0+IHsNCiAgICAgICAgICAvLyDmj5LlhaXlm77niYflpLHotKXlm57osIMNCiAgICAgICAgfSwNCiAgICAgICAgc3VjY2VzczogKHhociwgZWRpdG9yLCByZXN1bHQpID0+IHsNCiAgICAgICAgICAvLyDlm77niYfkuIrkvKDmiJDlip/lm57osIMNCiAgICAgICAgfSwNCiAgICAgICAgdGltZW91dDogKHhociwgZWRpdG9yKSA9PiB7DQogICAgICAgICAgLy8g572R57uc6LaF5pe255qE5Zue6LCDDQogICAgICAgIH0sDQogICAgICAgIGVycm9yOiAoeGhyLCBlZGl0b3IpID0+IHsNCiAgICAgICAgICAvLyDlm77niYfkuIrkvKDplJnor6/nmoTlm57osIMNCiAgICAgICAgfSwNCiAgICAgICAgY3VzdG9tSW5zZXJ0OiAoaW5zZXJ0SW1nLCByZXN1bHQsIGVkaXRvcikgPT4gew0KICAgICAgICAgIC8v5b6q546v5o+S5YWl5Zu+54mHDQoNCiAgICAgICAgICAvL2NvbnNvbGUubG9nKHJlc3VsdC5kYXRhKTsNCiAgICAgICAgICBjb25zdCBpbWdVcmwgPSByZXN1bHQuZGF0YTsNCg0KICAgICAgICAgIGluc2VydEltZyhpbWdVcmwpOw0KICAgICAgICB9LA0KICAgICAgfTsNCiAgICB9LA0KICB9LA0KfTsNCg=="},{"version":3,"sources":["fileFu.vue"],"names":[],"mappings":";;;;;;;;AAQA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA","file":"fileFu.vue","sourceRoot":"src/views/shop/special/specialgoods/components","sourcesContent":["<template lang=\"html\">\r\n    <div class=\"editor\">\r\n        <div ref=\"editor\" class=\"textNeirong\"></div>\r\n        \r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport E from \"wangeditor\";\r\n\r\nexport default {\r\n  name: \"editoritem\",\r\n  data() {\r\n    return {\r\n      editor: null,\r\n      info_: null,\r\n    };\r\n  },\r\n  model: {\r\n    prop: \"value\",\r\n    event: \"change\",\r\n  },\r\n  props: {\r\n    value: {\r\n      type: String,\r\n      default: \"\",\r\n    },\r\n    isClear: {\r\n      type: Boolean,\r\n      default: false,\r\n    },\r\n  },\r\n  watch: {\r\n    isClear(val) {\r\n      // 触发清除文本域内容\r\n      if (val) {\r\n        this.editor.txt.clear();\r\n        this.info_ = null;\r\n      }\r\n    },\r\n    value: function (value) {\r\n      if (value !== this.editor.txt.html()) {\r\n        this.editor.txt.html(this.value);\r\n        value;\r\n      }\r\n    },\r\n    //value为编辑框输入的内容，这里我监听了一下值，当父组件调用得时候，如果给value赋值了，子组件将会显示父组件赋给的值\r\n  },\r\n  mounted() {\r\n    this.seteditor();\r\n    this.editor.txt.html(this.value);\r\n  },\r\n  methods: {\r\n    seteditor() {\r\n      this.editor = new E(this.$refs.editor);\r\n      this.editor.config.uploadImgShowBase64 = false; // base 64 存储图片\r\n      this.editor.config.uploadImgServer =\r\n        \"https://yujian02.xyz/command/ossUpload?filename=img_e\"; // 填写配置服务器端地址\r\n      // this.editor.config.uploadImgHeaders = { 'Authorization': this.token }// 自定义 header\r\n      this.editor.config.uploadFileName = \"img_e\"; // 后端接受上传文件的参数名\r\n      this.editor.config.uploadImgMaxSize = 8 * 1024 * 1024; // 将图片大小限制为 2M\r\n      this.editor.config.uploadImgMaxLength = 6; // 限制一次最多上传 6 张图片\r\n      this.editor.config.uploadImgTimeout = 3 * 60 * 1000; // 设置超时时间\r\n      // 自定义 onchange 触发的延迟时间，默认为 200 ms\r\n      this.editor.config.onchangeTimeout = 1000; // 单位 ms\r\n      this.editor.config.onchange = (html) => {\r\n        this.info_ = html; // 绑定当前逐渐地值\r\n        const regex = new RegExp(\"<img\", \"gi\");\r\n        this.info_ = html.replace(regex, `<img style=\"max-width:'';\"`);\r\n        this.$emit(\"change\", this.info_); // 将内容同步到父组件中\r\n        //console.log(this.info_);\r\n      };\r\n      // 创建富文本编辑器\r\n      this.editor.create();\r\n\r\n      this.editor.config.uploadImgHooks = {\r\n        fail: (xhr, editor, result) => {\r\n          // 插入图片失败回调\r\n        },\r\n        success: (xhr, editor, result) => {\r\n          // 图片上传成功回调\r\n        },\r\n        timeout: (xhr, editor) => {\r\n          // 网络超时的回调\r\n        },\r\n        error: (xhr, editor) => {\r\n          // 图片上传错误的回调\r\n        },\r\n        customInsert: (insertImg, result, editor) => {\r\n          //循环插入图片\r\n\r\n          //console.log(result.data);\r\n          const imgUrl = result.data;\r\n\r\n          insertImg(imgUrl);\r\n        },\r\n      };\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n.editor {\r\n  width: 100%;\r\n  margin: auto;\r\n  position: relative;\r\n}\r\n</style>\r\n"]}]}