(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d22237a"],{ce57:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"user"},[a("div",{staticClass:"block-quote"},[a("el-form",{attrs:{inline:!0}},[a("el-form-item",{attrs:{label:"商品名称:",prop:"number"}},[a("el-input",{staticStyle:{width:"200px"},attrs:{clearable:"",placeholder:"请输入商品名称"},model:{value:e.box_name,callback:function(t){e.box_name=t},expression:"box_name"}})],1),a("el-form-item",{attrs:{label:"设备编号:",prop:"number"}},[a("el-input",{staticStyle:{width:"200px"},attrs:{clearable:"",placeholder:"请输入设备编号:"},model:{value:e.number,callback:function(t){e.number=t},expression:"number"}})],1),a("el-form-item",{attrs:{label:"时间",prop:"time"}},[a("el-date-picker",{attrs:{type:"daterange","value-format":"yyyy-MM-dd","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:e.time,callback:function(t){e.time=t},expression:"time"}})],1),a("el-form-item",{staticStyle:{float:"right"}},[a("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:e.searchinfo}},[e._v("搜索")]),a("el-button",{on:{click:e.dao}},[e._v("导出")])],1)],1)],1),a("page-table",{ref:"dataTable",attrs:{data:e.userList},on:{changeCurrentPage:e.changeCurrent}},[a("el-table-column",{attrs:{label:"序号",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s((e.page.currentPage-1)*e.page.pageSize+t.$index+1))])]}}])}),a("el-table-column",{attrs:{prop:"device",label:"设备编号",align:"center"}}),a("el-table-column",{attrs:{label:"点位位置",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.position))])]}}])}),a("el-table-column",{attrs:{label:"设备供货药房",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.officina))])]}}])}),a("el-table-column",{attrs:{prop:"goods_name",label:"药品名称",align:"center"}}),a("el-table-column",{attrs:{prop:"num",label:"补货数量",align:"center"}}),a("el-table-column",{attrs:{prop:"sell_price",label:"售卖单价",align:"center"}}),a("el-table-column",{attrs:{prop:"price",label:"商品成本",align:"center"}}),a("el-table-column",{attrs:{prop:"all_price",label:"补货成本",align:"center"}}),a("el-table-column",{attrs:{prop:"time",label:"补货时间",align:"center"}})],1)],1)},i=[],o=a("ade3"),r=(a("b0c0"),a("d81d"),a("e9c4"),a("fd03")),s=a("bade"),l=a("e3d9"),c=(a("ff82"),{name:"user",components:{pageTable:l["a"]},data:function(){var e;return e={box_uid:"",box_name:"",areaArr:[],number:"",value:"",value1:"",time:"",list:[],list1:[],profit:"",all:"",name:"",officina_id:"",province:"",city:"",area:"",eprovince:"",ecity:"",earea:"",userList:[]},Object(o["a"])(e,"time",""),Object(o["a"])(e,"page",{currentPage:1,pageSize:10,total:0}),e},watch:{time:function(e){null==e&&(this.time=[])},name:function(e){console.log(e),this.huolist1()}},created:function(){var e=new Date,t=e.getFullYear(),a=e.getMonth()+1;a=a<10?"0"+a:a;var n=e.getDate();n=n<10?"0"+n:n;var i=t+"-"+a+"-"+n,o=e.getFullYear(),r=e.getMonth()+1;r=r<10?"0"+r:r;var s=e.getDate()-1;s=s<10?"0"+s:s;var l=o+"-"+r+"-"+s,c=[];c.push(l),c.push(i),this.time=c,this.getUserList()},mounted:function(){},computed:{},methods:{dao:function(){void 0==this.time[1]?window.location.href="https://y4.wjw.cool/adminApi/box/boxFinance/repExport?token="+this.token+"&goods_name="+this.box_name+"&device="+this.number:window.location.href="https://y4.wjw.cool/adminApi/box/boxFinance/repExport?token="+this.token+"&goods_name="+this.box_name+"&device="+this.number+this.time[0]+"&time2="+this.time[1]},huolist1:function(){var e=this,t={token:sessionStorage.getItem("token"),big_name:this.name,province:this.province,city:this.city,area:this.area};Object(r["rc"])(t).then((function(t){console.log(t.data.data),e.list1=t.data.data}))},setData:function(e){var t=this;e.map((function(e){e["value"]=e.code,e["label"]=e.name,e.children&&t.setData(e.children)}))},change:function(e){console.log(e),this.eprovince=e[0],this.ecity=e[1],this.earea=e[2]},change1:function(e){console.log(e),this.province=e[0],this.city=e[1],this.area=e[2],this.get()},get:function(){var e=this,t={token:sessionStorage.getItem("token"),province:this.province,city:this.city,area:this.area};Object(r["rc"])(t).then((function(t){console.log(t.data.data),e.list=t.data.data}))},showtable:function(e){var t=e;this.$refs.editData.show(JSON.parse(JSON.stringify(t)))},checkPermission:s["a"],changeCurrent:function(e,t){this.page.currentPage=e,this.page.pageSize=t,this.getUserList()},searchinfo:function(){var e=this,t=sessionStorage.getItem("token");this.token=t;var a={page:this.page.currentPage,limit:this.page.pageSize,token:sessionStorage.getItem("token"),s_time:this.time[0],e_time:this.time[1],goods_name:this.box_name,device:this.number};Object(r["bd"])(a).then((function(t){e.page.total=t.data.data.total;var a=t.data.data.dataList;console.log(a);var n=[];for(var i in a)n.push(a[i]);e.userList=n,e.$refs.dataTable.setPageInfo({total:e.page.total})}))},getUserList:function(){var e=this,t=sessionStorage.getItem("token");this.token=t;var a={page:this.page.currentPage,limit:this.page.pageSize,token:sessionStorage.getItem("token"),s_time:this.time[0],e_time:this.time[1],goods_name:this.box_name,device:this.number};Object(r["bd"])(a).then((function(t){e.page.total=t.data.data.total;var a=t.data.data.dataList;console.log(a);var n=[];for(var i in a)n.push(a[i]);e.userList=n,e.$refs.dataTable.setPageInfo({total:e.page.total})}))}}}),u=c,p=a("2877"),m=Object(p["a"])(u,n,i,!1,null,"59999208",null);t["default"]=m.exports}}]);
//# sourceMappingURL=chunk-2d22237a.cb67914b.js.map