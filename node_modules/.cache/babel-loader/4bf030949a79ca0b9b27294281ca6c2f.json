{"remainingRequest":"C:\\Users\\Administrator\\Desktop\\lun-vue-admin-master\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\Administrator\\Desktop\\lun-vue-admin-master\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!C:\\Users\\Administrator\\Desktop\\lun-vue-admin-master\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Administrator\\Desktop\\lun-vue-admin-master\\src\\views\\authority\\role\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\Administrator\\Desktop\\lun-vue-admin-master\\src\\views\\authority\\role\\index.vue","mtime":1651134821178},{"path":"C:\\Users\\Administrator\\Desktop\\lun-vue-admin-master\\babel.config.js","mtime":1646805521000},{"path":"C:\\Users\\Administrator\\Desktop\\lun-vue-admin-master\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Administrator\\Desktop\\lun-vue-admin-master\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\Administrator\\Desktop\\lun-vue-admin-master\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Administrator\\Desktop\\lun-vue-admin-master\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkM6L1VzZXJzL0FkbWluaXN0cmF0b3IvRGVza3RvcC9sdW4tdnVlLWFkbWluLW1hc3Rlci9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvciI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmpzb24uc3RyaW5naWZ5LmpzIjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUuanMiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwppbXBvcnQgeyBjaGVja1Blcm1pc3Npb24gfSBmcm9tICJAL3V0aWxzL3Blcm1pc3Npb25zIjsKaW1wb3J0IHsgZ2V0Um9sZXMsIGRlbGV0ZVJvbGVzIH0gZnJvbSAiQC9hcGkvcm9sZSI7CmltcG9ydCBwYWdlVGFibGUgZnJvbSAiQC9jb21wb25lbnRzL3BhZ2VUYWJsZS52dWUiOwppbXBvcnQgc2V0Um9sZSBmcm9tICIuL2NvbXBvbmVudHMvc2V0Um9sZS52dWUiOwppbXBvcnQgYWRkT3JFZGl0RGlhbG9nIGZyb20gIi4vY29tcG9uZW50cy9hZGRPckVkaXREaWFsb2cudnVlIjsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJyb2xlIiwKICBjb21wb25lbnRzOiB7CiAgICBwYWdlVGFibGU6IHBhZ2VUYWJsZSwKICAgIHNldFJvbGU6IHNldFJvbGUsCiAgICBhZGRPckVkaXREaWFsb2c6IGFkZE9yRWRpdERpYWxvZwogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHJvbGVzTGlzdDogW10sCiAgICAgIC8v6KeS6Imy5YiX6KGoCiAgICAgIHRhYmxlU2VsZWN0TGlzdDogW10sCiAgICAgIGZvcm06IHsKICAgICAgICB0aXRsZTogIiIKICAgICAgfQogICAgfTsKICB9LAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICB0aGlzLmdldFJvbGVzTGlzdCgpOyAvL+iOt+WPluinkuiJsgogIH0sCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHt9LAogIG1ldGhvZHM6IHsKICAgIGNoZWNrUGVybWlzc2lvbjogY2hlY2tQZXJtaXNzaW9uLAogICAgZ2V0Um9sZXNMaXN0OiBmdW5jdGlvbiBnZXRSb2xlc0xpc3QoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICAgIHZhciByZXM7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDI7CiAgICAgICAgICAgICAgICByZXR1cm4gZ2V0Um9sZXMoX3RoaXMuZm9ybSk7CgogICAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICAgIHJlcyA9IF9jb250ZXh0LnNlbnQ7CgogICAgICAgICAgICAgICAgaWYgKHJlcy5zdGF0dXMgPT0gMjAwKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzLnJvbGVzTGlzdCA9IHJlcy5kYXRhOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgLy/nm5HlkKzooajmoLzlpJrpgIkKICAgIGdldFNlbGVjdGlvbjogZnVuY3Rpb24gZ2V0U2VsZWN0aW9uKHNlbGVjdCkgewogICAgICB0aGlzLnRhYmxlU2VsZWN0TGlzdCA9IHNlbGVjdDsKICAgIH0sCiAgICBhZGREYXRhOiBmdW5jdGlvbiBhZGREYXRhKCkgewogICAgICB0aGlzLiRyZWZzLmFkZG9yZWRpdERhdGEuc2hvdygxLCB7fSk7IC8vIDE65paw5aKe77yMMjrnvJbovpEKICAgIH0sCiAgICBlZGl0RGF0YTogZnVuY3Rpb24gZWRpdERhdGEoKSB7CiAgICAgIGlmICh0aGlzLnRhYmxlU2VsZWN0TGlzdC5sZW5ndGggPT0gMSkgewogICAgICAgIHRoaXMuJHJlZnMuYWRkb3JlZGl0RGF0YS5zaG93KDIsIEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkodGhpcy50YWJsZVNlbGVjdExpc3RbMF0pKSk7IC8vIDE65paw5aKe77yMMjrnvJbovpEKICAgICAgfSBlbHNlIGlmICh0aGlzLnRhYmxlU2VsZWN0TGlzdC5sZW5ndGggPT0gMCkgewogICAgICAgIHRoaXMuJG1lc3NhZ2Uud2FybmluZygi6K+36YCJ5oup5LiA5p2h5pWw5o2u57yW6L6RIik7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy4kbWVzc2FnZS53YXJuaW5nKCLmmoLkuI3mlK/mjIHmibnph4/nvJbovpEiKTsKICAgICAgfQogICAgfSwKICAgIGRlbGV0ZURhdGE6IGZ1bmN0aW9uIGRlbGV0ZURhdGEoKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgaWYgKHRoaXMudGFibGVTZWxlY3RMaXN0Lmxlbmd0aCA9PSAxKSB7CiAgICAgICAgdGhpcy4kY29uZmlybSgi5piv5ZCm5Yig6Zmk5q2k6KeS6Imy77yfIiwgIuaPkOekuiIsIHsKICAgICAgICAgIHR5cGU6ICJ3YXJuaW5nIgogICAgICAgIH0pLnRoZW4oIC8qI19fUFVSRV9fKi9fYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUyKCkgewogICAgICAgICAgdmFyIHJlczsKICAgICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMiQoX2NvbnRleHQyKSB7CiAgICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDIucHJldiA9IF9jb250ZXh0Mi5uZXh0KSB7CiAgICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMjsKICAgICAgICAgICAgICAgICAgcmV0dXJuIGRlbGV0ZVJvbGVzKHsKICAgICAgICAgICAgICAgICAgICBpZDogX3RoaXMyLnRhYmxlU2VsZWN0TGlzdFswXS5pZAogICAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgICAgIHJlcyA9IF9jb250ZXh0Mi5zZW50OwoKICAgICAgICAgICAgICAgICAgaWYgKHJlcy5zdGF0dXMgPT0gMjAwKSB7CiAgICAgICAgICAgICAgICAgICAgX3RoaXMyLmdldFJvbGVzTGlzdCgpOwoKICAgICAgICAgICAgICAgICAgICBfdGhpczIuJG1lc3NhZ2Uuc3VjY2VzcyhyZXMubWVzc2FnZSk7CiAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLnN0b3AoKTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgIH0sIF9jYWxsZWUyKTsKICAgICAgICB9KSkpLmNhdGNoKGZ1bmN0aW9uICgpIHt9KTsKICAgICAgfSBlbHNlIGlmICh0aGlzLnRhYmxlU2VsZWN0TGlzdC5sZW5ndGggPT0gMCkgewogICAgICAgIHRoaXMuJG1lc3NhZ2Uud2FybmluZygi6K+36YCJ5oup5LiA5p2h5pWw5o2u5Yig6ZmkIik7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy4kbWVzc2FnZS53YXJuaW5nKCLmmoLkuI3mlK/mjIHmibnph4/liKDpmaQiKTsKICAgICAgfQogICAgfSwKICAgIHNldFBlcm1pc3Npb25zOiBmdW5jdGlvbiBzZXRQZXJtaXNzaW9ucyhyb3cpIHsKICAgICAgdGhpcy4kcmVmcy5zZXRSbG9lLnNob3cocm93KTsKICAgIH0KICB9Cn07"},{"version":3,"sources":["index.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div class=\"role\">\n    <div class=\"block-quote\">\n      <el-form :inline=\"true\" ref=\"form\">\n        <el-form-item label=\"角色名称\" prop=\"title\">\n          <el-input\n            v-model=\"form.title\"\n            clearable\n            placeholder=\"请输入角色名称\"\n          ></el-input>\n        </el-form-item>\n        <el-form-item style=\"float: right\">\n          <el-button\n            v-if=\"checkPermission('rolesearch')\"\n            type=\"primary\"\n            icon=\"el-icon-search\"\n            @click=\"getRolesList\"\n            >查询</el-button\n          >\n          <el-button\n            v-if=\"checkPermission('roleadd')\"\n            type=\"primary\"\n            icon=\"el-icon-plus\"\n            @click=\"addData\"\n            >新增</el-button\n          >\n          <el-button\n            v-if=\"checkPermission('roleedit')\"\n            type=\"primary\"\n            icon=\"el-icon-edit\"\n            @click=\"editData\"\n            >编辑</el-button\n          >\n          <el-button\n            v-if=\"checkPermission('roledelete')\"\n            type=\"danger\"\n            icon=\"el-icon-delete\"\n            @click=\"deleteData\"\n            >删除</el-button\n          >\n        </el-form-item>\n      </el-form>\n    </div>\n    <page-table\n      ref=\"dataTable\"\n      :data=\"rolesList\"\n      :paging=\"false\"\n      @selection-change=\"getSelection\"\n    >\n      <el-table-column\n        type=\"selection\"\n        fixed\n        width=\"40\"\n        :resizable=\"false\"\n      ></el-table-column>\n      <el-table-column\n        type=\"index\"\n        label=\"序号\"\n        fixed\n        width=\"50\"\n        :resizable=\"false\"\n      ></el-table-column>\n      <el-table-column\n        prop=\"name\"\n        label=\"角色\"\n        width=\"200\"\n        :resizable=\"false\"\n      ></el-table-column>\n      <el-table-column\n        prop=\"title\"\n        label=\"角色名称\"\n        width=\"200\"\n        :resizable=\"false\"\n      ></el-table-column>\n      <el-table-column\n        prop=\"description\"\n        label=\"角色描述\"\n        :resizable=\"false\"\n      ></el-table-column>\n      <el-table-column\n        fixed=\"right\"\n        label=\"操作\"\n        width=\"200\"\n        :resizable=\"false\"\n        v-if=\"checkPermission('rolepermissions')\"\n      >\n        <template slot-scope=\"scope\">\n          <el-link\n            type=\"primary\"\n            :disabled=\"scope.row.id == '001' ? true : false\"\n            @click=\"setPermissions(scope.row)\"\n            >设置权限</el-link\n          >\n        </template>\n      </el-table-column>\n    </page-table>\n    <!-- 设置权限 -->\n    <set-role ref=\"setRloe\"></set-role>\n    <!-- 新增或编辑弹窗 -->\n    <addOrEdit-dialog ref=\"addoreditData\"></addOrEdit-dialog>\n  </div>\n</template>\n\n<script>\nimport { checkPermission } from \"@/utils/permissions\";\nimport { getRoles, deleteRoles } from \"@/api/role\";\nimport pageTable from \"@/components/pageTable.vue\";\nimport setRole from \"./components/setRole.vue\";\nimport addOrEditDialog from \"./components/addOrEditDialog.vue\";\nexport default {\n  name: \"role\",\n  components: {\n    pageTable,\n    setRole,\n    addOrEditDialog,\n  },\n  data() {\n    return {\n      rolesList: [], //角色列表\n      tableSelectList: [],\n      form: {\n        title: \"\",\n      },\n    };\n  },\n  created() {\n    this.getRolesList(); //获取角色\n  },\n  mounted() {},\n  methods: {\n    checkPermission,\n    async getRolesList() {\n      let res = await getRoles(this.form);\n      if (res.status == 200) {\n        this.rolesList = res.data;\n      }\n    },\n    //监听表格多选\n    getSelection(select) {\n      this.tableSelectList = select;\n    },\n    addData() {\n      this.$refs.addoreditData.show(1, {}); // 1:新增，2:编辑\n    },\n    editData() {\n      if (this.tableSelectList.length == 1) {\n        this.$refs.addoreditData.show(\n          2,\n          JSON.parse(JSON.stringify(this.tableSelectList[0]))\n        ); // 1:新增，2:编辑\n      } else if (this.tableSelectList.length == 0) {\n        this.$message.warning(\"请选择一条数据编辑\");\n      } else {\n        this.$message.warning(\"暂不支持批量编辑\");\n      }\n    },\n    deleteData() {\n      if (this.tableSelectList.length == 1) {\n        this.$confirm(\"是否删除此角色？\", \"提示\", {\n          type: \"warning\",\n        })\n          .then(async () => {\n            let res = await deleteRoles({\n              id: this.tableSelectList[0].id,\n            });\n            if (res.status == 200) {\n              this.getRolesList();\n              this.$message.success(res.message);\n            }\n          })\n          .catch(() => {});\n      } else if (this.tableSelectList.length == 0) {\n        this.$message.warning(\"请选择一条数据删除\");\n      } else {\n        this.$message.warning(\"暂不支持批量删除\");\n      }\n    },\n    setPermissions(row) {\n      this.$refs.setRloe.show(row);\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n</style>\n"],"sourceRoot":"src/views/authority/role"}]}