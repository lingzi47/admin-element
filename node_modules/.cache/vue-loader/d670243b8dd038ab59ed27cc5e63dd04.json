{"remainingRequest":"C:\\Users\\Administrator\\Desktop\\后台\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Administrator\\Desktop\\后台\\src\\views\\user\\bgaccountset\\bgaccount\\components\\addOrEditDialog.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\Administrator\\Desktop\\后台\\src\\views\\user\\bgaccountset\\bgaccount\\components\\addOrEditDialog.vue","mtime":1670315634811},{"path":"C:\\Users\\Administrator\\Desktop\\后台\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\Administrator\\Desktop\\后台\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Administrator\\Desktop\\后台\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7CiAgdXNlclJvbGVzLAogIGFkZFVzZXIsCiAgZWRpdFNob3csCiAgZWRpdFVzZXIsCiAgcGhvbmVDb2RlLAp9IGZyb20gIkAvcmVxdWVzdC9hcGkiOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIkFkZERpYWxvZyIsCiAgY29tcG9uZW50czoge30sCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGlkOiAiIiwKICAgICAgaXNTbXNTZW5kOiBmYWxzZSwKICAgICAgc2VuZEJ0blRleHQ6ICLngrnlh7vlj5HpgIHpqozor4HnoIEiLAogICAgICBjb3VudGVyOiAiNjAiLAogICAgICB0b2tlbjogIiIsCiAgICAgIHJvbGVzTGlzdDogW10sIC8v6KeS6Imy5YiX6KGoCiAgICAgIHR5cGU6IDEsIC8vMeaWsOWinu+8jDLnvJbovpEKICAgICAgZGlhbG9nVmlzaWJsZTogZmFsc2UsCiAgICAgIGNvZGU6ICIiLAogICAgICBydWxlRm9ybTogewogICAgICAgIGlkOiAiIiwKICAgICAgICBuaWNrbmFtZTogIiIsCiAgICAgICAgcHdkOiAiIiwKICAgICAgICBjb2RlOiAiIiwKICAgICAgICB1bmFtZTogIiIsCiAgICAgICAgdGVsOiAiIiwKICAgICAgICByb2xlX25hbWU6ICIiLAogICAgICB9LAogICAgICBydWxlczogewogICAgICAgIHVuYW1lOiBbCiAgICAgICAgICB7IHJlcXVpcmVkOiB0cnVlLCBtZXNzYWdlOiAi6LSm5Y+35LiN6IO95Li656m6IiwgdHJpZ2dlcjogImJsdXIiIH0sCiAgICAgICAgCiAgICAgICAgXSwKICAgICAgICBwd2Q6IFsKICAgICAgICAgIHsgcmVxdWlyZWQ6IHRydWUsIG1lc3NhZ2U6ICLlr4bnoIHkuI3og73kuLrnqboiLCB0cmlnZ2VyOiAiYmx1ciIgfSwKICAgICAgICAKICAgICAgICBdLAogICAgICAgIG5pY2tuYW1lOiBbCiAgICAgICAgICB7IHJlcXVpcmVkOiB0cnVlLCBtZXNzYWdlOiAi5aeT5ZCN5LiN6IO95Li656m6IiwgdHJpZ2dlcjogImJsdXIiIH0sCiAgICAgICAgIAogICAgICAgIF0sCiAgICAgICAgdGVsOiBbCiAgICAgICAgICB7IHJlcXVpcmVkOiB0cnVlLCBtZXNzYWdlOiAi5omL5py65Y+35LiN6IO95Li656m6IiwgdHJpZ2dlcjogImJsdXIiIH0sCiAgICAgICAgICB7CiAgICAgICAgICAgIHBhdHRlcm46IC9eMVszNDU2Nzg5XVxkezl9JC8sCiAgICAgICAgICAgIG1lc3NhZ2U6ICLmiYvmnLrlj7fmoLzlvI/kuI3mraPnoa4iLAogICAgICAgICAgICB0cmlnZ2VyOiAiYmx1ciIsCiAgICAgICAgICB9LAogICAgICAgIF0sCiAgICAgICAgY29kZTogW3sgcmVxdWlyZWQ6IHRydWUsIG1lc3NhZ2U6ICLpqozor4HnoIHkuI3og73kuLrnqboiLCB0cmlnZ2VyOiAiYmx1ciIgfV0sCiAgICAgIH0sCiAgICAgIHJhbmdlRGF0ZTogewogICAgICAgIC8v5pel5pyf6IyD5Zu06YCJ5oup77yM5Y+q6IO96YCJ5oup5b2T5YmN5pel5pyf5Lul5YmN55qECiAgICAgICAgZGlzYWJsZWREYXRlKGRhdGUpIHsKICAgICAgICAgIHJldHVybiBkYXRlLmdldFRpbWUoKSA+IERhdGUubm93KCk7CiAgICAgICAgfSwKICAgICAgfSwKICAgIH07CiAgfSwKICBjcmVhdGVkOiBmdW5jdGlvbiAoKSB7CiAgICB0aGlzLmdldFJvbGVzTGlzdCgpOyAvL+iOt+WPluinkuiJsgogICAgaWYgKHRoaXMudHlwZSA9PSAyKSB7CiAgICAgIHRoaXMuZ2V0VXNlckVkaXQoKTsKICAgIH0KICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uICgpIHt9LAogIG1ldGhvZHM6IHsKICAgIGNvdW50RG93bigpIHsKICAgICAgLy8g5bCGc2V0SW50ZXJ2YWwoKeaWueazlei1i+WAvOe7meWJjemdouWumuS5ieeahHRpbWVy6K6h5pe25Zmo5a+56LGh77yM562J55SoY2xlYXJJbnRlcnZhbCgp5pa55rOV5pe25pa55L6/5riF56m66L+Z5Liq6K6h5pe25Zmo5a+56LGhCiAgICAgIHRoaXMudGltZXIgPSBzZXRJbnRlcnZhbCgoKSA9PiB7CiAgICAgICAgLy8g5pu/5o2i5paH5pys77yM55SoZXM26YeM6Z2i55qEYGDov5nkuKrmnaXliJvlu7rlrZfnrKbkuLLmqKHmnb/vvIzorqnnp5Llrp7ml7bmlLnlj5gKICAgICAgICB0aGlzLnNlbmRCdG5UZXh0ID0gYCgke3RoaXMuY291bnRlcn3np5Ip5ZCO6YeN5paw5Y+R6YCBYDsKICAgICAgICB0aGlzLmNvdW50ZXItLTsKICAgICAgICBpZiAodGhpcy5jb3VudGVyIDwgMCkgewogICAgICAgICAgLy8g5b2T6K6h5pe25bCP5LqO6Zu25pe277yM5Y+W5raI6K+l6K6h5pe25ZmoCiAgICAgICAgICBjbGVhckludGVydmFsKHRoaXMudGltZXIpOwogICAgICAgICAgdGhpcy5yZXNldCgpOwogICAgICAgIH0KICAgICAgfSwgMTAwMCk7CiAgICB9LAogICAgeWFuKCkgewogICAgICBpZiAoCiAgICAgICAgIS9eKDEzWzAtOV18MTRbMDE0NTY4NzldfDE1WzAtMzUtOV18MTZbMjU2N118MTdbMC04XXwxOFswLTldfDE5WzAtMzUtOV0pXGR7OH0kLy50ZXN0KAogICAgICAgICAgdGhpcy5ydWxlRm9ybS50ZWwKICAgICAgICApCiAgICAgICkgewogICAgICAgIHRoaXMuJG1lc3NhZ2UoewogICAgICAgICAgbWVzc2FnZTogIuivt+i+k+WFpeato+ehruaJi+acuuWPtyIsCiAgICAgICAgICB0eXBlOiAiZXJyb3IiLAogICAgICAgIH0pOwogICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgfQogICAgICAvLyDliKTmlq3miYvmnLrlj7fmmK/lkKbnrKblkIjopoHmsYIKICAgICAgaWYgKHRoaXMucnVsZUZvcm0udGVsLmxlbmd0aCAhPT0gMTEpIHsKICAgICAgICB0aGlzLiRtZXNzYWdlKHsKICAgICAgICAgIG1lc3NhZ2U6ICLor7fovpPlhaUxMeS9jeaJi+acuuWPtyIsCiAgICAgICAgICB0eXBlOiAiZXJyb3IiLAogICAgICAgIH0pOwogICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgfQogICAgICBsZXQgcGFyYW1zID0gewogICAgICAgIHBob25lOiB0aGlzLnJ1bGVGb3JtLnRlbCwKICAgICAgfTsKICAgICAgcGhvbmVDb2RlKHBhcmFtcykudGhlbigocmVzKSA9PiB7CiAgICAgICAgaWYgKHJlcy5kYXRhLmNvZGUgPT0gMjAwKSB7CiAgICAgICAgICBjb25zb2xlLmxvZyhyZXMuZGF0YS5kYXRlKTsKICAgICAgICAgIHRoaXMuY29kZSA9IHJlcy5kYXRhLmRhdGU7CiAgICAgICAgICB0aGlzLmlzU21zU2VuZCA9IHRydWU7CiAgICAgICAgICAvLyDlvIDlp4vlgJLorqHml7bvvIw2MHPkuYvlkI7miY3og73lho3mrKHngrnlh7sKICAgICAgICAgIHRoaXMuY291bnREb3duKCk7IC8vIOi/memHjOWunueOsOWAkuiuoeaXtueahOWKn+iDve+8jOaWh+eroOS4i+mdouW8gOWni+S7i+e7jQogICAgICAgICAgdGhpcy4kbWVzc2FnZS5zdWNjZXNzKHJlcy5kYXRhLm1zZyk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHRoaXMuJG1lc3NhZ2UuZXJyb3IocmVzLmRhdGEubXNnKTsKICAgICAgICB9CiAgICAgIH0pOwoKICAgICAgLy8g6LCD55So5o6l5Y+j77yM5Y+R6YCB55+t5L+h6aqM6K+B56CBCiAgICAgIC8vIOi/memDqOWIhuaUvuiwg+eUqOWPkemAgeefreS/oeeahOaOpeWPo++8jOi/memHjOWFiOS4jeWBmuS7u+S9leWKn+iDve+8jOS4u+imgeWFiOaKiuaMiemSruWAkuiuoeaXtueahOWKn+iDveWunueOsAogICAgICAvLyDlsIbmjInpkq7npoHnlKjvvIzpmLLmraLlho3mrKHngrnlh7sKICAgIH0sCiAgICByZXNldCgpIHsKICAgICAgLy8g6YeN572u5oyJ6ZKu5Y+v55SoCiAgICAgIHRoaXMuaXNTbXNTZW5kID0gZmFsc2U7CiAgICAgIC8vIOmHjee9ruaWh+acrOWGheWuuQogICAgICB0aGlzLnNlbmRCdG5UZXh0ID0gIueCueWHu+WPkemAgemqjOivgeeggSI7CiAgICAgIGlmICh0aGlzLnRpbWVyKSB7CiAgICAgICAgLy8g5a2Y5Zyo6K6h5pe25Zmo5a+56LGh77yM5YiZ5riF6ZmkCiAgICAgICAgY2xlYXJJbnRlcnZhbCh0aGlzLnRpbWVyKTsKICAgICAgICAvLyDph43nva7np5LmlbDvvIzpmLLmraLkuIvmrKHmt7fkubEKICAgICAgICB0aGlzLmNvdW50ZXIgPSA2MDsKICAgICAgICAvLyDorqHml7blmajlr7nosaHph43nva7kuLrnqboKICAgICAgICB0aGlzLnRpbWVyID0gbnVsbDsKICAgICAgfQogICAgfSwKICAgIC8v6I635Y+W5L+u5pS555qE5L+h5oGvCiAgICBnZXRVc2VyRWRpdCgpIHt9LAogICAgLy/ojrflj5bop5LoibLnu4QKICAgIGdldFJvbGVzTGlzdCgpIHsKICAgICAgbGV0IHRva2VuID0gc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbSgidG9rZW4iKTsKICAgICAgdGhpcy50b2tlbiA9IHRva2VuOwogICAgICBsZXQgcGFyYW1zID0gewogICAgICAgIHRva2VuOiBzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKCJ0b2tlbiIpLAogICAgICB9OwogICAgICB1c2VyUm9sZXMocGFyYW1zKS50aGVuKChyZXMpID0+IHsKICAgICAgICB0aGlzLnJvbGVzTGlzdCA9IHJlcy5kYXRhLmRhdGE7CiAgICAgIH0pOwogICAgfSwKICAgIHNob3codHlwZSwgcm93KSB7CiAgICAgIHRoaXMudHlwZSA9IHR5cGU7CiAgICAgIHRoaXMuZGlhbG9nVmlzaWJsZSA9IHRydWU7CiAgICAgIGlmICh0eXBlID09IDIpIHsKICAgICAgICB0aGlzLnJ1bGVGb3JtID0gcm93OwogICAgICAgIGNvbnNvbGUubG9nKHJvdyk7CiAgICAgICAgbGV0IGlkID0gdGhpcy5ydWxlRm9ybS5pZDsKICAgICAgICB0aGlzLmlkID0gaWQ7CiAgICAgICAgbGV0IHBhcmFtcyA9IHsKICAgICAgICAgIHRva2VuOiBzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKCJ0b2tlbiIpLAogICAgICAgIH07CiAgICAgICAgZWRpdFNob3cocGFyYW1zLCBpZCkudGhlbigocmVzKSA9PiB7CiAgICAgICAgICB0aGlzLnJ1bGVGb3JtID0gcmVzLmRhdGEuZGF0YTsKICAgICAgICAgIGNvbnNvbGUubG9nKHRoaXMucnVsZUZvcm0pOwogICAgICAgICAgdGhpcy5ydWxlRm9ybS5yb2xlX25hbWUgPSByZXMuZGF0YS5kYXRhLnJpZDsKICAgICAgICB9KTsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLnJ1bGVGb3JtID0gewogICAgICAgICAgaWQ6ICIiLAogICAgICAgICAgbmlja25hbWU6ICIiLAogICAgICAgICAgcHdkOiAiIiwKICAgICAgICAgIHVuYW1lOiAiIiwKICAgICAgICAgIHRlbDogIiIsCiAgICAgICAgICByb2xlX25hbWU6ICIiLAogICAgICAgIH07CiAgICAgIH0KICAgIH0sCiAgICBjbG9zZSgpIHsKICAgICAgdGhpcy5kaWFsb2dWaXNpYmxlID0gZmFsc2U7CiAgICAgIHRoaXMuJG5leHRUaWNrKCgpID0+IHsKICAgICAgICB0aGlzLiRyZWZzLnJ1bGVGb3JtLmNsZWFyVmFsaWRhdGUoKTsgLy/lhbPpl63muIXnqbrmoKHpqozop4TliJkKICAgICAgfSk7CiAgICB9LAoKICAgIHN1Ym1pdEZvcm0oKSB7CiAgICAgIHRoaXMuJHJlZnMucnVsZUZvcm0udmFsaWRhdGUoYXN5bmMgKHZhbGlkKSA9PiB7CiAgICAgICAgaWYgKHZhbGlkKSB7CiAgICAgICAgICBpZiAodGhpcy5jb2RlICE9PSB0aGlzLnJ1bGVGb3JtLmNvZGUpIHsKICAgICAgICAgICAgdGhpcy4kbWVzc2FnZSh7CiAgICAgICAgICAgICAgbWVzc2FnZTogIuivt+i+k+WFpeato+ehrumqjOivgeeggSIsCiAgICAgICAgICAgICAgdHlwZTogImVycm9yIiwKICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICAgIH0KICAgICAgICAgIGlmICh0aGlzLnR5cGUgPT0gMSkgewogICAgICAgICAgICBsZXQgdG9rZW4gPSBzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKCJ0b2tlbiIpOwogICAgICAgICAgICB0aGlzLnRva2VuID0gdG9rZW47CiAgICAgICAgICAgIGxldCBwYXJhbXMgPSB7CiAgICAgICAgICAgICAgdG9rZW46IHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oInRva2VuIiksCiAgICAgICAgICAgICAgbmlja25hbWU6IHRoaXMucnVsZUZvcm0ubmlja25hbWUsCiAgICAgICAgICAgICAgdW5hbWU6IHRoaXMucnVsZUZvcm0udW5hbWUsCiAgICAgICAgICAgICAgdGVsOiB0aGlzLnJ1bGVGb3JtLnRlbCwKICAgICAgICAgICAgICBwd2Q6IHRoaXMucnVsZUZvcm0ucHdkLAogICAgICAgICAgICAgIHVfdHlwZTogMSwKICAgICAgICAgICAgICByb2xlX25hbWU6IHRoaXMucnVsZUZvcm0ucm9sZV9uYW1lLAogICAgICAgICAgICAgIGNvZGU6IHRoaXMucnVsZUZvcm0uY29kZSwKICAgICAgICAgICAgfTsKICAgICAgICAgICAgYWRkVXNlcihwYXJhbXMpLnRoZW4oKHJlcykgPT4gewogICAgICAgICAgICAgIGlmIChyZXMuZGF0YS5jb2RlID09IDIwMCkgewogICAgICAgICAgICAgICAgdGhpcy4kbWVzc2FnZS5zdWNjZXNzKCLmlrDlop7miJDlip8iKTsKICAgICAgICAgICAgICAgIHRoaXMuJHBhcmVudC5nZXRVc2VyTGlzdCgpOwogICAgICAgICAgICAgICAgdGhpcy5jbG9zZSgpOwogICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICB0aGlzLiRtZXNzYWdlLmVycm9yKHJlcy5kYXRhLm1zZyk7CiAgICAgICAgICAgICAgICB0aGlzLiRwYXJlbnQuZ2V0VXNlckxpc3QoKTsKICAgICAgICAgICAgICAgIHRoaXMuY2xvc2UoKTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgbGV0IHRva2VuID0gc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbSgidG9rZW4iKTsKICAgICAgICAgICAgdGhpcy50b2tlbiA9IHRva2VuOwogICAgICAgICAgICBsZXQgaWQgPSB0aGlzLmlkOwogICAgICAgICAgICBsZXQgcGFyYW1zID0gewogICAgICAgICAgICAgIHRva2VuOiBzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKCJ0b2tlbiIpLAogICAgICAgICAgICAgIHVfdHlwZTogMSwKICAgICAgICAgICAgICBuaWNrbmFtZTogdGhpcy5ydWxlRm9ybS5uaWNrbmFtZSwKICAgICAgICAgICAgICB1bmFtZTogdGhpcy5ydWxlRm9ybS51bmFtZSwKICAgICAgICAgICAgICB0ZWw6IHRoaXMucnVsZUZvcm0udGVsLAogICAgICAgICAgICAgIGNvZGU6IHRoaXMucnVsZUZvcm0uY29kZSwKICAgICAgICAgICAgICBwd2Q6IHRoaXMucnVsZUZvcm0ucHdkLAogICAgICAgICAgICAgIHJvbGVfbmFtZTogdGhpcy5ydWxlRm9ybS5yb2xlX25hbWUsCiAgICAgICAgICAgIH07CgogICAgICAgICAgICBlZGl0VXNlcihwYXJhbXMsIGlkKS50aGVuKChyZXMpID0+IHsKICAgICAgICAgICAgICBpZiAocmVzLmRhdGEuY29kZSA9PSAyMDApIHsKICAgICAgICAgICAgICAgIHRoaXMuJG1lc3NhZ2Uuc3VjY2Vzcygi57yW6L6R5oiQ5YqfIik7CgogICAgICAgICAgICAgICAgdGhpcy4kcGFyZW50LmdldFVzZXJMaXN0KCk7CiAgICAgICAgICAgICAgICB0aGlzLmNsb3NlKCk7CiAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIHRoaXMuJG1lc3NhZ2UuZXJyb3IocmVzLmRhdGEubXNnKTsKICAgICAgICAgICAgICAgIHRoaXMuJHBhcmVudC5nZXRVc2VyTGlzdCgpOwogICAgICAgICAgICAgICAgdGhpcy5jbG9zZSgpOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgICB9CiAgICAgICAgICB0aGlzLiRwYXJlbnQuZ2V0VXNlckxpc3QoKTsKICAgICAgICAgIHRoaXMuY2xvc2UoKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogIH0sCn07Cg=="},{"version":3,"sources":["addOrEditDialog.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6GA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"addOrEditDialog.vue","sourceRoot":"src/views/user/bgaccountset/bgaccount/components","sourcesContent":["<template>\n  <div class=\"AddDialog\">\n    <el-dialog\n      :title=\"type == 1 ? '新增' : '编辑'\"\n      :visible.sync=\"dialogVisible\"\n      width=\"800px\"\n      :close-on-click-modal=\"false\"\n      @close=\"close\"\n    >\n      <el-form\n        :model=\"ruleForm\"\n        ref=\"ruleForm\"\n        :rules=\"rules\"\n        label-width=\"auto\"\n      >\n        <el-input type=\"hidden\" v-model=\"ruleForm.id\"></el-input>\n        <el-row :gutter=\"20\">\n          <el-col :span=\"12\">\n            <el-form-item label=\"账号\" prop=\"uname\">\n              <el-input\n                v-model=\"ruleForm.uname\"\n                placeholder=\"请输入账号\"\n              ></el-input>\n            </el-form-item>\n          </el-col>\n          <el-col :span=\"12\">\n            <el-form-item label=\"密码\" prop=\"pwd\">\n              <el-input\n                v-model=\"ruleForm.pwd\"\n                placeholder=\"请输入密码\"\n              ></el-input>\n            </el-form-item>\n          </el-col>\n          <el-col :span=\"12\">\n            <el-form-item label=\"姓名\" prop=\"nickname\">\n              <el-input\n                v-model=\"ruleForm.nickname\"\n                placeholder=\"请输入姓名\"\n              ></el-input>\n            </el-form-item>\n          </el-col>\n\n          <!-- <el-col :span=\"12\">\n            <el-form-item label=\"账号状态\" prop=\"state\">\n              <el-switch\n                v-model=\"ruleForm.state\"\n                active-text=\"启用\"\n                inactive-text=\"禁用\"\n              ></el-switch>\n            </el-form-item>\n          </el-col> -->\n\n          <el-col :span=\"12\">\n            <el-form-item\n              label=\"角色\"\n              prop=\"role_name\"\n              :rules=\"[\n                { required: true, message: '角色不能为空', trigger: 'blur' },\n              ]\"\n            >\n              <el-select\n                v-model=\"ruleForm.role_name\"\n                clearable\n                placeholder=\"请选择角色\"\n              >\n                <el-option\n                  v-for=\"item in rolesList\"\n                  :value=\"item.id\"\n                  :label=\"item.role_name\"\n                  :key=\"item.id\"\n                ></el-option>\n              </el-select>\n            </el-form-item>\n          </el-col>\n          <el-col :span=\"12\">\n            <el-form-item label=\"手机号\" prop=\"tel\">\n              <el-input\n                v-model=\"ruleForm.tel\"\n                placeholder=\"请输入手机号\"\n              ></el-input>\n              <el-button\n                style=\"margin-left: 180px\"\n                size=\"small\"\n                type=\"warning\"\n                @click=\"yan\"\n                :disabled=\"isSmsSend\"\n                >{{ sendBtnText }}</el-button\n              >\n            </el-form-item>\n          </el-col>\n          <el-col :span=\"12\">\n            <el-form-item label=\"验证码\" prop=\"code\">\n              <el-input\n                v-model=\"ruleForm.code\"\n                placeholder=\"请输入验证码\"\n              ></el-input>\n            </el-form-item>\n          </el-col>\n        </el-row>\n      </el-form>\n      <div slot=\"footer\" class=\"dialog-footer\">\n        <el-button @click=\"dialogVisible = false\">取 消</el-button>\n        <el-button type=\"primary\" @click=\"submitForm\">确 定</el-button>\n      </div>\n    </el-dialog>\n  </div>\n</template>\n\n<script>\nimport {\n  userRoles,\n  addUser,\n  editShow,\n  editUser,\n  phoneCode,\n} from \"@/request/api\";\nexport default {\n  name: \"AddDialog\",\n  components: {},\n  data() {\n    return {\n      id: \"\",\n      isSmsSend: false,\n      sendBtnText: \"点击发送验证码\",\n      counter: \"60\",\n      token: \"\",\n      rolesList: [], //角色列表\n      type: 1, //1新增，2编辑\n      dialogVisible: false,\n      code: \"\",\n      ruleForm: {\n        id: \"\",\n        nickname: \"\",\n        pwd: \"\",\n        code: \"\",\n        uname: \"\",\n        tel: \"\",\n        role_name: \"\",\n      },\n      rules: {\n        uname: [\n          { required: true, message: \"账号不能为空\", trigger: \"blur\" },\n        \n        ],\n        pwd: [\n          { required: true, message: \"密码不能为空\", trigger: \"blur\" },\n        \n        ],\n        nickname: [\n          { required: true, message: \"姓名不能为空\", trigger: \"blur\" },\n         \n        ],\n        tel: [\n          { required: true, message: \"手机号不能为空\", trigger: \"blur\" },\n          {\n            pattern: /^1[3456789]\\d{9}$/,\n            message: \"手机号格式不正确\",\n            trigger: \"blur\",\n          },\n        ],\n        code: [{ required: true, message: \"验证码不能为空\", trigger: \"blur\" }],\n      },\n      rangeDate: {\n        //日期范围选择，只能选择当前日期以前的\n        disabledDate(date) {\n          return date.getTime() > Date.now();\n        },\n      },\n    };\n  },\n  created: function () {\n    this.getRolesList(); //获取角色\n    if (this.type == 2) {\n      this.getUserEdit();\n    }\n  },\n  mounted: function () {},\n  methods: {\n    countDown() {\n      // 将setInterval()方法赋值给前面定义的timer计时器对象，等用clearInterval()方法时方便清空这个计时器对象\n      this.timer = setInterval(() => {\n        // 替换文本，用es6里面的``这个来创建字符串模板，让秒实时改变\n        this.sendBtnText = `(${this.counter}秒)后重新发送`;\n        this.counter--;\n        if (this.counter < 0) {\n          // 当计时小于零时，取消该计时器\n          clearInterval(this.timer);\n          this.reset();\n        }\n      }, 1000);\n    },\n    yan() {\n      if (\n        !/^(13[0-9]|14[01456879]|15[0-35-9]|16[2567]|17[0-8]|18[0-9]|19[0-35-9])\\d{8}$/.test(\n          this.ruleForm.tel\n        )\n      ) {\n        this.$message({\n          message: \"请输入正确手机号\",\n          type: \"error\",\n        });\n        return false;\n      }\n      // 判断手机号是否符合要求\n      if (this.ruleForm.tel.length !== 11) {\n        this.$message({\n          message: \"请输入11位手机号\",\n          type: \"error\",\n        });\n        return false;\n      }\n      let params = {\n        phone: this.ruleForm.tel,\n      };\n      phoneCode(params).then((res) => {\n        if (res.data.code == 200) {\n          console.log(res.data.date);\n          this.code = res.data.date;\n          this.isSmsSend = true;\n          // 开始倒计时，60s之后才能再次点击\n          this.countDown(); // 这里实现倒计时的功能，文章下面开始介绍\n          this.$message.success(res.data.msg);\n        } else {\n          this.$message.error(res.data.msg);\n        }\n      });\n\n      // 调用接口，发送短信验证码\n      // 这部分放调用发送短信的接口，这里先不做任何功能，主要先把按钮倒计时的功能实现\n      // 将按钮禁用，防止再次点击\n    },\n    reset() {\n      // 重置按钮可用\n      this.isSmsSend = false;\n      // 重置文本内容\n      this.sendBtnText = \"点击发送验证码\";\n      if (this.timer) {\n        // 存在计时器对象，则清除\n        clearInterval(this.timer);\n        // 重置秒数，防止下次混乱\n        this.counter = 60;\n        // 计时器对象重置为空\n        this.timer = null;\n      }\n    },\n    //获取修改的信息\n    getUserEdit() {},\n    //获取角色组\n    getRolesList() {\n      let token = sessionStorage.getItem(\"token\");\n      this.token = token;\n      let params = {\n        token: sessionStorage.getItem(\"token\"),\n      };\n      userRoles(params).then((res) => {\n        this.rolesList = res.data.data;\n      });\n    },\n    show(type, row) {\n      this.type = type;\n      this.dialogVisible = true;\n      if (type == 2) {\n        this.ruleForm = row;\n        console.log(row);\n        let id = this.ruleForm.id;\n        this.id = id;\n        let params = {\n          token: sessionStorage.getItem(\"token\"),\n        };\n        editShow(params, id).then((res) => {\n          this.ruleForm = res.data.data;\n          console.log(this.ruleForm);\n          this.ruleForm.role_name = res.data.data.rid;\n        });\n      } else {\n        this.ruleForm = {\n          id: \"\",\n          nickname: \"\",\n          pwd: \"\",\n          uname: \"\",\n          tel: \"\",\n          role_name: \"\",\n        };\n      }\n    },\n    close() {\n      this.dialogVisible = false;\n      this.$nextTick(() => {\n        this.$refs.ruleForm.clearValidate(); //关闭清空校验规则\n      });\n    },\n\n    submitForm() {\n      this.$refs.ruleForm.validate(async (valid) => {\n        if (valid) {\n          if (this.code !== this.ruleForm.code) {\n            this.$message({\n              message: \"请输入正确验证码\",\n              type: \"error\",\n            });\n            return false;\n          }\n          if (this.type == 1) {\n            let token = sessionStorage.getItem(\"token\");\n            this.token = token;\n            let params = {\n              token: sessionStorage.getItem(\"token\"),\n              nickname: this.ruleForm.nickname,\n              uname: this.ruleForm.uname,\n              tel: this.ruleForm.tel,\n              pwd: this.ruleForm.pwd,\n              u_type: 1,\n              role_name: this.ruleForm.role_name,\n              code: this.ruleForm.code,\n            };\n            addUser(params).then((res) => {\n              if (res.data.code == 200) {\n                this.$message.success(\"新增成功\");\n                this.$parent.getUserList();\n                this.close();\n              } else {\n                this.$message.error(res.data.msg);\n                this.$parent.getUserList();\n                this.close();\n              }\n            });\n          } else {\n            let token = sessionStorage.getItem(\"token\");\n            this.token = token;\n            let id = this.id;\n            let params = {\n              token: sessionStorage.getItem(\"token\"),\n              u_type: 1,\n              nickname: this.ruleForm.nickname,\n              uname: this.ruleForm.uname,\n              tel: this.ruleForm.tel,\n              code: this.ruleForm.code,\n              pwd: this.ruleForm.pwd,\n              role_name: this.ruleForm.role_name,\n            };\n\n            editUser(params, id).then((res) => {\n              if (res.data.code == 200) {\n                this.$message.success(\"编辑成功\");\n\n                this.$parent.getUserList();\n                this.close();\n              } else {\n                this.$message.error(res.data.msg);\n                this.$parent.getUserList();\n                this.close();\n              }\n            });\n          }\n          this.$parent.getUserList();\n          this.close();\n        } else {\n          return false;\n        }\n      });\n    },\n  },\n};\n</script>\n\n<style>\n</style>\n"]}]}