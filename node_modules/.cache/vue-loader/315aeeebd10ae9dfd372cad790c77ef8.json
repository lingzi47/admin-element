{"remainingRequest":"C:\\Users\\Administrator\\Desktop\\预见未来后台管理系统\\后台\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Administrator\\Desktop\\预见未来后台管理系统\\后台\\src\\views\\basis\\echarts\\index.vue?vue&type=style&index=0&id=07518f42&lang=scss&scoped=true&","dependencies":[{"path":"C:\\Users\\Administrator\\Desktop\\预见未来后台管理系统\\后台\\src\\views\\basis\\echarts\\index.vue","mtime":1655088612940},{"path":"C:\\Users\\Administrator\\Desktop\\预见未来后台管理系统\\后台\\node_modules\\css-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Administrator\\Desktop\\预见未来后台管理系统\\后台\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"C:\\Users\\Administrator\\Desktop\\预见未来后台管理系统\\后台\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"C:\\Users\\Administrator\\Desktop\\预见未来后台管理系统\\后台\\node_modules\\sass-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Administrator\\Desktop\\预见未来后台管理系统\\后台\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Administrator\\Desktop\\预见未来后台管理系统\\后台\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKLmVjaGFydHMgewogIC5leHBsYWluIHsKICAgIG1hcmdpbi1ib3R0b206IDEwcHg7CgogICAgYSB7CiAgICAgIGNvbG9yOiAjNDA5ZWZmOwogICAgfQoKICAgIGE6aG92ZXIgewogICAgICBjb2xvcjogIzY2YjFmZjsKICAgICAgdGV4dC1kZWNvcmF0aW9uOiB1bmRlcmxpbmU7CiAgICB9CiAgfQoKICAuY2hhcnQgewogICAgbWFyZ2luLWJvdHRvbTogMjBweDsKICB9Cn0K"},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiLA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/views/basis/echarts","sourcesContent":["<template>\n  <div class=\"echarts\">\n    <basis-layout title=\"eCharts图表\" style=\"margin-top: 10px\">\n      <div class=\"explain\">\n        详细配置见官网：<a\n          href=\"https://echarts.apache.org/zh/index.html\"\n          target=\"_blank\"\n          >https://echarts.apache.org/zh/index.html</a\n        >\n      </div>\n      <el-row :gutter=\"20\">\n        <el-col :lg=\"12\" :md=\"24\">\n          <div\n            class=\"chart\"\n            id=\"lineScore\"\n            style=\"background-color: #fff; height: 500px\"\n          ></div>\n        </el-col>\n        <el-col :lg=\"12\" :md=\"24\">\n          <div\n            class=\"chart\"\n            id=\"barScore\"\n            style=\"background-color: #fff; height: 500px\"\n          ></div>\n        </el-col>\n      </el-row>\n    </basis-layout>\n  </div>\n</template>\n\n<script>\nimport basisLayout from \"@/components/basisLayout.vue\";\nimport * as echarts from \"echarts\";\nimport { getechartsData } from \"@/api/echarts\";\nexport default {\n  name: \"echarts\",\n  components: {\n    basisLayout,\n  },\n  data() {\n    return {\n      sales: [],\n      //   lineScoreChart: null, //折线图\n      barScoreChart: null, //柱状图\n      month: [], //月份\n      subject: [], //人\n      mSalesVolume: [],\n      mSalesAmount: [],\n    };\n  },\n  created() {\n    this.getechartsData(); //获取图标数据\n  },\n  mounted() {\n    let self = this;\n    window.onresize = function () {\n      //   if (self.lineScoreChart) self.lineScoreChart.resize();\n      if (self.barScoreChart) self.barScoreChart.resize();\n    };\n  },\n  methods: {\n    async getechartsData() {\n      let res = await getechartsData();\n      if (res.status == 200) {\n        // console.log(JSON.parse(JSON.stringify(res.data)));\n        let data = res.data;\n        this.sales = res.data;\n        console.log(this.sales);\n        let month = [];\n        let subject = [];\n        let mSalesVolume = [[], [], [], []];\n        let mSalesAmount = [[], [], [], []];\n        data.map((d, i) => {\n          month.push(d.date);\n          d.personnel.map((p, j) => {\n            if (subject.indexOf(p.name) == -1) subject.push(p.name);\n            mSalesVolume[j].push(p.salesVolume);\n            mSalesAmount[j].push(p.salesAmount);\n          });\n        });\n        this.month = month;\n        this.subject = subject;\n        this.mSalesVolume = mSalesVolume;\n        this.mSalesAmount = mSalesAmount;\n        // this.setLineScore();\n        this.setBarScore();\n      }\n    },\n    setLineScore() {\n      //设置折线图\n      this.lineScoreChart = echarts.init(document.getElementById(\"lineScore\"));\n      var series = [];\n      this.mSalesVolume.map((item, index) => {\n        series.push({\n          type: \"line\",\n          name: this.subject[index],\n          data: item,\n          smooth: true,\n        });\n      });\n      let option = {\n        title: {\n          text: \"平滑折线图\",\n          left: \"center\",\n        },\n        tooltip: {\n          //鼠标悬停提示\n          trigger: \"axis\",\n        },\n        legend: {\n          bottom: 10,\n          data: this.subject,\n        },\n        xAxis: {\n          data: this.month,\n        },\n        yAxis: {\n          min: 8,\n        },\n        series: series,\n      };\n      // 使用刚指定的配置项和数据显示图表。\n      this.lineScoreChart.setOption(option);\n    },\n    setBarScore() {\n      //设置柱状图\n      this.barScoreChart = echarts.init(document.getElementById(\"barScore\"));\n      let series = [];\n      this.mSalesAmount.map((item, index) => {\n        series.push({\n          type: \"bar\",\n          name: this.subject[index],\n          emphasis: {\n            focus: \"series\",\n          },\n          data: item,\n        });\n      });\n      let subject = JSON.parse(JSON.stringify(this.subject));\n      let option = {\n        title: {\n          text: \"柱状图\",\n          left: \"center\",\n        },\n        tooltip: {\n          trigger: \"axis\",\n          axisPointer: {\n            type: \"shadow\",\n          },\n        },\n        grid: {\n          bottom: 70,\n          left: 70,\n          right: 30,\n        },\n        legend: {\n          bottom: 10,\n          data: subject,\n        },\n        xAxis: {\n          data: this.month,\n          type: \"category\",\n        },\n        yAxis: [\n          {\n            type: \"value\",\n          },\n        ],\n        series: series,\n      };\n      this.barScoreChart.setOption(option);\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.echarts {\n  .explain {\n    margin-bottom: 10px;\n\n    a {\n      color: #409eff;\n    }\n\n    a:hover {\n      color: #66b1ff;\n      text-decoration: underline;\n    }\n  }\n\n  .chart {\n    margin-bottom: 20px;\n  }\n}\n</style>\n"]}]}