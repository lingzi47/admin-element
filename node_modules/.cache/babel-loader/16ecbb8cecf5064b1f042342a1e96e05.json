{"remainingRequest":"C:\\Users\\Administrator\\Desktop\\个人\\实例后台\\后台\\node_modules\\thread-loader\\dist\\cjs.js!C:\\Users\\Administrator\\Desktop\\个人\\实例后台\\后台\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\Administrator\\Desktop\\个人\\实例后台\\后台\\src\\store\\modules\\user.js","dependencies":[{"path":"C:\\Users\\Administrator\\Desktop\\个人\\实例后台\\后台\\src\\store\\modules\\user.js","mtime":1666243289239},{"path":"C:\\Users\\Administrator\\Desktop\\个人\\实例后台\\后台\\babel.config.js","mtime":1646805521000},{"path":"C:\\Users\\Administrator\\Desktop\\个人\\实例后台\\后台\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Administrator\\Desktop\\个人\\实例后台\\后台\\node_modules\\thread-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Administrator\\Desktop\\个人\\实例后台\\后台\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CgovKioKICog55So5oi355m75b2V44CB55m75Ye677yM6K6+572u55So5oi35L+h5oGv77yM5riF6ZmkdG9rZW7nrYkKICovCmltcG9ydCB7IGxvZ2luIGFzIF9sb2dpbiwgbG9nb3V0IGFzIF9sb2dvdXQgfSBmcm9tICdAL2FwaS9wZXJzb25hbCc7CmltcG9ydCB7IGdldFVzZXJJbmZvIGFzIF9nZXRVc2VySW5mbyB9IGZyb20gJ0AvYXBpL3VzZXInOwppbXBvcnQgeyBnZXRUb2tlbiwgc2V0VG9rZW4sIHJlbW92ZVRva2VuIH0gZnJvbSAnQC91dGlscy9hdXRoJzsgLy8g5Yib5bu65Yid5aeL5YyW54q25oCBCgp2YXIgc3RhdGUgPSB7CiAgdG9rZW46IGdldFRva2VuKCksCiAgdXNlckluZm86IHt9LAogIHBlcm1pc3Npb25zOiBbXQp9OyAvLyDliJvlu7rmlLnlj5jnirbmgIHnmoTmlrnms5UKCnZhciBtdXRhdGlvbnMgPSB7CiAgU0VUX1RPS0VOOiBmdW5jdGlvbiBTRVRfVE9LRU4oc3RhdGUsIHRva2VuKSB7CiAgICBzdGF0ZS50b2tlbiA9IHRva2VuOwogIH0sCiAgU0VUX1VTRVJfSU5GTzogZnVuY3Rpb24gU0VUX1VTRVJfSU5GTyhzdGF0ZSwgdXNlcmluZm8pIHsKICAgIHN0YXRlLnVzZXJJbmZvID0gdXNlcmluZm87CiAgfSwKICBTRVRfUEVSTUlTU0lPTlM6IGZ1bmN0aW9uIFNFVF9QRVJNSVNTSU9OUyhzdGF0ZSwgcGVybWlzc2lvbnMpIHsKICAgIHN0YXRlLnBlcm1pc3Npb25zID0gcGVybWlzc2lvbnM7CiAgfQp9OyAvLyDliJvlu7rpqbHliqjmlrnms5XmlLnlj5htdXRhdGlvbnMKCnZhciBhY3Rpb25zID0gewogIGxvZ2luOiBmdW5jdGlvbiBsb2dpbihfcmVmLCB1c2VySW5mbykgewogICAgdmFyIGNvbW1pdCA9IF9yZWYuY29tbWl0OwogICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHsKICAgICAgX2xvZ2luKHVzZXJJbmZvKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICB2YXIgZGF0YSA9IHJlcy5kYXRhOwogICAgICAgIGNvbW1pdCgnU0VUX1RPS0VOJywgZGF0YS50b2tlbik7CiAgICAgICAgc2V0VG9rZW4oZGF0YS50b2tlbik7CiAgICAgICAgcmVzb2x2ZShyZXMpOwogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICByZWplY3QoZXJyb3IpOwogICAgICB9KTsKICAgIH0pOwogIH0sCiAgbG9nb3V0OiBmdW5jdGlvbiBsb2dvdXQoX3JlZjIpIHsKICAgIHZhciBkaXNwYXRjaCA9IF9yZWYyLmRpc3BhdGNoOwogICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlKSB7CiAgICAgIF9sb2dvdXQoKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICBkaXNwYXRjaCgncmVzZXRUb2tlbicpOwogICAgICAgIHJlc29sdmUocmVzKTsKICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgICAgcmVqZWN0KGVycm9yKTsKICAgICAgfSk7CiAgICB9KTsKICB9LAogIHJlc2V0VG9rZW46IGZ1bmN0aW9uIHJlc2V0VG9rZW4oX3JlZjMpIHsKICAgIHZhciBjb21taXQgPSBfcmVmMy5jb21taXQ7CiAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUpIHsKICAgICAgY29tbWl0KCdTRVRfVE9LRU4nLCAnJyk7CiAgICAgIHJlbW92ZVRva2VuKCk7CiAgICAgIHJlc29sdmUoKTsKICAgIH0pOwogIH0sCiAgZ2V0VXNlckluZm86IGZ1bmN0aW9uIGdldFVzZXJJbmZvKF9yZWY0KSB7CiAgICB2YXIgY29tbWl0ID0gX3JlZjQuY29tbWl0LAogICAgICAgIHN0YXRlID0gX3JlZjQuc3RhdGU7CiAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkgewogICAgICBfZ2V0VXNlckluZm8oewogICAgICAgIHRva2VuOiBzdGF0ZS50b2tlbgogICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICB2YXIgZGF0YSA9IHJlcy5kYXRhOwogICAgICAgIGNvbW1pdCgnU0VUX1VTRVJfSU5GTycsIGRhdGEpOwogICAgICAgIGNvbW1pdCgnU0VUX1BFUk1JU1NJT05TJywgZGF0YS5vcGVyYXRlTGlzdCk7CiAgICAgICAgcmVzb2x2ZShyZXMpOwogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICByZWplY3QoZXJyb3IpOwogICAgICB9KTsKICAgIH0pOwogIH0KfTsgLy8g6L6T5Ye6c3RvcmUKCmV4cG9ydCBkZWZhdWx0IHsKICBzdGF0ZTogc3RhdGUsCiAgbXV0YXRpb25zOiBtdXRhdGlvbnMsCiAgYWN0aW9uczogYWN0aW9ucwp9Ow=="},{"version":3,"sources":["C:/Users/Administrator/Desktop/个人/实例后台/后台/src/store/modules/user.js"],"names":["login","logout","getUserInfo","getToken","setToken","removeToken","state","token","userInfo","permissions","mutations","SET_TOKEN","SET_USER_INFO","userinfo","SET_PERMISSIONS","actions","commit","Promise","resolve","reject","then","res","data","catch","error","dispatch","resetToken","operateList"],"mappings":"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","sourcesContent":["/**\n * 用户登录、登出，设置用户信息，清除token等\n */\n\nimport {\n\tlogin,\n\tlogout\n} from '@/api/personal'\nimport {\n\tgetUserInfo\n} from '@/api/user'\nimport {\n\tgetToken,\n\tsetToken,\n\tremoveToken\n} from '@/utils/auth'\n\n// 创建初始化状态\nconst state = {\n\ttoken: getToken(),\n\tuserInfo: {},\n\tpermissions: []\n}\n// 创建改变状态的方法\nconst mutations = {\n\tSET_TOKEN: (state, token) => {\n\t\tstate.token = token;\n\t},\n\tSET_USER_INFO: (state, userinfo) => {\n\t\tstate.userInfo = userinfo;\n\t},\n\tSET_PERMISSIONS: (state, permissions) => {\n\t\tstate.permissions = permissions;\n\t}\n}\n// 创建驱动方法改变mutations\nconst actions = {\n\tlogin({\n\t\tcommit\n\t}, userInfo) {\n\t\treturn new Promise((resolve, reject) => {\n\t\t\tlogin(userInfo).then(res => {\n\t\t\t\tconst {\n\t\t\t\t\tdata\n\t\t\t\t} = res;\n\t\t\t\tcommit('SET_TOKEN', data.token);\n\t\t\t\tsetToken(data.token);\n\t\t\t\tresolve(res)\n\t\t\t}).catch(error => {\n\t\t\t\treject(error);\n\t\t\t})\n\t\t})\n\t},\n\tlogout({\n\t\tdispatch\n\t}) {\n\t\treturn new Promise((resolve) => {\n\t\t\tlogout().then(res => {\n\t\t\t\tdispatch('resetToken')\n\t\t\t\tresolve(res)\n\t\t\t}).catch(error => {\n\t\t\t\treject(error);\n\t\t\t})\n\t\t})\n\t},\n\tresetToken({\n\t\tcommit\n\t}) {\n\t\treturn new Promise(resolve => {\n\t\t\tcommit('SET_TOKEN', '')\n\t\t\tremoveToken();\n\t\t\tresolve()\n\t\t})\n\t},\n\tgetUserInfo({\n\t\tcommit,\n\t\tstate\n\t}) {\n\t\treturn new Promise((resolve, reject) => {\n\t\t\tgetUserInfo({\n\t\t\t\ttoken: state.token\n\t\t\t}).then(res => {\n\t\t\t\tconst {\n\t\t\t\t\tdata\n\t\t\t\t} = res;\n\t\t\t\tcommit('SET_USER_INFO', data);\n\t\t\t\tcommit('SET_PERMISSIONS', data.operateList);\n\t\t\t\tresolve(res)\n\t\t\t}).catch(error => {\n\t\t\t\treject(error);\n\t\t\t})\n\t\t})\n\t}\n}\n// 输出store\nexport default {\n\tstate,\n\tmutations,\n\tactions\n};"]}]}