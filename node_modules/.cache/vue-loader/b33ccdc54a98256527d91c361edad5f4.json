{"remainingRequest":"C:\\Users\\Administrator\\Desktop\\后台\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Administrator\\Desktop\\后台\\src\\views\\broker\\showtable\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\Administrator\\Desktop\\后台\\src\\views\\broker\\showtable\\index.vue","mtime":1666230516208},{"path":"C:\\Users\\Administrator\\Desktop\\后台\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Administrator\\Desktop\\后台\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\Administrator\\Desktop\\后台\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Administrator\\Desktop\\后台\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgeyB1c2VoYXZlcmVhZCwgenNsb2csIG1vbmV5bG9nIH0gZnJvbSAiQC9yZXF1ZXN0L2FwaSI7DQppbXBvcnQgeyBjaGVja1Blcm1pc3Npb24gfSBmcm9tICJAL3V0aWxzL3Blcm1pc3Npb25zIjsNCmltcG9ydCBwYWdlVGFibGUgZnJvbSAiQC9jb21wb25lbnRzL3BhZ2VUYWJsZS52dWUiOw0KaW1wb3J0IGVkaXREYXRhIGZyb20gIi4vY29tcG9uZW50cy9lZGl0RGF0YS52dWUiOw0KZXhwb3J0IGRlZmF1bHQgew0KICBuYW1lOiAidXNlciIsDQogIGNvbXBvbmVudHM6IHsNCiAgICBwYWdlVGFibGUsDQogICAgZWRpdERhdGEsDQogIH0sDQogIGRhdGEoKSB7DQogICAgcmV0dXJuIHsNCiAgICAgIHR5cGU6ICIiLA0KICAgICAgdHlwZTE6ICIiLA0KICAgICAgcm9sbG92ZXI6ICIiLA0KICAgICAgZGlhbW9uZDogIiIsDQogICAgICBpZDogIiIsDQogICAgICBuYW1lOiAiIiwNCiAgICAgIHRpbWU6ICIiLA0KICAgICAgdGltZTE6ICIiLA0KICAgICAgbGlzdDogW10sIC8vIOWIl+ihqA0KICAgICAgbGlzdDE6IFtdLCAvLyDliJfooagNCiAgICAgIHVzZXJMaXN0OiBbXSwgLy8g5YiX6KGoDQoNCiAgICAgIHBhZ2U6IHsNCiAgICAgICAgLy/liIbpobXkv6Hmga8NCiAgICAgICAgY3VycmVudFBhZ2U6IDEsIC8v5b2T5YmN6aG1DQogICAgICAgIHBhZ2VTaXplOiAxMCwgLy/mr4/pobXmnaHmlbANCiAgICAgICAgdG90YWw6IDAsIC8v5oC75p2h5pWwDQogICAgICB9LA0KICAgICAgcGFnZTE6IHsNCiAgICAgICAgLy/liIbpobXkv6Hmga8NCiAgICAgICAgY3VycmVudFBhZ2UxOiAxLCAvL+W9k+WJjemhtQ0KICAgICAgICBwYWdlU2l6ZTE6IDEwLCAvL+avj+mhteadoeaVsA0KICAgICAgICB0b3RhbDE6IDAsIC8v5oC75p2h5pWwDQogICAgICB9LA0KICAgIH07DQogIH0sDQogIHdhdGNoOiB7DQogICAgdGltZShuZXdWYWwpIHsNCiAgICAgIGlmIChuZXdWYWwgPT0gbnVsbCkgew0KICAgICAgICB0aGlzLnRpbWUgPSBbXTsNCiAgICAgIH0NCiAgICB9LA0KICAgIHRpbWUxKG5ld1ZhbCkgew0KICAgICAgaWYgKG5ld1ZhbCA9PSBudWxsKSB7DQogICAgICAgIHRoaXMudGltZTEgPSBbXTsNCiAgICAgIH0NCiAgICB9LA0KICB9LA0KICBjcmVhdGVkKCkgew0KICAgIGxldCByb3cgPSB0aGlzLiRyb3V0ZS5xdWVyeS5yb3c7DQogICAgLy8gY29uc29sZS5sb2cocm93KTsNCiAgICB0aGlzLm5hbWUgPSByb3cubmFtZTsNCiAgICB0aGlzLmdldExpc3QoKTsNCiAgICB0aGlzLmdldFVzZXJMaXN0KCk7DQogICAgdGhpcy5nZXRVc2VyTGlzdDEoKTsNCiAgfSwNCiAgbW91bnRlZCgpIHt9LA0KICBjb21wdXRlZDoge30sDQogIG1ldGhvZHM6IHsNCiAgICBnbygpIHsNCiAgICAgIHRoaXMuJHJvdXRlci5iYWNrKCk7DQogICAgfSwNCiAgICBzaG93dGFibGUocm93KSB7DQogICAgICBsZXQgcm93RGF0YSA9IHJvdzsNCiAgICAgIHRoaXMuJHJlZnMuZWRpdERhdGEuc2hvdyhKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KHJvd0RhdGEpKSk7DQogICAgfSwNCiAgICBnZXRMaXN0KCkgew0KICAgICAgbGV0IHBhcmFtcyA9IHsNCiAgICAgICAgcGFnZTogdGhpcy5wYWdlLmN1cnJlbnRQYWdlLA0KICAgICAgICBuYW1lOiB0aGlzLm5hbWUsDQogICAgICAgIHRva2VuOiBzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKCJ0b2tlbiIpLA0KICAgICAgfTsNCiAgICAgIHVzZWhhdmVyZWFkKHBhcmFtcykudGhlbigocmVzKSA9PiB7DQogICAgICAgIC8vIGNvbnNvbGUubG9nKHJlcy5kYXRhLmRhdGEpOw0KICAgICAgICBsZXQgYXJyID0gW107DQogICAgICAgIGFyci5wdXNoKHJlcy5kYXRhLmRhdGEpOw0KICAgICAgICAvLyBjb25zb2xlLmxvZyhhcnIpOw0KICAgICAgICB0aGlzLnVzZXJMaXN0ID0gYXJyOw0KICAgICAgfSk7DQogICAgfSwNCiAgICBjaGVja1Blcm1pc3Npb24sDQogICAgLy8g5YiH5o2i5YiG6aG1DQogICAgY2hhbmdlQ3VycmVudChwYWdlLCBzaXplKSB7DQogICAgICB0aGlzLnBhZ2UuY3VycmVudFBhZ2UgPSBwYWdlOw0KICAgICAgdGhpcy5wYWdlLnBhZ2VTaXplID0gc2l6ZTsNCiAgICAgIHRoaXMuZ2V0VXNlckxpc3QoKTsNCiAgICB9LA0KICAgIHNlYXJjaGluZm8oKSB7DQogICAgICBsZXQgcGFyYW1zID0gew0KICAgICAgICBwYWdlOiAxLA0KICAgICAgICBsaW1pdDogdGhpcy5wYWdlLnBhZ2VTaXplLA0KICAgICAgICB0b2tlbjogc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbSgidG9rZW4iKSwNCiAgICAgICAgbmFtZTogdGhpcy5uYW1lLA0KICAgICAgICB0eXBlOiB0aGlzLnR5cGUxLA0KICAgICAgICB0aW1lMTogdGhpcy50aW1lWzBdLA0KICAgICAgICB0aW1lMjogdGhpcy50aW1lWzFdLA0KICAgICAgfTsNCiAgICAgIHpzbG9nKHBhcmFtcykudGhlbigocmVzKSA9PiB7DQogICAgICAgIHRoaXMucGFnZS50b3RhbCA9IHJlcy5kYXRhLmNvdW50Ow0KICAgICAgICB0aGlzLmxpc3QgPSByZXMuZGF0YS5kYXRhOw0KICAgICAgICB0aGlzLiRyZWZzLmRhdGFUYWJsZS5zZXRQYWdlSW5mbyh7DQogICAgICAgICAgdG90YWw6IHRoaXMucGFnZS50b3RhbCwNCiAgICAgICAgfSk7DQogICAgICB9KTsNCiAgICB9LA0KICAgIGdldFVzZXJMaXN0KCkgew0KICAgICAgbGV0IHBhcmFtcyA9IHsNCiAgICAgICAgcGFnZTogdGhpcy5wYWdlLmN1cnJlbnRQYWdlLA0KICAgICAgICBsaW1pdDogdGhpcy5wYWdlLnBhZ2VTaXplLA0KICAgICAgICB0b2tlbjogc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbSgidG9rZW4iKSwNCiAgICAgICAgbmFtZTogdGhpcy5uYW1lLA0KICAgICAgICB0eXBlOiB0aGlzLnR5cGUxLA0KICAgICAgICB0aW1lMTogdGhpcy50aW1lWzBdLA0KICAgICAgICB0aW1lMjogdGhpcy50aW1lWzFdLA0KICAgICAgfTsNCiAgICAgIHpzbG9nKHBhcmFtcykudGhlbigocmVzKSA9PiB7DQogICAgICAgIHRoaXMucGFnZS50b3RhbCA9IHJlcy5kYXRhLmNvdW50Ow0KICAgICAgICB0aGlzLmxpc3QgPSByZXMuZGF0YS5kYXRhOw0KICAgICAgICB0aGlzLiRyZWZzLmRhdGFUYWJsZS5zZXRQYWdlSW5mbyh7DQogICAgICAgICAgdG90YWw6IHRoaXMucGFnZS50b3RhbCwNCiAgICAgICAgfSk7DQogICAgICB9KTsNCiAgICB9LA0KICAgIGNoZWNrUGVybWlzc2lvbiwNCiAgICAvLyDliIfmjaLliIbpobUNCiAgICBjaGFuZ2VDdXJyZW50MShwYWdlLCBzaXplKSB7DQogICAgICB0aGlzLnBhZ2UxLmN1cnJlbnRQYWdlMSA9IHBhZ2U7DQogICAgICB0aGlzLnBhZ2UxLnBhZ2VTaXplMSA9IHNpemU7DQogICAgICB0aGlzLmdldFVzZXJMaXN0MSgpOw0KICAgIH0sDQogICAgc2VhcmNoaW5mbzEoKSB7DQogICAgICBsZXQgcGFyYW1zID0gew0KICAgICAgICBwYWdlOiAxLA0KICAgICAgICBsaW1pdDogdGhpcy5wYWdlLnBhZ2VTaXplLA0KICAgICAgICB0b2tlbjogc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbSgidG9rZW4iKSwNCiAgICAgICAgbmFtZTogdGhpcy5uYW1lLA0KICAgICAgICB0eXBlOiB0aGlzLnR5cGUsDQogICAgICAgIHNfdGltZTogdGhpcy50aW1lMVswXSwNCiAgICAgICAgZV90aW1lOiB0aGlzLnRpbWUxWzFdLA0KICAgICAgfTsNCiAgICAgIG1vbmV5bG9nKHBhcmFtcykudGhlbigocmVzKSA9PiB7DQogICAgICAgIHRoaXMucGFnZTEudG90YWwxID0gcmVzLmRhdGEuZGF0YS50b3RhbDsNCiAgICAgICAgdGhpcy5saXN0MSA9IHJlcy5kYXRhLmRhdGEuZGF0YTsNCiAgICAgICAgdGhpcy4kcmVmcy5kYXRhVGFibGUxLnNldFBhZ2VJbmZvKHsNCiAgICAgICAgICB0b3RhbDogdGhpcy5wYWdlMS50b3RhbDEsDQogICAgICAgIH0pOw0KICAgICAgfSk7DQogICAgfSwNCiAgICBnZXRVc2VyTGlzdDEoKSB7DQogICAgICBsZXQgcGFyYW1zID0gew0KICAgICAgICBwYWdlOiB0aGlzLnBhZ2UxLmN1cnJlbnRQYWdlMSwNCiAgICAgICAgbGltaXQ6IHRoaXMucGFnZTEucGFnZVNpemUxLA0KICAgICAgICB0b2tlbjogc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbSgidG9rZW4iKSwNCiAgICAgICAgbmFtZTogdGhpcy5uYW1lLA0KICAgICAgICB0eXBlOiB0aGlzLnR5cGUsDQogICAgICAgIHNfdGltZTogdGhpcy50aW1lMVswXSwNCiAgICAgICAgZV90aW1lOiB0aGlzLnRpbWUxWzFdLA0KICAgICAgfTsNCiAgICAgIG1vbmV5bG9nKHBhcmFtcykudGhlbigocmVzKSA9PiB7DQogICAgICAgIGNvbnNvbGUubG9nKHJlcy5kYXRhLmRhdGEpOw0KICAgICAgICB0aGlzLnBhZ2UxLnRvdGFsMSA9IHJlcy5kYXRhLmRhdGEudG90YWw7DQogICAgICAgIHRoaXMubGlzdDEgPSByZXMuZGF0YS5kYXRhLmRhdGE7DQogICAgICAgIHRoaXMuJHJlZnMuZGF0YVRhYmxlMS5zZXRQYWdlSW5mbyh7DQogICAgICAgICAgdG90YWw6IHRoaXMucGFnZTEudG90YWwxLA0KICAgICAgICB9KTsNCiAgICAgIH0pOw0KICAgIH0sDQogIH0sDQp9Ow0K"},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA0JA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/views/broker/showtable","sourcesContent":["<template>\r\n  <div class=\"user\">\r\n    <el-form :inline=\"true\">\r\n      <el-form-item style=\"float: right\">\r\n        <el-button type=\"primary\" @click=\"go\">返回</el-button>\r\n      </el-form-item>\r\n    </el-form>\r\n    <el-table ref=\"dataTable\" :data=\"userList\" border>\r\n      <el-table-column prop=\"name\" label=\"设备租赁号\" align=\"center\">\r\n      </el-table-column>\r\n      <el-table-column prop=\"uid\" label=\"租赁商id\" align=\"center\">\r\n      </el-table-column>\r\n      <el-table-column prop=\"tel\" label=\"租赁商手机号\" align=\"center\">\r\n      </el-table-column>\r\n      <el-table-column prop=\"number\" label=\"设备编号\" align=\"center\">\r\n      </el-table-column>\r\n      <el-table-column prop=\"officinainfo\" label=\"设备供货药房\" align=\"center\">\r\n      </el-table-column>\r\n      <el-table-column prop=\"positioninfo\" label=\"设备位置\" align=\"center\">\r\n      </el-table-column>\r\n\r\n      <el-table-column prop=\"duration\" label=\"收益时长/小时\" align=\"center\">\r\n        <template slot-scope=\"scope\">\r\n          <span>{{ scope.row.duration }}</span>\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column prop=\"have_time\" label=\"租赁服务日期\" align=\"center\">\r\n      </el-table-column>\r\n      <el-table-column prop=\"server_time\" label=\"通讯服务日期\" align=\"center\">\r\n      </el-table-column>\r\n      <el-table-column prop=\"status\" label=\"状态\" align=\"center\">\r\n      </el-table-column>\r\n    </el-table>\r\n    <p style=\"margin: 35px 0px 10px 10px\">推广分润</p>\r\n\r\n    <div class=\"block-quote\">\r\n      <el-form :inline=\"true\">\r\n        <el-form-item label=\"分润事件:\">\r\n          <el-select v-model=\"type1\" placeholder=\"请选择\" style=\"width: 130px\">\r\n            <el-option label=\"推广分润\" value=\"医疗箱收益\"></el-option>\r\n            <el-option label=\"绩效奖金\" value=\"医疗箱绩效\"></el-option>\r\n          </el-select>\r\n        </el-form-item>\r\n        <el-form-item label=\"时间:\">\r\n          <el-date-picker\r\n            style=\"width: 260px\"\r\n            v-model=\"time\"\r\n            type=\"daterange\"\r\n            value-format=\"yyyy-MM-dd HH:mm:ss\"\r\n            range-separator=\"至\"\r\n            start-placeholder=\"开始日期\"\r\n            end-placeholder=\"结束日期\"\r\n          >\r\n          </el-date-picker>\r\n        </el-form-item>\r\n\r\n        <el-form-item style=\"float: right\">\r\n          <el-button type=\"primary\" icon=\"el-icon-search\" @click=\"searchinfo\"\r\n            >搜索</el-button\r\n          >\r\n        </el-form-item>\r\n      </el-form>\r\n    </div>\r\n    <el-form>\r\n      <el-row :gutter=\"20\">\r\n        <el-col :span=\"10\">\r\n          <el-form-item label=\"钻石收益:\">{{ diamond }} </el-form-item>\r\n        </el-col>\r\n      </el-row>\r\n    </el-form>\r\n    <page-table ref=\"dataTable\" :data=\"list\" @changeCurrentPage=\"changeCurrent\">\r\n      <el-table-column label=\"序号\" align=\"center\">\r\n        <template slot-scope=\"scope\">\r\n          <span>{{\r\n            (page.currentPage - 1) * page.pageSize + scope.$index + 1\r\n          }}</span>\r\n        </template>\r\n      </el-table-column>\r\n\r\n      <el-table-column prop=\"details\" label=\"分润\" align=\"center\">\r\n      </el-table-column>\r\n      <el-table-column prop=\"num\" label=\"分润金额\" align=\"center\">\r\n      </el-table-column>\r\n      <el-table-column prop=\"create_time\" label=\"获得分润时间\" align=\"center\">\r\n      </el-table-column>\r\n    </page-table>\r\n    <p style=\"margin: 35px 0px 10px 10px\">设备收益</p>\r\n    <div class=\"block-quote\">\r\n      <el-form :inline=\"true\">\r\n        <el-form-item label=\"分润事件:\">\r\n          <el-select v-model=\"type\" placeholder=\"请选择\" style=\"width: 130px\">\r\n            <el-option label=\"商品流水收益\" value=\"10\"></el-option>\r\n            <el-option label=\"广告收益\" value=\"20\"></el-option>\r\n          </el-select>\r\n        </el-form-item>\r\n        <el-form-item label=\"时间:\">\r\n          <el-date-picker\r\n            style=\"width: 260px\"\r\n            v-model=\"time1\"\r\n            type=\"daterange\"\r\n            value-format=\"yyyy-MM-dd HH:mm:ss\"\r\n            range-separator=\"至\"\r\n            start-placeholder=\"开始日期\"\r\n            end-placeholder=\"结束日期\"\r\n          >\r\n          </el-date-picker>\r\n        </el-form-item>\r\n\r\n        <el-form-item style=\"float: right\">\r\n          <el-button type=\"primary\" icon=\"el-icon-search\" @click=\"searchinfo1\"\r\n            >搜索</el-button\r\n          >\r\n        </el-form-item>\r\n      </el-form>\r\n    </div>\r\n    <el-form>\r\n      <el-row :gutter=\"20\">\r\n        <el-col :span=\"10\">\r\n          <el-form-item label=\"设备流水收益:\">{{ diamond }} </el-form-item>\r\n        </el-col>\r\n      </el-row>\r\n    </el-form>\r\n    <page-table\r\n      ref=\"dataTable1\"\r\n      :data=\"list1\"\r\n      @changeCurrentPage=\"changeCurrent1\"\r\n    >\r\n      <el-table-column label=\"序号\" align=\"center\">\r\n        <template slot-scope=\"scope\">\r\n          <span>{{\r\n            (page1.currentPage1 - 1) * page1.pageSize1 + scope.$index + 1\r\n          }}</span>\r\n        </template>\r\n      </el-table-column>\r\n\r\n      <el-table-column label=\"分润\" align=\"center\">\r\n        <template slot-scope=\"scope\">\r\n          <el-link type=\"success\" v-if=\"scope.row.type == 20\">广告收益</el-link>\r\n          <el-link type=\"danger\" v-if=\"scope.row.type == 10\"\r\n            >商品流水收益</el-link\r\n          >\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column prop=\"price\" label=\"分润金额\" align=\"center\">\r\n      </el-table-column>\r\n      <el-table-column prop=\"created_at\" label=\"获得分润时间\" align=\"center\">\r\n      </el-table-column>\r\n    </page-table>\r\n    <!-- 新增编辑弹窗 -->\r\n    <edit-data ref=\"editData\" />\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { usehaveread, zslog, moneylog } from \"@/request/api\";\r\nimport { checkPermission } from \"@/utils/permissions\";\r\nimport pageTable from \"@/components/pageTable.vue\";\r\nimport editData from \"./components/editData.vue\";\r\nexport default {\r\n  name: \"user\",\r\n  components: {\r\n    pageTable,\r\n    editData,\r\n  },\r\n  data() {\r\n    return {\r\n      type: \"\",\r\n      type1: \"\",\r\n      rollover: \"\",\r\n      diamond: \"\",\r\n      id: \"\",\r\n      name: \"\",\r\n      time: \"\",\r\n      time1: \"\",\r\n      list: [], // 列表\r\n      list1: [], // 列表\r\n      userList: [], // 列表\r\n\r\n      page: {\r\n        //分页信息\r\n        currentPage: 1, //当前页\r\n        pageSize: 10, //每页条数\r\n        total: 0, //总条数\r\n      },\r\n      page1: {\r\n        //分页信息\r\n        currentPage1: 1, //当前页\r\n        pageSize1: 10, //每页条数\r\n        total1: 0, //总条数\r\n      },\r\n    };\r\n  },\r\n  watch: {\r\n    time(newVal) {\r\n      if (newVal == null) {\r\n        this.time = [];\r\n      }\r\n    },\r\n    time1(newVal) {\r\n      if (newVal == null) {\r\n        this.time1 = [];\r\n      }\r\n    },\r\n  },\r\n  created() {\r\n    let row = this.$route.query.row;\r\n    // console.log(row);\r\n    this.name = row.name;\r\n    this.getList();\r\n    this.getUserList();\r\n    this.getUserList1();\r\n  },\r\n  mounted() {},\r\n  computed: {},\r\n  methods: {\r\n    go() {\r\n      this.$router.back();\r\n    },\r\n    showtable(row) {\r\n      let rowData = row;\r\n      this.$refs.editData.show(JSON.parse(JSON.stringify(rowData)));\r\n    },\r\n    getList() {\r\n      let params = {\r\n        page: this.page.currentPage,\r\n        name: this.name,\r\n        token: sessionStorage.getItem(\"token\"),\r\n      };\r\n      usehaveread(params).then((res) => {\r\n        // console.log(res.data.data);\r\n        let arr = [];\r\n        arr.push(res.data.data);\r\n        // console.log(arr);\r\n        this.userList = arr;\r\n      });\r\n    },\r\n    checkPermission,\r\n    // 切换分页\r\n    changeCurrent(page, size) {\r\n      this.page.currentPage = page;\r\n      this.page.pageSize = size;\r\n      this.getUserList();\r\n    },\r\n    searchinfo() {\r\n      let params = {\r\n        page: 1,\r\n        limit: this.page.pageSize,\r\n        token: sessionStorage.getItem(\"token\"),\r\n        name: this.name,\r\n        type: this.type1,\r\n        time1: this.time[0],\r\n        time2: this.time[1],\r\n      };\r\n      zslog(params).then((res) => {\r\n        this.page.total = res.data.count;\r\n        this.list = res.data.data;\r\n        this.$refs.dataTable.setPageInfo({\r\n          total: this.page.total,\r\n        });\r\n      });\r\n    },\r\n    getUserList() {\r\n      let params = {\r\n        page: this.page.currentPage,\r\n        limit: this.page.pageSize,\r\n        token: sessionStorage.getItem(\"token\"),\r\n        name: this.name,\r\n        type: this.type1,\r\n        time1: this.time[0],\r\n        time2: this.time[1],\r\n      };\r\n      zslog(params).then((res) => {\r\n        this.page.total = res.data.count;\r\n        this.list = res.data.data;\r\n        this.$refs.dataTable.setPageInfo({\r\n          total: this.page.total,\r\n        });\r\n      });\r\n    },\r\n    checkPermission,\r\n    // 切换分页\r\n    changeCurrent1(page, size) {\r\n      this.page1.currentPage1 = page;\r\n      this.page1.pageSize1 = size;\r\n      this.getUserList1();\r\n    },\r\n    searchinfo1() {\r\n      let params = {\r\n        page: 1,\r\n        limit: this.page.pageSize,\r\n        token: sessionStorage.getItem(\"token\"),\r\n        name: this.name,\r\n        type: this.type,\r\n        s_time: this.time1[0],\r\n        e_time: this.time1[1],\r\n      };\r\n      moneylog(params).then((res) => {\r\n        this.page1.total1 = res.data.data.total;\r\n        this.list1 = res.data.data.data;\r\n        this.$refs.dataTable1.setPageInfo({\r\n          total: this.page1.total1,\r\n        });\r\n      });\r\n    },\r\n    getUserList1() {\r\n      let params = {\r\n        page: this.page1.currentPage1,\r\n        limit: this.page1.pageSize1,\r\n        token: sessionStorage.getItem(\"token\"),\r\n        name: this.name,\r\n        type: this.type,\r\n        s_time: this.time1[0],\r\n        e_time: this.time1[1],\r\n      };\r\n      moneylog(params).then((res) => {\r\n        console.log(res.data.data);\r\n        this.page1.total1 = res.data.data.total;\r\n        this.list1 = res.data.data.data;\r\n        this.$refs.dataTable1.setPageInfo({\r\n          total: this.page1.total1,\r\n        });\r\n      });\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n</style>\r\n"]}]}