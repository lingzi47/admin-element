(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2e225172"],{"60ad":function(e,t,r){},6491:function(e,t,r){"use strict";r("c46a")},"65d0":function(e,t,r){"use strict";r("78fd")},"78fd":function(e,t,r){},"803e":function(e,t,r){"use strict";r("ce69")},b933:function(e,t,r){"use strict";r("60ad")},c46a:function(e,t,r){},ce69:function(e,t,r){},f56e:function(e,t,r){"use strict";r.r(t);var o=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"user"},[r("div",{staticClass:"block-quote"},[r("el-form",{ref:"form",attrs:{inline:!0,model:e.form}},[r("el-form-item",{attrs:{label:"ID",prop:"id"}},[r("el-input",{attrs:{clearable:"",placeholder:"请输入ID"},model:{value:e.form.id,callback:function(t){e.$set(e.form,"id",t)},expression:"form.id"}})],1),r("el-form-item",{attrs:{label:"商品名称",prop:"goods_name"}},[r("el-input",{attrs:{clearable:"",placeholder:"请输入商品名称"},model:{value:e.form.goods_name,callback:function(t){e.$set(e.form,"goods_name",t)},expression:"form.goods_name"}})],1),r("el-form-item",{attrs:{label:"分类",prop:"type_id"}},[r("el-cascader",{ref:"cascader",staticClass:"typewidth",attrs:{options:e.typelist,props:e.customProps,filterable:"",clearable:""},on:{change:e.handleChange},model:{value:e.form.type_id,callback:function(t){e.$set(e.form,"type_id",t)},expression:"form.type_id"}})],1),r("el-form-item",{attrs:{label:"上/下架",prop:"is_show"}},[r("el-select",{attrs:{clearable:"",placeholder:"请选择"},model:{value:e.form.is_show,callback:function(t){e.$set(e.form,"is_show",t)},expression:"form.is_show"}},[r("el-option",{attrs:{label:"全部",value:""}},[e._v("全部")]),r("el-option",{attrs:{label:"上架",value:"10"}},[e._v("上架")]),r("el-option",{attrs:{label:"下架",value:"20"}},[e._v("下架")])],1)],1),r("el-form-item",{staticStyle:{float:"right"}},[e.checkPermission("usersearch")?r("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:e.searchinfo}},[e._v("搜索")]):e._e(),e.checkPermission("useradd")?r("el-button",{attrs:{type:"primary",icon:"el-icon-plus"},on:{click:e.addData}},[e._v("新增")]):e._e()],1)],1)],1),r("page-table",{ref:"dataTable",attrs:{data:e.goodsList,"header-cell-style":{textAlign:"center"},"cell-style":{textAlign:"center"}},on:{changeCurrentPage:e.changeCurrent}},[r("el-table-column",{attrs:{label:"序号",align:"center",width:"130",fixed:"",resizable:!1},scopedSlots:e._u([{key:"default",fn:function(t){return[r("span",[e._v(e._s((e.page.page-1)*e.page.limit+t.$index+1))])]}}])}),r("el-table-column",{attrs:{prop:"id",fixed:"",label:"商品id",resizable:!1}}),r("el-table-column",{attrs:{prop:"goods_name",fixed:"",label:"商品名称",resizable:!1}}),r("el-table-column",{attrs:{prop:"new_price",fixed:"",label:"价格",width:"100",resizable:!1}}),r("el-table-column",{attrs:{prop:"id",fixed:"",label:"商品规格",width:"220",resizable:!1},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-button",{on:{click:function(r){return e.sku(1,t.row)}}},[e._v("sku规格")]),r("el-button",{on:{click:function(r){return e.skuset(t.row)}}},[e._v("sku设置")])]}}])}),r("el-table-column",{attrs:{fixed:"",label:"封面图片",width:"160",resizable:!1},scopedSlots:e._u([{key:"default",fn:function(e){return[r("img",{attrs:{src:e.row.goods_img,"min-width":"70",height:"70"}})]}}])}),r("el-table-column",{attrs:{prop:"name",fixed:"",label:"分类",width:"140",resizable:!1}}),r("el-table-column",{attrs:{prop:"weigh",fixed:"",label:"排序",width:"60",resizable:!1}}),r("el-table-column",{attrs:{prop:"shop_id",fixed:"",label:"商家",width:"140",resizable:!1}}),r("el-table-column",{attrs:{label:"上/下架",width:"90",resizable:!1},scopedSlots:e._u([{key:"default",fn:function(t){return[10==t.row.is_show?r("el-button",{attrs:{size:"mini",type:"success"}},[e._v("上架")]):r("el-button",{attrs:{size:"mini",type:"danger"}},[e._v("下架")])]}}])}),r("el-table-column",{attrs:{label:"审核状态",width:"100",resizable:!1},scopedSlots:e._u([{key:"default",fn:function(t){return[10==t.row.sta?r("el-button",{attrs:{size:"mini",type:"success"}},[e._v("待审核")]):e._e(),20==t.row.sta?r("el-button",{attrs:{size:"mini",type:"danger"}},[e._v("已通过")]):e._e(),30==t.row.sta?r("el-button",{attrs:{size:"mini",type:"danger"}},[e._v("已拒绝")]):e._e()]}}])}),e.checkPermission(["useredit","userdelete"])?r("el-table-column",{attrs:{fixed:"right",label:"操作",align:"center",resizable:!1},scopedSlots:e._u([{key:"default",fn:function(t){return[10==t.row.is_show?r("el-link",{staticStyle:{"margin-right":"10px"},attrs:{type:"primary"},on:{click:function(r){return e.goodsup(t.row)}}},[e._v("下架")]):r("el-link",{staticStyle:{"margin-right":"10px"},attrs:{type:"primary"},on:{click:function(r){return e.goodsup(t.row)}}},[e._v("上架")]),r("el-link",{staticStyle:{"margin-right":"10px"},attrs:{type:"primary"},on:{click:function(r){return e.datashow(3,t.row)}}},[e._v("查看")]),r("el-link",{staticStyle:{"margin-right":"10px"},attrs:{type:"primary"},on:{click:function(r){return e.editData(2,t.row)}}},[e._v("编辑")]),r("el-link",{staticStyle:{"margin-right":"10px"},attrs:{type:"danger"},on:{click:function(r){return e.deleteData(t.row)}}},[e._v("删除")]),r("el-link",{staticStyle:{"margin-right":"10px"},attrs:{type:"primary"},on:{click:function(r){return e.pkset(t.row)}}},[e._v("PK值设置")]),r("el-link",{staticStyle:{"margin-right":"10px"},attrs:{type:"primary"},on:{click:function(r){return e.pin(t.row)}}},[e._v("评论")])]}}],null,!1,680880813)}):e._e()],1),r("add-dialog",{ref:"addData"}),r("sku-index",{ref:"skulist"}),r("set-pk",{ref:"pkSet"}),r("set-sku",{ref:"skuSet"}),r("set-pin",{ref:"pinSet"})],1)},s=[],i=r("1da1"),a=(r("96cf"),r("4de4"),r("d3b7"),r("b0c0"),r("e9c4"),r("bade")),n=r("e692"),l=r("e3d9"),c=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"AddDialog"},[r("el-dialog",{attrs:{title:1==e.type?"新增":"编辑",visible:e.dialogVisible,width:"900px","close-on-click-modal":!1},on:{"update:visible":function(t){e.dialogVisible=t},close:e.close}},[r("el-form",{ref:"goodsForm",attrs:{model:e.goodsForm,rules:e.rules,"label-width":"auto"}},[r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"名称",prop:"goods_name"}},[r("el-input",{attrs:{placeholder:"请输入名称"},model:{value:e.goodsForm.goods_name,callback:function(t){e.$set(e.goodsForm,"goods_name",t)},expression:"goodsForm.goods_name"}})],1)],1),r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"库存",prop:"have_num"}},[r("el-input",{attrs:{placeholder:"请输入库存"},model:{value:e.goodsForm.have_num,callback:function(t){e.$set(e.goodsForm,"have_num",t)},expression:"goodsForm.have_num"}})],1)],1),r("el-col",{attrs:{span:24}},[r("el-form-item",{attrs:{label:"分类",prop:"type_id",rules:[{required:!0,message:"分类不能为空",trigger:"blur"}]}},[r("el-cascader",{ref:"cascader",staticClass:"typewidth",attrs:{options:e.typelist,props:e.customProps,filterable:"",clearable:""},on:{change:e.handleChange},model:{value:e.goodsForm.type_id,callback:function(t){e.$set(e.goodsForm,"type_id",t)},expression:"goodsForm.type_id"}})],1)],1),r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"现价格",prop:"new_price"}},[r("el-input",{attrs:{placeholder:"请输入现价格"},model:{value:e.goodsForm.new_price,callback:function(t){e.$set(e.goodsForm,"new_price",t)},expression:"goodsForm.new_price"}})],1)],1),r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"原价格",prop:"old_price"}},[r("el-input",{attrs:{placeholder:"请输入原价格"},model:{value:e.goodsForm.old_price,callback:function(t){e.$set(e.goodsForm,"old_price",t)},expression:"goodsForm.old_price"}})],1)],1),r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"推广佣金",prop:"rebater"}},[r("el-input",{attrs:{placeholder:"请输入推广佣金"},model:{value:e.goodsForm.rebater,callback:function(t){e.$set(e.goodsForm,"rebater",t)},expression:"goodsForm.rebater"}})],1)],1),r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"总销售",prop:"sale_num"}},[r("el-input",{attrs:{placeholder:"请输入总销售"},model:{value:e.goodsForm.sale_num,callback:function(t){e.$set(e.goodsForm,"sale_num",t)},expression:"goodsForm.sale_num"}})],1)],1),r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"保障",prop:"guarantee"}},[r("el-input",{attrs:{placeholder:"请输入保障"},model:{value:e.goodsForm.guarantee,callback:function(t){e.$set(e.goodsForm,"guarantee",t)},expression:"goodsForm.guarantee"}})],1)],1),r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"标签",prop:"label"}},[r("el-input",{attrs:{placeholder:"请输入标签"},model:{value:e.goodsForm.label,callback:function(t){e.$set(e.goodsForm,"label",t)},expression:"goodsForm.label"}})],1)],1),r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"排序",prop:"weigh"}},[r("el-input",{attrs:{placeholder:"请输入排序"},model:{value:e.goodsForm.weigh,callback:function(t){e.$set(e.goodsForm,"weigh",t)},expression:"goodsForm.weigh"}})],1)],1),r("el-col",{attrs:{span:24}},[r("el-form-item",{attrs:{label:"简介",prop:"brief"}},[r("el-input",{attrs:{placeholder:"请输入简介"},model:{value:e.goodsForm.brief,callback:function(t){e.$set(e.goodsForm,"brief",t)},expression:"goodsForm.brief"}})],1)],1),r("el-col",{attrs:{span:24}},[r("el-form-item",{attrs:{label:"封面图",prop:"goods_img"}},[r("el-upload",{staticClass:"avatar-uploader",attrs:{action:"https://yujian02.xyz/command/ossUpload?filename=file","show-file-list":!1,"on-success":e.handleAvatarSuccess,"before-upload":e.beforeAvatarUpload}},[e.imageUrl?r("img",{staticClass:"avatar",attrs:{src:e.imageUrl}}):r("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1)],1),r("el-col",{attrs:{span:24}},[r("el-form-item",{attrs:{label:"商品图"}},[r("el-upload",{staticClass:"upload",attrs:{action:"https://yujian02.xyz/command/ossUpload?filename=file","list-type":"picture-card","file-list":e.fileList,"on-success":e.banneradd,"before-upload":e.beforeAvatarUpload,"on-remove":e.handleRemove}},[r("i",{staticClass:"el-icon-plus"})])],1)],1),r("el-col",{attrs:{span:24}},[r("el-form-item",{attrs:{label:"商品详情"}},[r("file-fu",{attrs:{isClear:e.isClear},on:{change:e.change},model:{value:e.goodsForm.content,callback:function(t){e.$set(e.goodsForm,"content",t)},expression:"goodsForm.content"}})],1)],1)],1),1==this.type?r("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{on:{click:function(t){e.dialogVisible=!1}}},[e._v("取 消")]),r("el-button",{attrs:{type:"primary"},on:{click:e.submitForm}},[e._v("确 定")])],1):e._e(),2==this.type?r("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{on:{click:function(t){e.dialogVisible=!1}}},[e._v("取 消")]),r("el-button",{attrs:{type:"primary"},on:{click:e.submitForm}},[e._v("确 定")])],1):e._e()],1)],1)},u=[],d=(r("ac1f"),r("1276"),r("d81d"),r("c740"),r("a434"),r("a15b"),r("cc5e")),m=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"editor"},[r("div",{ref:"editor",staticClass:"textNeirong"})])},p=[],g=(r("4d63"),r("c607"),r("2c3e"),r("25f0"),r("5319"),r("6fad")),f=r.n(g),h={name:"editoritem",data:function(){return{editor:null,info_:null}},model:{prop:"value",event:"change"},props:{value:{type:String,default:""},isClear:{type:Boolean,default:!1}},watch:{isClear:function(e){e&&(this.editor.txt.clear(),this.info_=null)},value:function(e){e!==this.editor.txt.html()&&this.editor.txt.html(this.value)}},mounted:function(){this.seteditor(),this.editor.txt.html(this.value)},methods:{seteditor:function(){var e=this;this.editor=new f.a(this.$refs.editor),this.editor.config.uploadImgShowBase64=!1,this.editor.config.uploadImgServer="https://yujian02.xyz/command/ossUpload?filename=img_e",this.editor.config.uploadFileName="img_e",this.editor.config.uploadImgMaxSize=8388608,this.editor.config.uploadImgMaxLength=6,this.editor.config.uploadImgTimeout=18e4,this.editor.config.onchangeTimeout=1e3,this.editor.config.onchange=function(t){e.info_=t;var r=new RegExp("<img","gi");e.info_=t.replace(r,"<img style=\"max-width:'';\""),e.$emit("change",e.info_)},this.editor.create(),this.editor.config.uploadImgHooks={fail:function(e,t,r){},success:function(e,t,r){},timeout:function(e,t){},error:function(e,t){},customInsert:function(e,t,r){var o=t.data;e(o)}}}}},b=h,k=(r("65d0"),r("2877")),v=Object(k["a"])(b,m,p,!1,null,null,null),_=v.exports,w={name:"AddDialog",components:{fileFu:_},data:function(){return{isClear:!1,customProps:{multiple:!1,emitPath:!0,value:"id",label:"name",children:"children"},imageUrl:"",banners:[],id:"",fileList:[],typelist:[],rolesList:[],type:1,dialogVisible:!1,phoneEditor:null,token:"",goodstype:{type:2},goodsForm:{goods_name:"",have_num:"",brief:"",label:"",guarantee:"",sale_num:"",rebater:"",old_price:"",new_price:"",banners:[],type_id:"",content:"",weigh:"",goods_img:""},rules:{goods_name:[{required:!0,message:"请输入名称",trigger:"blur"}],have_num:[{required:!0,message:"请输入库存",trigger:"blur"}],brief:[{required:!0,message:"请输入简介",trigger:"blur"}],label:[{required:!0,message:"请输入标签",trigger:"blur"}],guarantee:[{required:!0,message:"请输入保障",trigger:"blur"}],sale_num:[{required:!0,message:"请输入总销售",trigger:"blur"}],rebater:[{required:!0,message:"请输入推广佣金",trigger:"blur"}],old_price:[{required:!0,message:"请输入原价格",trigger:"blur"}],new_price:[{required:!0,message:"请输入现价格",trigger:"blur"}],weigh:[{required:!0,message:"请输入排序",trigger:"blur"}],type_id:[{required:!0,message:"分类不能为空",trigger:"blur"}],goods_img:[{required:!0,message:"请选择图片",trigger:"blur"}],content:[{required:!0,message:"请输入",trigger:"blur"}]}}},created:function(){this.getRolesList(),this.token=sessionStorage.getItem("token")},mounted:function(){},methods:{handleChange:function(e){var t=this.$refs["cascader"].getCheckedNodes();this.goodsForm.type_id=t[0].value},change:function(e){this.goodsForm.content=e},handleEdit:function(){this.$refs["fileFu"].getVal()},getRolesList:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(d["b"])({token:sessionStorage.getItem("token")});case 2:r=t.sent,200==r.status&&(e.rolesList=r.data);case 4:case"end":return t.stop()}}),t)})))()},gettypelist:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(n["q"])({goodstype:e.goodstype,token:sessionStorage.getItem("token")});case 2:r=t.sent,200==r.status&&(e.typelist=r.data.data);case 4:case"end":return t.stop()}}),t)})))()},show:function(e,t){if(this.gettypelist(),this.type=e,this.dialogVisible=!0,1==e)this.goodsForm={},this.imageUrl="",this.goodsForm.type_id="",this.banners=[],this.fileList=[];else{console.log(t),this.goodsForm=t,this.id=t.id,this.imageUrl=this.goodsForm.goods_img,this.goodsForm.banners=t.banners;var r=this.goodsForm.banners.split(",");this.banners=r,this.fileList=r.map((function(e){return{name:e,url:e}}))}},close:function(){var e=this;this.dialogVisible=!1,this.$nextTick((function(){e.$refs.goodsForm.clearValidate()}))},handleAvatarSuccess:function(e,t){var r=e.data;this.imageUrl=r,this.goodsForm.goods_img=r},handleRemove:function(e,t,r){console.log(e),console.log(e.name);var o=e.name;console.log(o);var s=this.banners.findIndex((function(e){if("outimg"==e)return!0}));this.banners.splice(s,1),console.log(this.banners)},banneradd:function(e,t,r){console.log(e);var o=e.data;this.banners.push(o),console.log(this.banners),console.log(r)},beforeAvatarUpload:function(e){var t=e.size/1024/1024<2;return t||this.$message.error("上传图片大小不能超过 2MB!"),t},submitForm:function(){var e=this;this.$refs.goodsForm.validate(function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(r){var o,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!r){t.next=20;break}if(e.goodsForm.banners=e.banners.join(","),1!=e.type){t.next=9;break}return t.next=5,Object(n["c"])({goods_name:e.goodsForm.goods_name,have_num:e.goodsForm.have_num,brief:e.goodsForm.brief,label:e.goodsForm.label,guarantee:e.goodsForm.guarantee,sale_num:e.goodsForm.sale_num,rebater:e.goodsForm.rebater,old_price:e.goodsForm.old_price,new_price:e.goodsForm.new_price,type_id:e.goodsForm.type_id,content:e.goodsForm.content,weigh:e.goodsForm.weigh,shop_type:2,goods_img:e.goodsForm.goods_img,banners:e.goodsForm.banners,token:sessionStorage.getItem("token")});case 5:o=t.sent,200==o.status&&(e.$message.success("新增成功"),e.$parent.shopList(),e.close()),t.next=16;break;case 9:if(2!=e.type){t.next=16;break}return t.next=12,Object(n["e"])({goods_name:e.goodsForm.goods_name,have_num:e.goodsForm.have_num,brief:e.goodsForm.brief,label:e.goodsForm.label,guarantee:e.goodsForm.guarantee,sale_num:e.goodsForm.sale_num,rebater:e.goodsForm.rebater,old_price:e.goodsForm.old_price,new_price:e.goodsForm.new_price,type_id:e.goodsForm.type_id,content:e.goodsForm.content,weigh:e.goodsForm.weigh,banners:e.goodsForm.banners,shop_type:2,goods_img:e.goodsForm.goods_img,token:sessionStorage.getItem("token"),id:e.id});case 12:s=t.sent,200==s.status&&(e.$message.success("编辑成功"),e.$parent.shopList(),e.close()),t.next=16;break;case 16:e.$parent.shopList(),e.close(),t.next=21;break;case 20:return t.abrupt("return",!1);case 21:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}}},y=w,x=(r("6491"),Object(k["a"])(y,c,u,!1,null,"ad239bd6",null)),F=x.exports,S=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"AddDialog"},[r("el-dialog",{attrs:{title:"SKU规格",visible:e.dialogVisible,width:"900px"},on:{"update:visible":function(t){e.dialogVisible=t}}},[r("div",{staticClass:"addsku"},[r("el-button",{attrs:{type:"primary",icon:"el-icon-plus"},on:{click:function(t){return e.addsku()}}},[e._v("新增")])],1),r("div",{staticClass:"user"},[r("page-table",{ref:"dataTable",attrs:{data:e.skuList},on:{changeCurrentPage:e.changeCurrent}},[r("el-table-column",{attrs:{type:"index",fixed:"",width:"40",resizable:!1}}),r("el-table-column",{attrs:{prop:"name",fixed:"",label:"商品规格",width:"240",resizable:!1}}),r("el-table-column",{attrs:{prop:"skuname",fixed:"",label:"商品属性",resizable:!1}}),r("el-table-column",{attrs:{fixed:"right",label:"操作",width:"160",resizable:!1},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-link",{attrs:{type:"primary"},on:{click:function(r){return e.editsku(t.row)}}},[e._v("编辑")]),r("el-link",{staticStyle:{"margin-left":"10px"},attrs:{type:"danger"},on:{click:function(r){return e.deleteData(2,t.row)}}},[e._v("删除")])]}}])})],1)],1)]),r("div",{attrs:{id:""}},[r("el-dialog",{attrs:{title:"SKU规格新增",visible:e.dialogVisible1,width:"400px"},on:{"update:visible":function(t){e.dialogVisible1=t}}},[r("el-form",{ref:"skulist",staticClass:"demo-dynamic",attrs:{model:e.skulist,"label-width":"100px"}},[r("el-form-item",{attrs:{prop:"name",label:"商品规格"}},[r("el-input",{model:{value:e.skulist.name,callback:function(t){e.$set(e.skulist,"name",t)},expression:"skulist.name"}})],1),e._l(e.skulist.domains,(function(t,o){return r("el-form-item",{key:t.key,attrs:{label:"属性"+o,prop:"domains."+o+".value"}},[r("el-input",{model:{value:t.value,callback:function(r){e.$set(t,"value",r)},expression:"domain.value"}}),r("el-button",{on:{click:function(r){return r.preventDefault(),e.removeDomain(t)}}},[e._v("删除")])],1)})),r("el-form-item",[r("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm()}}},[e._v("提交")]),r("el-button",{on:{click:e.addDomain}},[e._v("新增属性")])],1)],2)],1)],1)],1)},$=[],O={name:"SkuIndex",components:{pageTable:l["a"]},data:function(){return{skulist:{domains:[{value:""}],name:""},id:"",form:{},goodid:"",skuList:[],dialogVisible:!1,dialogVisible1:!1,page:{page:1,limit:10,total:0},token:""}},created:function(){this.token=sessionStorage.getItem("token")},mounted:function(){},methods:{changeCurrent:function(e,t){this.page.page=e,this.page.limit=t,this.shopsku(this.goodid)},shopsku:function(e){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function r(){var o;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return t.form.goods_id=e,r.next=3,Object(n["p"])({page:t.page.page,limit:t.page.limit,goods_id:t.form.goods_id,token:sessionStorage.getItem("token")});case 3:o=r.sent,200==o.status&&(t.page.total=o.data.count,t.skuList=o.data.data,t.$refs.dataTable.setPageInfo({total:o.data.count}));case 5:case"end":return r.stop()}}),r)})))()},resetForm:function(e){this.$refs[e].resetFields()},removeDomain:function(e){var t=this.skulist.domains.indexOf(e);-1!==t&&this.skulist.domains.splice(t,1)},addDomain:function(){this.skulist.domains.push({value:"",key:Date.now()})},submitForm:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(2!=e.type){t.next=9;break}return t.next=3,Object(n["t"])({domains:e.skulist.domains,token:sessionStorage.getItem("token"),name:e.skulist.name,goods_id:e.form.goods_id,id:e.id});case 3:r=t.sent,200==r.status&&e.$message.success("编辑成功"),e.dialogVisible1=!1,e.shopsku(e.goodid),t.next=10;break;case 9:e.$refs.skulist.validate(function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(r){var o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!r){t.next=10;break}return e.skulist.goods_id=e.goodid,t.next=4,Object(n["n"])({domains:e.skulist.domains,token:sessionStorage.getItem("token"),name:e.skulist.name,goods_id:e.form.goods_id});case 4:o=t.sent,200==o.status&&e.$message.success("新增成功"),e.dialogVisible1=!1,e.shopsku(e.goodid),t.next=11;break;case 10:return t.abrupt("return",!1);case 11:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 10:case"end":return t.stop()}}),t)})))()},show:function(e,t){this.type=e,this.dialogVisible=!0,this.shopsku(t.id),this.goodid=t.id},editsku:function(e){this.type=2,this.skulist.name=e.name,this.skulist.domains=e.skunamearr,this.id=e.id,this.dialogVisible1=!0},addsku:function(){this.type=1,this.skulist.name="",this.skulist.domains=[],this.dialogVisible1=!0},deleteData:function(e,t){var r=this;1==e&&1==this.tableSelectList.length||2==e?this.$confirm("是否删除此规格？","提示",{type:"warning"}).then(Object(i["a"])(regeneratorRuntime.mark((function e(){var o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(n["o"])({id:t.id,token:sessionStorage.getItem("token")});case 2:o=e.sent,200==o.status&&(r.shopsku(r.goodid),r.$message.success("删除成功"));case 4:case"end":return e.stop()}}),e)})))).catch((function(){})):this.$message.warning("请选择一条数据删除")}}},j=O,C=(r("b933"),Object(k["a"])(j,S,$,!1,null,"0a817ec4",null)),R=C.exports,V=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"AddDialog"},[r("el-dialog",{attrs:{title:"pk值设置",visible:e.dialogVisible,width:"700px","close-on-click-modal":!1},on:{"update:visible":function(t){e.dialogVisible=t},close:e.close}},[r("el-form",{ref:"ruleForm",attrs:{rules:e.rules,model:e.ruleForm}},[r("el-row",[r("el-col",{attrs:{span:3}},[r("el-form-item",{attrs:{label:"消费满"}})],1),r("el-col",{attrs:{span:4}},[r("el-form-item",{attrs:{prop:"full_price"}},[r("el-input",{attrs:{placeholder:"请输入"},model:{value:e.ruleForm.full_price,callback:function(t){e.$set(e.ruleForm,"full_price",t)},expression:"ruleForm.full_price"}})],1)],1),r("el-col",{attrs:{span:3}},[r("el-form-item",{attrs:{label:"元，赠送"}})],1),r("el-col",{attrs:{span:6}},[r("el-form-item",{attrs:{prop:"multiple"}},[r("el-input",{attrs:{placeholder:"请输入"},model:{value:e.ruleForm.multiple,callback:function(t){e.$set(e.ruleForm,"multiple",t)},expression:"ruleForm.multiple"}})],1)],1),r("el-col",{attrs:{span:3}},[r("el-form-item",{attrs:{label:"倍pk值"}})],1)],1)],1),r("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{on:{click:function(t){e.dialogVisible=!1}}},[e._v("取 消")]),r("el-button",{attrs:{type:"primary"},on:{click:e.submitForm}},[e._v("确 定")])],1)],1)],1)},L=[],I={name:"pkSet",components:{},data:function(){return{id:"",token:"",dialogVisible:!1,ruleForm:{full_price:"",multiple:""},rules:{full_price:[{required:!0,message:"请输入整数",trigger:"blur"},{pattern:/^-?\d+(\.\d{2})$/,message:"请输入两位小数",trigger:"blur"}],multiple:[{required:!0,message:"请输入整数",trigger:"blur"},{pattern:/^[1-9]\d*$/,message:"请输入整数",trigger:"blur"}]}}},created:function(){},mounted:function(){},methods:{show:function(e){this.ruleForm.full_price=e.full_price,this.ruleForm.multiple=e.multiple,this.id=e.id,this.dialogVisible=!0},close:function(){var e=this;this.dialogVisible=!1,this.$nextTick((function(){e.$refs.ruleForm.clearValidate()}))},submitForm:function(){var e=this;this.$refs.ruleForm.validate(function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(r){var o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!r){t.next=6;break}return sessionStorage.getItem("token"),t.next=4,Object(n["a"])({full_price:e.ruleForm.full_price,multiple:e.ruleForm.multiple,id:e.id,token:sessionStorage.getItem("token")});case 4:o=t.sent,200==o.data.code&&e.$message.success("操作成功");case 6:e.$parent.shopList(),e.close();case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}}},z=I,D=Object(k["a"])(z,V,L,!1,null,null,null),P=D.exports,q=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"AddDialog"},[r("el-dialog",{attrs:{title:"sku设置",visible:e.dialogVisible,width:"700px","close-on-click-modal":!1},on:{"update:visible":function(t){e.dialogVisible=t},close:e.close}},[r("el-form",{attrs:{inline:!0}},[r("el-form-item",{staticStyle:{float:"right"}},[e.checkPermission("useradd")?r("el-button",{attrs:{type:"primary",icon:"el-icon-plus"},on:{click:e.addData}},[e._v("新增")]):e._e()],1)],1),r("page-table",{ref:"dataTable",attrs:{data:e.goodsList,"header-cell-style":{textAlign:"center"},"cell-style":{textAlign:"center"}},on:{changeCurrentPage:e.changeCurrent}},[r("el-table-column",{attrs:{prop:"sku",fixed:"",label:"商品规格",resizable:!1}}),r("el-table-column",{attrs:{prop:"price",fixed:"",label:"价格",resizable:!1}}),r("el-table-column",{attrs:{prop:"rebater",fixed:"",label:"推广佣金",resizable:!1}}),e.checkPermission(["useredit","userdelete"])?r("el-table-column",{attrs:{fixed:"right",label:"操作",align:"center",resizable:!1},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-link",{staticStyle:{"margin-right":"10px"},attrs:{type:"danger"},on:{click:function(r){return e.deleteData(t.row)}}},[e._v("删除")])]}}],null,!1,1627621939)}):e._e()],1)],1),r("div",{staticClass:"AddDialog"},[r("el-dialog",{attrs:{title:"sku编辑",visible:e.dialogVisible1,width:"900px","close-on-click-modal":!1},on:{"update:visible":function(t){e.dialogVisible1=t},close:e.close1}},[r("el-form",{ref:"goodsForm",attrs:{model:e.goodsForm,rules:e.rules,"label-width":"auto"}},[e._l(e.list,(function(t,o){return r("el-col",{key:o,attrs:{span:12}},[r("el-form-item",{attrs:{label:t.name,prop:"name"}},[r("el-select",{attrs:{"value-key":"item.skunamearr.id"},on:{change:function(r){return e.getChange(o,t,r)}},model:{value:t.skunamearr.value,callback:function(r){e.$set(t.skunamearr,"value",r)},expression:"item.skunamearr.value"}},e._l(e.list[o].skunamearr,(function(e,t){return r("el-option",{key:t,attrs:{value:e.id,label:e.value}})})),1)],1)],1)})),r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"售价",prop:"price"}},[r("el-input",{attrs:{placeholder:"请输入售价"},model:{value:e.goodsForm.price,callback:function(t){e.$set(e.goodsForm,"price",t)},expression:"goodsForm.price"}})],1)],1),r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"推广佣金",prop:"rebater"}},[r("el-input",{attrs:{placeholder:"请输入推广佣金"},model:{value:e.goodsForm.rebater,callback:function(t){e.$set(e.goodsForm,"rebater",t)},expression:"goodsForm.rebater"}})],1)],1),r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"库存",prop:"count"}},[r("el-input",{attrs:{placeholder:"请输入库存"},model:{value:e.goodsForm.count,callback:function(t){e.$set(e.goodsForm,"count",t)},expression:"goodsForm.count"}})],1)],1)],2),r("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{on:{click:function(t){e.dialogVisible1=!1}}},[e._v("取 消")]),r("el-button",{attrs:{type:"primary"},on:{click:e.submitForm1}},[e._v("确 定")])],1)],1)],1)],1)},A=[],N={components:{pageTable:l["a"]},data:function(){return{list:[],rules:{name:[{required:!0,message:"请选择属性",trigger:"blur"}],rebater:[{required:!0,message:"请输入推广佣金",trigger:"blur"}],price:[{required:!0,message:"请输入售价",trigger:"blur"}],count:[{required:!0,message:"请输入库存",trigger:"blur"}]},arr:[],goodsForm:{id:"",count:"",price:"",rebater:"",sku_id:"",goods_id:""},id:"",index:"",printerSelect:[],token:"",goodsList:[],dialogVisible:!1,dialogVisible1:!1,sku_id:[]}},created:function(){this.shopList()},mounted:function(){},methods:{getChange:function(e,t,r){this.arr[e]=r},checkPermission:a["a"],changeCurrent:function(e,t){this.page.page=e,this.page.limit=t,this.shopList()},addData:function(){this.type=1,this.goodsForm={},this.dialogVisible1=!0},editData:function(e,t){this.type=2,this.goodsForm=t,this.goodsForm.id=t.id,this.dialogVisible1=!0},shopskuindex:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(n["p"])({goods_id:e.id,token:sessionStorage.getItem("token")});case 2:r=t.sent,200==r.status&&(e.list=r.data.data);case 4:case"end":return t.stop()}}),t)})))()},shopList:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(n["u"])({goods_id:e.id,token:sessionStorage.getItem("token")});case 2:r=t.sent,200==r.status&&(e.goodsList=r.data.data);case 4:case"end":return t.stop()}}),t)})))()},deleteData:function(e){var t=this;this.$confirm("是否删除？","提示",{type:"warning"}).then(Object(i["a"])(regeneratorRuntime.mark((function r(){var o;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,Object(n["s"])({id:e.id,token:sessionStorage.getItem("token")});case 2:o=r.sent,200==o.status&&(t.shopList(),t.$message.success("删除成功"));case 4:case"end":return r.stop()}}),r)})))).catch((function(){}))},show:function(e){this.id=e.id,this.dialogVisible=!0,this.shopList(),this.shopskuindex()},close:function(){this.dialogVisible=!1},close1:function(){this.dialogVisible1=!1,this.dialogVisible=!0},submitForm1:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var r,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(2!=e.type){t.next=7;break}return t.next=3,Object(n["t"])({sku_id:e.arr.join(","),goods_id:e.id,price:e.goodsForm.price,id:e.goodsForm.id,rebater:e.goodsForm.rebater,count:e.goodsForm.count,token:sessionStorage.getItem("token")});case 3:r=t.sent,200==r.data.code&&(e.$message.success("操作成功"),e.shopList()),t.next=11;break;case 7:return t.next=9,Object(n["r"])({sku_id:e.arr.join(","),goods_id:e.id,price:e.goodsForm.price,rebater:e.goodsForm.rebater,count:e.goodsForm.count,token:sessionStorage.getItem("token")});case 9:o=t.sent,200==o.data.code&&(e.$message.success("操作成功"),e.shopList());case 11:e.$parent.shopList(),e.close1();case 13:case"end":return t.stop()}}),t)})))()}}},T=N,J=Object(k["a"])(T,q,A,!1,null,null,null),U=J.exports,E=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"AddDialog"},[r("el-dialog",{attrs:{title:"评论设置",visible:e.dialogVisible,width:"900px","close-on-click-modal":!1},on:{"update:visible":function(t){e.dialogVisible=t},close:e.close}},[r("el-form",{attrs:{"label-width":"auto"}},[r("el-form-item",{staticStyle:{float:"right"}},[r("el-button",{attrs:{type:"primary"},on:{click:e.add}},[e._v("新增")])],1)],1),r("page-table",{ref:"dataTable",attrs:{data:e.userList},on:{changeCurrentPage:e.changeCurrent}},[r("el-table-column",{attrs:{label:"序号",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("span",[e._v(e._s((e.page.currentPage-1)*e.page.pageSize+t.$index+1))])]}}])}),r("el-table-column",{attrs:{prop:"uid",label:"用户id",align:"center"}}),r("el-table-column",{attrs:{prop:"remark",label:"评论",align:"center"}}),r("el-table-column",{attrs:{prop:"create_time",label:"评论时间",align:"center"}}),r("el-table-column",{attrs:{label:"操作",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-link",{staticStyle:{"margin-left":"10px"},attrs:{type:"danger"},on:{click:function(r){return e.deleteData(t.row)}}},[e._v("删除")]),r("el-link",{staticStyle:{"margin-left":"10px"},on:{click:function(r){return e.edit(t.row)}}},[e._v("编辑")])]}}])})],1)],1),r("el-dialog",{attrs:{title:1==e.type?"新增":"编辑",visible:e.visable,width:"700px","close-on-click-modal":!1},on:{"update:visible":function(t){e.visable=t},close:e.close1}},[r("el-form",{ref:"ruleForm",attrs:{model:e.ruleForm,rules:e.rules,"label-width":"auto"}},[r("el-col",{attrs:{span:24}},[1==this.type?r("el-form-item",{attrs:{label:"用户id",prop:"uid"}},[r("el-input",{staticStyle:{width:"350px"},attrs:{placeholder:"请输入用户id"},model:{value:e.ruleForm.uid,callback:function(t){e.$set(e.ruleForm,"uid",t)},expression:"ruleForm.uid"}})],1):r("el-form-item",{attrs:{label:"用户id",prop:"uid"}},[e._v(" "+e._s(e.ruleForm.uid)+" ")])],1),r("el-col",{attrs:{span:24}},[r("el-form-item",{attrs:{label:"评论内容",prop:"remark"}},[r("el-input",{staticStyle:{width:"350px"},attrs:{clearable:"",type:"textarea",placeholder:"请输入评论内容："},model:{value:e.ruleForm.remark,callback:function(t){e.$set(e.ruleForm,"remark",t)},expression:"ruleForm.remark"}})],1)],1),r("el-col",{attrs:{span:24}},[r("el-form-item",{attrs:{label:"时间",prop:"create_time"}},[r("el-date-picker",{staticStyle:{width:"200px"},attrs:{"value-format":"yyyy-MM-dd HH:mm:ss",type:"datetime",placeholder:"选择日期时间"},model:{value:e.ruleForm.create_time,callback:function(t){e.$set(e.ruleForm,"create_time",t)},expression:"ruleForm.create_time"}})],1)],1)],1),r("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{on:{click:function(t){e.visable=!1}}},[e._v("取 消")]),r("el-button",{attrs:{type:"primary"},on:{click:e.submitForm}},[e._v("确 定")])],1)],1)],1)},M=[],B=r("fd03"),H={name:"pkSet",components:{pageTable:l["a"]},data:function(){return{id:"",gid:"",token:"",type:"",dialogVisible:!1,visable:!1,ruleForm:{uid:"",remark:"",create_time:""},userList:[],page:{currentPage:1,pageSize:10,total:0},rules:{uid:[{required:!0,message:"请输入用户id",trigger:"blur"}],remark:[{required:!0,message:"请输入评论内容",trigger:"blur"}],create_time:[{required:!0,message:"请选择时间",trigger:"blur"}]}}},created:function(){},mounted:function(){},methods:{close1:function(){this.ruleForm.uid="",this.ruleForm.remark="",this.ruleForm.create_time="",this.visable=!1,this.shoplist()},show:function(e){console.log(e),this.id=e.id,this.dialogVisible=!0,this.shoplist()},checkPermission:a["a"],changeCurrent:function(e,t){this.page.currentPage=e,this.page.pageSize=t,this.shoplist()},shoplist:function(){var e=this,t={page:this.page.currentPage,limit:this.page.pageSize,token:sessionStorage.getItem("token"),goods_id:this.id};Object(B["Bb"])(t).then((function(t){console.log(t.data.data),e.userList=t.data.data,e.page.total=t.data.count,e.$refs.dataTable.setPageInfo({total:e.page.total})}))},close:function(){this.dialogVisible=!1},add:function(){this.visable=!0,this.type=1},edit:function(e){console.log(e),this.visable=!0,this.type=2,this.gid=e.id,this.ruleForm.uid=e.uid,this.ruleForm.create_time=e.create_time,this.ruleForm.remark=e.remark},submitForm:function(){var e=this;this.$refs.ruleForm.validate(function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(r){var o,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!r){t.next=4;break}1==e.type?(console.log("添加"),o={token:sessionStorage.getItem("token"),goods_id:e.id,uid:e.ruleForm.uid,remark:e.ruleForm.remark,create_time:e.ruleForm.create_time},Object(B["zb"])(o).then((function(t){200==t.data.status?e.$message.success("添加成功"):e.$message.error(t.data.msg),e.close1(),e.shoplist()}))):(s={token:sessionStorage.getItem("token"),remark:e.ruleForm.remark,id:e.gid,create_time:e.ruleForm.create_time},Object(B["Cb"])(s).then((function(t){200==t.data.status?e.$message.success("编辑成功"):e.$message.error(t.data.msg),e.close1()}))),t.next=5;break;case 4:return t.abrupt("return",!1);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())},deleteData:function(e){var t=this;console.log(e),this.$confirm("是否删除此信息？","提示",{type:"warning"}).then(Object(i["a"])(regeneratorRuntime.mark((function r(){var o;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:o={token:sessionStorage.getItem("token"),id:e.id},Object(B["Ab"])(o).then((function(e){200==e.data.status?t.$message.success("删除成功"):t.$message.error(e.data.msg),t.shoplist()}));case 2:case"end":return r.stop()}}),r)})))).catch((function(){}))}}},K=H,G=Object(k["a"])(K,E,M,!1,null,null,null),Q=G.exports,W={name:"user",components:{pageTable:l["a"],addDialog:F,skuIndex:R,setPk:P,setPin:Q,setSku:U},data:function(){return{customProps:{multiple:!1,emitPath:!0,value:"id",label:"name",children:"children"},typelist:[],list:[],goodsList:[],token:"",is_show:"",form:{id:"",type_id:"",goods_name:""},goodstype:{type:2},page:{page:1,limit:10,total:""},tableSelectList:[]}},created:function(){this.token=sessionStorage.getItem("token"),this.shopList(),this.gettypelist()},mounted:function(){},computed:{getRole:function(){var e=this;return function(t){return e.rolesList.filter((function(e){return e.name==t}))[0].title}}},methods:{handleChange:function(e){var t=this.$refs["cascader"].getCheckedNodes();this.form.type_id=t[0].value},checkPermission:a["a"],changeCurrent:function(e,t){this.page.page=e,this.page.limit=t,this.shopList()},shopList:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.form.shop_type=2,t.next=3,Object(n["b"])({page:e.page.page,limit:e.page.limit,token:sessionStorage.getItem("token"),shop_type:2,is_show:e.form.is_show,id:e.form.id,type_id:e.form.type_id,goods_name:e.form.goods_name});case 3:r=t.sent,200==r.status&&(e.page.total=r.data.count,e.goodsList=r.data.data,e.$refs.dataTable.setPageInfo({total:r.data.count}));case 5:case"end":return t.stop()}}),t)})))()},searchinfo:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.form.shop_type=2,t.next=3,Object(n["b"])({page:1,limit:e.page.limit,token:sessionStorage.getItem("token"),shop_type:2,is_show:e.form.is_show,id:e.form.id,type_id:e.form.type_id,goods_name:e.form.goods_name});case 3:r=t.sent,200==r.status&&(e.page.total=r.data.count,e.goodsList=r.data.data,e.$refs.dataTable.setPageInfo({total:r.data.count}));case 5:case"end":return t.stop()}}),t)})))()},goodsup:function(e){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:20==e.is_show?t.is_show=10:t.is_show=20,t.$confirm("是否上下架？","提示",{type:"warning"}).then(Object(i["a"])(regeneratorRuntime.mark((function r(){var o;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,Object(n["f"])({id:e.id,is_show:t.is_show,token:sessionStorage.getItem("token")});case 2:o=r.sent,200==o.status&&(t.shopList(),t.$message.success("操作成功"));case 4:case"end":return r.stop()}}),r)})))).catch((function(){}));case 2:case"end":return r.stop()}}),r)})))()},gettypelist:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(n["q"])({goodstype:e.goodstype,token:sessionStorage.getItem("token")});case 2:r=t.sent,200==r.status&&(e.typelist=r.data.data);case 4:case"end":return t.stop()}}),t)})))()},pin:function(e){this.$refs.pinSet.show(JSON.parse(JSON.stringify(e)))},addData:function(){this.$refs.addData.show(1,{})},datashow:function(e,t){this.$refs.addData.show(3,JSON.parse(JSON.stringify(t)))},sku:function(e,t){this.$refs.skulist.show(1,JSON.parse(JSON.stringify(t)))},pkset:function(e){this.$refs.pkSet.show(JSON.parse(JSON.stringify(e)))},skuset:function(e){this.$refs.skuSet.show(JSON.parse(JSON.stringify(e)))},editData:function(e,t){if(1==e&&1==this.tableSelectList.length||2==e){var r=1==e?this.tableSelectList[0]:t;this.$refs.addData.show(2,JSON.parse(JSON.stringify(r)))}else this.$message.warning("请选择一条数据编辑")},deleteData:function(e){var t=this;this.$confirm("是否删除？","提示",{type:"warning"}).then(Object(i["a"])(regeneratorRuntime.mark((function r(){var o;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,Object(n["d"])({id:e.id,token:sessionStorage.getItem("token")});case 2:o=r.sent,200==o.status&&(t.shopList(),t.$message.success("删除成功"));case 4:case"end":return r.stop()}}),r)})))).catch((function(){}))}}},X=W,Y=(r("803e"),Object(k["a"])(X,o,s,!1,null,"398371be",null));t["default"]=Y.exports}}]);
//# sourceMappingURL=chunk-2e225172.c30bcfcc.js.map