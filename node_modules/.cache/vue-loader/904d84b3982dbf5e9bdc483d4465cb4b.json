{"remainingRequest":"C:\\Users\\Administrator\\Desktop\\预见未来后台管理系统\\后台\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Administrator\\Desktop\\预见未来后台管理系统\\后台\\src\\views\\shop\\extend\\type\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\Administrator\\Desktop\\预见未来后台管理系统\\后台\\src\\views\\shop\\extend\\type\\index.vue","mtime":1652066521758},{"path":"C:\\Users\\Administrator\\Desktop\\预见未来后台管理系统\\后台\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\Administrator\\Desktop\\预见未来后台管理系统\\后台\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Administrator\\Desktop\\预见未来后台管理系统\\后台\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IGNoZWNrUGVybWlzc2lvbiB9IGZyb20gIkAvdXRpbHMvcGVybWlzc2lvbnMiOwppbXBvcnQgeyBzaG9wdHlwZSxzaG9wVHlwZWRlbCxzaG9wVHlwZWlzc2hvdyB9IGZyb20gJ0AvYXBpL3Nob3AnCmltcG9ydCBwYWdlVGFibGUgZnJvbSAiQC9jb21wb25lbnRzL3BhZ2VUYWJsZS52dWUiCmltcG9ydCBhZGRPckVkaXREaWFsb2cgZnJvbSAiLi9hZGRPckVkaXREaWFsb2cudnVlIjsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJtZW51UGFnZSIsCiAgY29tcG9uZW50czogewogICAgcGFnZVRhYmxlLA0KCWFkZE9yRWRpdERpYWxvZwogIH0sCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIG1lbnVMaXN0OiBbXSwKICAgICAgdGFibGVTZWxlY3RMaXN0OiBbXSwKICAgICAgZm9ybTogewogICAgICAgIHR5cGU6ICc0JywKICAgICAgfQogICAgfQogIH0sCiAgY3JlYXRlZCgpIHsKICAgIHRoaXMuZ2V0bGlzdCgpOwogIH0sCiAgbW91bnRlZCgpIHsgfSwKICBtZXRob2RzOiB7CiAgICBjaGVja1Blcm1pc3Npb24sCiAgICBhc3luYyBnZXRsaXN0KCkgewogICAgICBsZXQgcmVzID0gYXdhaXQgc2hvcHR5cGUodGhpcy5mb3JtKTsKICAgICAgaWYgKHJlcy5zdGF0dXMgPT0gMjAwKSB7CiAgICAgICAgdGhpcy5tZW51TGlzdCA9IHJlcy5kYXRhOwogICAgICB9CiAgICB9LAogICAgbWVudUNoYW5nZSh2YWwpIHsKICAgICAgdGhpcy5zaG93TWVudUxldmVsMiA9IHRoaXMubWVudUxldmVsMi5maWx0ZXIoaXRlbSA9PiBpdGVtLnBpZCA9PSB2YWwpOwogICAgfSwNCgkKICAgIGFkZERhdGEoKSB7CiAgICAgIHRoaXMuJHJlZnMuYWRkb3JlZGl0RGF0YS5zaG93KDEsIHt9KTsgLy8gMTrmlrDlop7vvIwyOue8lui+ke+8jDM65YiG57G75paw5aKeCiAgICB9LA0KCQ0KCWFkZHR5cGVEYXRhKHR5cGUsIHJvdykgew0KCSAvLyAxOuaWsOWinu+8jDI657yW6L6R77yMMzrliIbnsbvmlrDlop4NCgkgIHRoaXMuJHJlZnMuYWRkb3JlZGl0RGF0YS5zaG93KDMsIEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkocm93KSkpOw0KCX0sDQoJDQoJZWRpdERhdGEodHlwZSwgcm93KSB7DQoJICBpZiAoKHR5cGUgPT0gMSAmJiB0aGlzLnRhYmxlU2VsZWN0TGlzdC5sZW5ndGggPT0gMSkgfHwgdHlwZSA9PSAyKSB7DQoJICAgIGxldCByb3dEYXRhID0gdHlwZSA9PSAxID8gdGhpcy50YWJsZVNlbGVjdExpc3RbMF0gOiByb3c7DQoJICAgIC8vIDE65paw5aKe77yMMjrnvJbovpENCgkgICAgdGhpcy4kcmVmcy5hZGRvcmVkaXREYXRhLnNob3coMiwgSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShyb3dEYXRhKSkpOw0KCSAgfSBlbHNlIHsNCgkgICAgdGhpcy4kbWVzc2FnZS53YXJuaW5nKCLor7fpgInmi6nkuIDmnaHmlbDmja7nvJbovpEiKTsNCgkgIH0NCgl9LA0KCQ0KCS8v5pi+56S66ZqQ6JePDQoJaXNTaHdvKHR5cGUscm93KXsNCgkJaWYgKHR5cGUgPT0gMTAgfHwgdHlwZSA9PSAyMCApew0KCQkgIHRoaXMuJGNvbmZpcm0oIuaYr+WQpuaTjeS9nOatpOWIhuexu++8nyIsICLmj5DnpLoiLCB7DQoJCSAgICB0eXBlOiAid2FybmluZyIsDQoJCSAgfSkudGhlbihhc3luYyAoKSA9PiB7DQoJCSAgICAgIGxldCByZXMgPSBhd2FpdCBzaG9wVHlwZWlzc2hvdyh7DQoJCSAgICAgICAgaWQ6IHJvdy5pZCwNCgkJCQlpc19zaG93OnR5cGUNCgkJICAgICAgfSk7DQoJCSAgICAgIGlmIChyZXMuc3RhdHVzID09IDIwMCkgew0KCQkgICAgICAgIHRoaXMuZ2V0bGlzdCgpOw0KCQkgICAgICAgIHRoaXMuJG1lc3NhZ2Uuc3VjY2Vzcygi5pON5L2c5oiQ5YqfIik7DQoJCSAgICAgIH0NCgkJICAgIH0pDQoJCSAgICAuY2F0Y2goKCkgPT4ge30pOw0KCQl9DQoJCQ0KCX0sDQoJLy/liKDpmaQNCglkZWxldGVEYXRhKHR5cGUsIHJvdykgew0KCSAgICBpZiAoKHR5cGUgPT0gMSAmJiB0aGlzLnRhYmxlU2VsZWN0TGlzdC5sZW5ndGggPT0gMSkgfHwgdHlwZSA9PSAyKSB7DQoJICAgICAgdGhpcy4kY29uZmlybSgi5piv5ZCm5Yig6Zmk5q2k5YiG57G777yfIiwgIuaPkOekuiIsIHsNCgkgICAgICAgIHR5cGU6ICJ3YXJuaW5nIiwNCgkgICAgICB9KQ0KCSAgICAgICAgLnRoZW4oYXN5bmMgKCkgPT4gew0KCSAgICAgICAgICBsZXQgcm93RGF0YSA9IHR5cGUgPT0gMSA/IHRoaXMudGFibGVTZWxlY3RMaXN0WzBdIDogcm93Ow0KCSAgICAgICAgICBsZXQgcmVzID0gYXdhaXQgc2hvcFR5cGVkZWwoew0KCSAgICAgICAgICAgIGlkOiByb3dEYXRhLmlkLA0KCSAgICAgICAgICB9KTsNCgkgICAgICAgICAgaWYgKHJlcy5zdGF0dXMgPT0gMjAwKSB7DQoJICAgICAgICAgICAgdGhpcy5nZXRsaXN0KCk7DQoJICAgICAgICAgICAgdGhpcy4kbWVzc2FnZS5zdWNjZXNzKCLliKDpmaTmiJDlip8iKTsNCgkgICAgICAgICAgfQ0KCSAgICAgICAgfSkNCgkgICAgICAgIC5jYXRjaCgoKSA9PiB7fSk7DQoJICAgIH0gZWxzZSB7DQoJICAgICAgdGhpcy4kbWVzc2FnZS53YXJuaW5nKCLor7fpgInmi6nkuIDmnaHmlbDmja7liKDpmaQiKTsNCgkgICAgfQ0KCSAgfSwKICB9Cn0K"},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/views/shop/extend/type","sourcesContent":["<template>\n  <div class=\"menu\">\n    <div class=\"block-quote\">\n      <el-form :inline=\"true\" ref=\"form\">\n\t\t<span style=\"color: red;\">* 注: 专区商城为三级分类</span>\n        <el-form-item style=\"float: right;\">\n          <el-button v-if=\"checkPermission('roleadd')\" type=\"primary\" icon=\"el-icon-plus\"  @click=\"addData\" >新增</el-button\r\n          >\n        </el-form-item>\n      </el-form>\n    </div>\n    <page-table ref=\"dataTable\" :data=\"menuList\" :paging=\"false\" row-key=\"id\" @selection-change=\"getSelection\" :header-cell-style=\"{textAlign: 'center'}\" :cell-style=\"{ textAlign: 'center' }\">\n      <el-table-column prop=\"id\" label=\"编号ID\" width=\"160\" :resizable=\"false\"></el-table-column>\n     <el-table-column prop=\"type_name\" label=\"分类名称\" width=\"220\" :resizable=\"false\"></el-table-column>\n      <el-table-column prop=\"weigh\" label=\"排序(大->小)\" width=\"140\" :resizable=\"false\"></el-table-column>\r\n\t  <el-table-column label=\"显示状态\" width=\"150\" :resizable=\"false\">\r\n\t    <template slot-scope=\"scope\">\r\n\t      <el-button v-if=\"scope.row.is_show == 10\" size=\"mini\" type=\"success\"  @click=\"isShwo(20, scope.row)\">显示</el-button>\r\n\t      <el-button v-else size=\"mini\" type=\"danger\"  @click=\"isShwo(10, scope.row)\">隐藏</el-button>\r\n\t    </template>\r\n\t  </el-table-column>\r\n\n      <el-table-column prop=\"img\" label=\"图标\" width=\"240\" :resizable=\"false\">\r\n\t\t   <template slot-scope=\"scope\">\r\n\t\t\t   <img :src=\"scope.row.img\" min-width=\"70\" height=\"70\"/>\r\n\t\t\t</template>\r\n\t\t\t</el-table-column>\r\n\t\t\t   \r\n\t  \t<el-table-column prop=\"brief\" label=\"简介\" :resizable=\"false\"></el-table-column>\r\n\t   <el-table-column\r\n\t     fixed=\"right\"\r\n\t     label=\"操作\"\r\n\t     width=\"240\"\r\n\t     :resizable=\"false\"\r\n\t     v-if=\"checkPermission(['useradd','useredit', 'userdelete'])\"\r\n\t   >\r\n\t     <template slot-scope=\"scope\">\r\n\t\t\t <el-link\r\n\t\t\t   v-if=\"checkPermission('useradd')\"\r\n\t\t\t   type=\"primary\"\r\n\t\t\t   @click=\"addtypeData(3, scope.row)\"\r\n\t\t\t   >新增</el-link\r\n\t\t\t >    &nbsp; \r\n\t       <el-link\r\n\t         v-if=\"checkPermission('useredit')\"\r\n\t         type=\"primary\"\r\n\t         @click=\"editData(2, scope.row)\"\r\n\t         >编辑</el-link\r\n\t       >\r\n\t      <el-link\r\n\t        type=\"danger\"\r\n\t        style=\"margin-left: 10px\"\r\n\t        @click=\"deleteData(2, scope.row)\"\r\n\t        >删除</el-link\r\n\t      >\r\n\t     </template>\r\n\t   </el-table-column>\n    </page-table>\n<!-- 新增或编辑弹窗 -->\n    <addOrEdit-dialog ref=\"addoreditData\"></addOrEdit-dialog>\n  </div>\n</template>\n\n<script>\nimport { checkPermission } from \"@/utils/permissions\";\nimport { shoptype,shopTypedel,shopTypeisshow } from '@/api/shop'\nimport pageTable from \"@/components/pageTable.vue\"\nimport addOrEditDialog from \"./addOrEditDialog.vue\";\nexport default {\n  name: \"menuPage\",\n  components: {\n    pageTable,\r\n\taddOrEditDialog\n  },\n  data() {\n    return {\n      menuList: [],\n      tableSelectList: [],\n      form: {\n        type: '4',\n      }\n    }\n  },\n  created() {\n    this.getlist();\n  },\n  mounted() { },\n  methods: {\n    checkPermission,\n    async getlist() {\n      let res = await shoptype(this.form);\n      if (res.status == 200) {\n        this.menuList = res.data;\n      }\n    },\n    menuChange(val) {\n      this.showMenuLevel2 = this.menuLevel2.filter(item => item.pid == val);\n    },\r\n\t\n    addData() {\n      this.$refs.addoreditData.show(1, {}); // 1:新增，2:编辑，3:分类新增\n    },\r\n\t\r\n\taddtypeData(type, row) {\r\n\t // 1:新增，2:编辑，3:分类新增\r\n\t  this.$refs.addoreditData.show(3, JSON.parse(JSON.stringify(row)));\r\n\t},\r\n\t\r\n\teditData(type, row) {\r\n\t  if ((type == 1 && this.tableSelectList.length == 1) || type == 2) {\r\n\t    let rowData = type == 1 ? this.tableSelectList[0] : row;\r\n\t    // 1:新增，2:编辑\r\n\t    this.$refs.addoreditData.show(2, JSON.parse(JSON.stringify(rowData)));\r\n\t  } else {\r\n\t    this.$message.warning(\"请选择一条数据编辑\");\r\n\t  }\r\n\t},\r\n\t\r\n\t//显示隐藏\r\n\tisShwo(type,row){\r\n\t\tif (type == 10 || type == 20 ){\r\n\t\t  this.$confirm(\"是否操作此分类？\", \"提示\", {\r\n\t\t    type: \"warning\",\r\n\t\t  }).then(async () => {\r\n\t\t      let res = await shopTypeisshow({\r\n\t\t        id: row.id,\r\n\t\t\t\tis_show:type\r\n\t\t      });\r\n\t\t      if (res.status == 200) {\r\n\t\t        this.getlist();\r\n\t\t        this.$message.success(\"操作成功\");\r\n\t\t      }\r\n\t\t    })\r\n\t\t    .catch(() => {});\r\n\t\t}\r\n\t\t\r\n\t},\r\n\t//删除\r\n\tdeleteData(type, row) {\r\n\t    if ((type == 1 && this.tableSelectList.length == 1) || type == 2) {\r\n\t      this.$confirm(\"是否删除此分类？\", \"提示\", {\r\n\t        type: \"warning\",\r\n\t      })\r\n\t        .then(async () => {\r\n\t          let rowData = type == 1 ? this.tableSelectList[0] : row;\r\n\t          let res = await shopTypedel({\r\n\t            id: rowData.id,\r\n\t          });\r\n\t          if (res.status == 200) {\r\n\t            this.getlist();\r\n\t            this.$message.success(\"删除成功\");\r\n\t          }\r\n\t        })\r\n\t        .catch(() => {});\r\n\t    } else {\r\n\t      this.$message.warning(\"请选择一条数据删除\");\r\n\t    }\r\n\t  },\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n</style>\n"]}]}