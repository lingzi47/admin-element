(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6636124a"],{"12ad":function(e,t,a){"use strict";a("8a6c")},"8a6c":function(e,t,a){},b3ef:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"user"},[a("div",{staticClass:"block-quote"},[a("el-form",{attrs:{inline:!0}},[a("el-form-item",{staticStyle:{float:"right"}},[e.checkPermission("usersearch")?a("el-button",{attrs:{type:"primary"},on:{click:e.addData}},[e._v("添加")]):e._e()],1)],1)],1),a("page-table",{ref:"dataTable",attrs:{data:e.userList},on:{changeCurrentPage:e.changeCurrent}},[a("el-table-column",{attrs:{label:"序号",align:"center",fixed:"",resizable:!1},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s((e.page.currentPage-1)*e.page.pageSize+t.$index+1))])]}}])}),a("el-table-column",{attrs:{prop:"id",label:"id",align:"center",resizable:!1}}),a("el-table-column",{attrs:{prop:"place",label:"区域",align:"center",resizable:!1}}),a("el-table-column",{attrs:{fixed:"right",label:"操作",align:"center",resizable:!1},scopedSlots:e._u([{key:"default",fn:function(t){return[e.checkPermission("useredit")?a("el-link",{staticStyle:{"margin-left":"10px"},attrs:{type:"danger"},on:{click:function(a){return e.editData(2,t.row)}}},[e._v("修改")]):e._e(),e.checkPermission("useredit")?a("el-link",{staticStyle:{"margin-left":"10px"},attrs:{type:"primary"},on:{click:function(a){return e.showtype(t.row)}}},[e._v("查看")]):e._e()]}}])})],1),a("edit-data",{ref:"editData"}),a("show-data",{ref:"showData"})],1)},i=[],n=(a("e9c4"),a("fd03")),s=a("bade"),l=(a("c24f"),a("cc5e"),a("e3d9")),o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"editData"},[a("el-dialog",{attrs:{title:1==e.type?"新增":"编辑",visible:e.dialogVisible,width:"800px","close-on-click-modal":!1},on:{"update:visible":function(t){e.dialogVisible=t},close:e.close}},[a("el-form",{ref:"ruleForm",attrs:{"label-width":"auto",model:e.ruleForm,rules:e.rules}},[a("el-row",[a("el-col",{staticClass:"xian",attrs:{span:10}},[a("el-form-item",{attrs:{label:"区域",prop:"place"}},[a("el-input",{attrs:{placeholder:"请输入"},model:{value:e.ruleForm.place,callback:function(t){e.$set(e.ruleForm,"place",t)},expression:"ruleForm.place"}})],1)],1)],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogVisible=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:e.submitForm}},[e._v("确 定")])],1)],1)],1)},u=[],c={name:"AddDialog",components:{},data:function(){return{id:"",type:"",dialogVisible:!1,ruleForm:{place:""},rules:{place:[{required:!0,message:"请输入区域",trigger:"blur"}]}}},created:function(){},mounted:function(){},methods:{show:function(e,t){this.type=e,this.dialogVisible=!0,2==e&&(this.ruleForm.place=t.place,this.id=t.id)},close:function(){this.dialogVisible=!1,this.ruleForm.place=""},submitForm:function(){var e=this;this.id;if(1==this.type){var t={place:this.ruleForm.place,token:sessionStorage.getItem("token")};Object(n["nd"])(t).then((function(t){200==t.data.code?(e.$message.success("新增成功"),e.$parent.getUserList(),e.close()):(e.$message(t.data.msg),e.close(),e.$parent.getUserList())}))}else{var a={place:this.ruleForm.place,id:this.id,token:sessionStorage.getItem("token")};Object(n["od"])(a).then((function(t){200==t.data.code?(e.$message.success("修改成功"),e.close(),e.$parent.getUserList()):(e.$message(t.data.msg),e.close(),e.$parent.getUserList())}))}}}},d=c,p=a("2877"),g=Object(p["a"])(d,o,u,!1,null,null,null),m=g.exports,f=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"editData"},[a("el-dialog",{attrs:{title:"查看",visible:e.dialogVisible,width:"1200px","close-on-click-modal":!1},on:{"update:visible":function(t){e.dialogVisible=t},close:e.close}},[a("el-form",{attrs:{inline:!0}},[a("el-form-item",{staticStyle:{float:"right"}},[e.checkPermission("usersearch")?a("el-button",{attrs:{type:"primary"},on:{click:e.addData}},[e._v("添加")]):e._e()],1)],1),a("page-table",{ref:"dataTable",attrs:{data:e.userList},on:{changeCurrentPage:e.changeCurrent}},[a("el-table-column",{attrs:{label:"序号",align:"center",fixed:"",resizable:!1},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s((e.page.currentPage-1)*e.page.pageSize+t.$index+1))])]}}])}),a("el-table-column",{attrs:{prop:"uid",label:"用户id",align:"center",resizable:!1}}),a("el-table-column",{attrs:{prop:"name",label:"用户名",align:"center",resizable:!1}}),a("el-table-column",{attrs:{prop:"bank",label:"银行卡号",align:"center",resizable:!1}}),a("el-table-column",{attrs:{prop:"phone",label:"手机号",align:"center",resizable:!1}}),a("el-table-column",{attrs:{fixed:"right",label:"操作",align:"center",resizable:!1},scopedSlots:e._u([{key:"default",fn:function(t){return[e.checkPermission("useredit")?a("el-link",{staticStyle:{"margin-left":"10px"},attrs:{type:"danger"},on:{click:function(a){return e.editData(t.row)}}},[e._v("修改")]):e._e()]}}])})],1)],1),a("el-dialog",{attrs:{title:1==e.type?"新增":"编辑",visible:e.Visible,width:"800px","close-on-click-modal":!1},on:{"update:visible":function(t){e.Visible=t},close:e.close1}},[a("el-form",{ref:"ruleForm",attrs:{"label-width":"auto",model:e.ruleForm,rules:e.rules}},[a("el-row",[a("el-col",{attrs:{span:10}},[a("el-form-item",{attrs:{label:"uid",prop:"uid"}},[a("el-input",{attrs:{placeholder:"请输入"},model:{value:e.ruleForm.uid,callback:function(t){e.$set(e.ruleForm,"uid",t)},expression:"ruleForm.uid"}})],1)],1),a("el-col",{attrs:{span:10}},[a("el-form-item",{attrs:{label:"用户名",prop:"name"}},[a("el-input",{attrs:{placeholder:"请输入"},model:{value:e.ruleForm.name,callback:function(t){e.$set(e.ruleForm,"name",t)},expression:"ruleForm.name"}})],1)],1),a("el-col",{attrs:{span:10}},[a("el-form-item",{attrs:{label:"银行卡号",prop:"bank"}},[a("el-input",{attrs:{placeholder:"请输入"},model:{value:e.ruleForm.bank,callback:function(t){e.$set(e.ruleForm,"bank",t)},expression:"ruleForm.bank"}})],1)],1),a("el-col",{attrs:{span:10}},[a("el-form-item",{attrs:{label:"手机号",prop:"phone"}},[a("el-input",{attrs:{placeholder:"请输入"},model:{value:e.ruleForm.phone,callback:function(t){e.$set(e.ruleForm,"phone",t)},expression:"ruleForm.phone"}})],1)],1)],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogVisible=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:e.submitForm}},[e._v("确 定")])],1)],1)],1)},h=[],b=a("1da1"),k=(a("96cf"),a("b0c0"),{name:"AddDialog",components:{pageTable:l["a"]},data:function(){return{id:"",type:"",dialogVisible:!1,Visible:!1,ruleForm:{uid:"",name:"",bank:"",phone:""},teamid:"",page:{currentPage:1,pageSize:10,total:0},userList:[],rules:{uid:[{required:!0,message:"请输入uid",trigger:"blur"}],name:[{required:!0,message:"请输入用户名",trigger:"blur"}],bank:[{required:!0,message:"请输入银行卡号",trigger:"blur"}],phone:[{required:!0,message:"请输入手机号",trigger:"blur"},{pattern:/^1[3456789]\d{9}$/,message:"手机号格式不正确",trigger:"blur"}]}}},created:function(){},mounted:function(){},methods:{addData:function(){this.type=1,this.Visible=!0},editData:function(e){console.log(e),this.id=e.id,this.ruleForm.uid=e.uid,this.ruleForm.bank=e.bank,this.ruleForm.phone=e.phone,this.ruleForm.name=e.name,this.type=2,this.Visible=!0},checkPermission:s["a"],changeCurrent:function(e,t){this.page.currentPage=e,this.page.pageSize=t,this.getUserList()},getUserList:function(){var e=this,t=sessionStorage.getItem("token");this.token=t;var a={page:this.page.currentPage,limit:this.page.pageSize,token:sessionStorage.getItem("token"),id:this.teamid};Object(n["ne"])(a).then((function(t){e.page.total=t.data.count,e.userList=t.data.data,e.$refs.dataTable.setPageInfo({total:e.page.total})}))},show:function(e){this.dialogVisible=!0,this.teamid=e.id,this.getUserList()},close:function(){this.dialogVisible=!1,this.teamid=""},close1:function(){this.Visible=!1,this.id="",this.ruleForm.uid="",this.ruleForm.bank="",this.ruleForm.name="",this.ruleForm.phone=""},submitForm:function(){var e=this;1==this.type?this.$refs.ruleForm.validate(function(){var t=Object(b["a"])(regeneratorRuntime.mark((function t(a){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!a){t.next=5;break}r={uid:e.ruleForm.uid,name:e.ruleForm.name,team:e.teamid,bank:e.ruleForm.bank,phone:e.ruleForm.phone,token:sessionStorage.getItem("token")},Object(n["ke"])(r).then((function(t){200==t.data.code?(e.$message.success("新增成功"),e.getUserList(),e.close1()):(e.$message(t.data.msg),e.close1(),e.getUserList())})),t.next=6;break;case 5:return t.abrupt("return",!1);case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()):this.$refs.ruleForm.validate(function(){var t=Object(b["a"])(regeneratorRuntime.mark((function t(a){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!a){t.next=5;break}r={uid:e.ruleForm.uid,name:e.ruleForm.name,team:e.teamid,bank:e.ruleForm.bank,phone:e.ruleForm.phone,id:e.id,token:sessionStorage.getItem("token")},Object(n["me"])(r).then((function(t){200==t.data.code?(e.$message.success("修改成功"),e.close1(),e.getUserList()):(e.$message(t.data.msg),e.close1(),e.getUserList())})),t.next=6;break;case 5:return t.abrupt("return",!1);case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}}}),v=k,F=Object(p["a"])(v,f,h,!1,null,null,null),y=F.exports,w={name:"user",components:{pageTable:l["a"],editData:m,showData:y},data:function(){return{baseUrl:"http://y6.wjw.cool/",userList:[],page:{currentPage:1,pageSize:10,total:0},tableSelectList:[]}},created:function(){this.getUserList()},mounted:function(){},methods:{checkPermission:s["a"],changeCurrent:function(e,t){this.page.currentPage=e,this.page.pageSize=t,this.getUserList()},getUserList:function(){var e=this,t=sessionStorage.getItem("token");this.token=t;var a={page:this.page.currentPage,limit:this.page.pageSize,token:sessionStorage.getItem("token")};Object(n["pd"])(a).then((function(t){e.page.total=t.data.count,e.userList=t.data.data,e.$refs.dataTable.setPageInfo({total:e.page.total})}))},addData:function(){this.$refs.editData.show(1,{})},editData:function(e,t){this.$refs.editData.show(2,JSON.parse(JSON.stringify(t)))},showtype:function(e){this.$refs.showData.show(JSON.parse(JSON.stringify(e)))}}},$=w,S=Object(p["a"])($,r,i,!1,null,"0e21dc05",null);t["default"]=S.exports},bade:function(e,t,a){"use strict";a.d(t,"a",(function(){return i}));a("d3b7"),a("caad"),a("2532");var r=a("4360");function i(e){var t=r["a"].getters.permissions;if(e)if("string"===typeof e||e instanceof String){if(-1!=t.indexOf(e))return!0}else if(e instanceof Array&&e.length>0){var a=e;return t.some((function(e){return a.includes(e)}))}return!1}},e3d9:function(e,t,a){"use strict";var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"page-table"},[a("el-table",e._g(e._b({ref:"pageTable",attrs:{data:e.data,border:"",stripe:""}},"el-table",e.$attrs,!1),e.$listeners),[e._t("default")],2),a("div",{directives:[{name:"show",rawName:"v-show",value:e.paging,expression:"paging"}],staticClass:"page-pagination"},[a("el-pagination",e._g(e._b({attrs:{"current-page":e.currPage,"page-size":e.pageNum,total:e.totalNum,"page-sizes":[10,15,20,50,100],layout:"total, sizes, prev, pager, next, jumper"},on:{"size-change":e.changePageSize,"current-change":e.changePageCurrent}},"el-pagination",e.$attrs,!1),e.$listeners))],1)],1)},i=[],n=(a("a9e3"),{name:"PageTable",props:{data:{type:Array,require:!0,default:function(e){return[]}},paging:{type:Boolean,default:!0},currentPage:{type:Number,default:1},pageSize:{type:Number,default:10},total:{type:Number,default:0}},data:function(){return{currPage:this.currentPage,pageNum:this.pageSize,totalNum:this.total,selectData:[]}},created:function(){},mounted:function(){},computed:{},watch:{},methods:{setPageInfo:function(e){this.totalNum=e.total},changePageSize:function(e){this.pageNum=e,this.currPage=1,this.$emit("changeCurrentPage",1,e)},changePageCurrent:function(e){this.currPage=e,this.$emit("changeCurrentPage",e,this.pageNum)}}}),s=n,l=(a("12ad"),a("2877")),o=Object(l["a"])(s,r,i,!1,null,null,null);t["a"]=o.exports}}]);
//# sourceMappingURL=chunk-6636124a.92cc7c0f.js.map