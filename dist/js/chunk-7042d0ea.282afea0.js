(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7042d0ea"],{"2bcb":function(e,t,a){},"3ce3":function(e,t,a){"use strict";a("2bcb")},"3fc3":function(e,t,a){},"9e5c":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"user"},[a("div",{staticClass:"block-quote"},[a("el-form",{attrs:{inline:!0}},[a("el-form-item",{attrs:{label:"点位位置"}},[a("el-cascader",{attrs:{options:e.areaArr,props:{value:"name",label:"name"},placeholder:"请选择省市区",filterable:""},on:{change:e.change},model:{value:e.form.value1,callback:function(t){e.$set(e.form,"value1",t)},expression:"form.value1"}})],1),a("el-form-item",{attrs:{label:"设备租赁号",prop:"box_name"}},[a("el-input",{staticStyle:{width:"180px"},attrs:{clearable:"",placeholder:"请输入设备租赁号"},model:{value:e.box_name,callback:function(t){e.box_name=t},expression:"box_name"}})],1),a("el-form-item",{staticStyle:{float:"right"}},[a("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:e.searchinfo}},[e._v("搜索")]),a("el-button",{attrs:{type:"primary"},on:{click:e.add}},[e._v("添加")]),a("el-button",{on:{click:e.dao}},[e._v("导出")])],1)],1)],1),a("page-table",{ref:"dataTable",attrs:{data:e.userList},on:{changeCurrentPage:e.changeCurrent}},[a("el-table-column",{attrs:{label:"序号",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s((e.page.currentPage-1)*e.page.pageSize+t.$index+1))])]}}])}),a("el-table-column",{attrs:{prop:"id",label:"点位名称",align:"center"}}),a("el-table-column",{attrs:{label:"点位位置",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.province)+"-"+e._s(t.row.city)+"-"+e._s(t.row.area))])]}}])}),a("el-table-column",{attrs:{prop:"create_time",label:"绑定设备数",align:"center"}}),a("el-table-column",{attrs:{prop:"box_number",label:"合作日期",align:"center"}}),a("el-table-column",{attrs:{label:"操作",align:"center",width:"350"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-link",{staticStyle:{"margin-left":"10px"},attrs:{type:"primary"},on:{click:function(a){return e.showtable(t.row)}}},[e._v("查看")]),a("el-link",{staticStyle:{"margin-left":"10px"},attrs:{type:"danger"},on:{click:function(a){return e.deleteData(t.row)}}},[e._v("删除")])]}}])})],1),a("edit-data",{ref:"editData"}),a("fen-run",{ref:"fenRun"})],1)},s=[],o=a("1da1"),n=(a("96cf"),a("d81d"),a("b0c0"),a("e9c4"),a("fd03")),r=a("bade"),l=a("e3d9"),c=a("ff82"),u=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-dialog",{staticClass:"AddDialog",attrs:{title:e.tittle,visible:e.dialogVisible,width:"800px",hegiht:"1000px","close-on-click-modal":!1},on:{"update:visible":function(t){e.dialogVisible=t},close:e.close}},[a("el-form",{ref:"ruleForm",attrs:{model:e.ruleForm,rules:e.rules,"label-width":"auto"}},[a("el-row",{attrs:{gutter:15}},[a("el-col",{attrs:{span:20}},[a("el-form-item",{attrs:{label:"点位位置",prop:"value1"}},[a("el-cascader",{staticStyle:{width:"250px"},attrs:{options:e.areaArr,props:{value:"name",label:"name"},placeholder:"请选择省市区",filterable:""},on:{change:e.change},model:{value:e.ruleForm.value1,callback:function(t){e.$set(e.ruleForm,"value1",t)},expression:"ruleForm.value1"}})],1)],1),a("el-col",{attrs:{span:20}},[a("el-form-item",{attrs:{label:"点位位置"}},[a("el-input",{staticStyle:{width:"180px"},attrs:{placeholder:"请输入点位位置"},model:{value:e.shop_name,callback:function(t){e.shop_name=t},expression:"shop_name"}})],1)],1),a("el-col",{attrs:{span:20}},[a("el-form-item",{attrs:{label:"点位位置"}},[a("el-input",{staticStyle:{width:"180px"},attrs:{placeholder:"请输入点位位置"},model:{value:e.shop_name,callback:function(t){e.shop_name=t},expression:"shop_name"}})],1)],1)],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogVisible=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:e.submitForm}},[e._v("确 定")])],1)],1)],1)},d=[],p=a("ade3"),m={name:"AddDialog",components:{},data:function(){var e;return e={property:"",exclude:"",house:"",medical:"",shop:"",shop_name:"",school:"",build:"",house_num:"",households:"",peopleall:"",house_price:"",remarks:"",check:!1,token:"",isDisable:!1,tittle:"",id:"",form:{value1:"",value2:"",value3:""},province:"",type:"",city:""},Object(p["a"])(e,"id",""),Object(p["a"])(e,"area",""),Object(p["a"])(e,"type",""),Object(p["a"])(e,"dialogVisible",!1),Object(p["a"])(e,"ruleForm",{value1:"",type:"",year:"",position_user:"",details:""}),Object(p["a"])(e,"rules",{year:[{required:!0,message:"请选择点位到期时间",trigger:"blur"}],value1:[{required:!0,message:"请选择省市区",trigger:"blur"}],details:[{required:!0,message:"请输入详情信息",trigger:"blur"}],position_user:[{required:!0,message:"请输入渠道商id",trigger:"blur"}],type:[{required:!0,message:"请选择点位来源",trigger:"blur"}]}),e},created:function(){this.setData(Object(c["a"])()),this.areaArr=Object(c["a"])()},mounted:function(){},methods:{setData:function(e){var t=this;e.map((function(e){e["value"]=e.code,e["label"]=e.name,e.children&&t.setData(e.children)}))},change:function(e){console.log(e),this.province=e[0],this.city=e[1],this.area=e[2]},show:function(e,t){this.dialogVisible=!0,this.tittle="添加"},close:function(){this.dialogVisible=!1},submitForm:function(){var e=this,t={token:sessionStorage.getItem("token"),province:this.province,city:this.city,area:this.area};Object(n["zd"])(t).then((function(t){200==t.data.code?(e.$message.success("新增成功"),e.$parent.getUserList(),e.close(),e.isDisable=!1):(e.$message.error(t.data.msg),e.$parent.getUserList(),e.close(),e.isDisable=!1)}))}}},h=m,b=(a("3ce3"),a("2877")),f=Object(b["a"])(h,u,d,!1,null,"cd3317ca",null),g=f.exports,v=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-dialog",{staticClass:"AddDialog",attrs:{title:"铺设点位详情",visible:e.dialogVisible,width:"800px",hegiht:"1000px","close-on-click-modal":!1},on:{"update:visible":function(t){e.dialogVisible=t},close:e.close}},[a("el-form",{attrs:{"label-width":"auto"}},[a("el-row",{attrs:{gutter:24}},[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"点位位置:"}},[e._v(e._s(e.province)+"-"+e._s(e.city)+"-"+e._s(e.area)+" ")])],1),a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"点位详细位置:"}},[e._v(e._s(e.details)+" ")])],1),"2038"==e.formatStr(e.due_time)?a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"点位使用截止日期:"}},[e._v("永久 ")])],1):a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"点位使用截止日期:"}},[e._v(e._s(e.due_time)+" ")])],1),a("el-col",{attrs:{span:12}},[10==e.type?a("el-form-item",{attrs:{label:"点位来源:"}},[e._v("公司 ")]):e._e(),20==e.type?a("el-form-item",{attrs:{label:"点位来源:"}},[e._v(" 渠道商")]):e._e()],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"渠道商id:"}},[e._v(e._s(e.position_user)+" ")])],1)],1)],1)],1)],1)},_=[],y={name:"AddDialog",components:{pageTable:l["a"]},data:function(){var e;return e={dialogVisible:!1,province:"",city:"",area:"",details:"",due_time:"",type:""},Object(p["a"])(e,"province",""),Object(p["a"])(e,"position_user",""),e},created:function(){},mounted:function(){},methods:{show:function(e){console.log(e),this.dialogVisible=!0,this.province=e.province,this.city=e.city,this.area=e.area,this.details=e.details,this.due_time=e.due_time,this.type=e.type,this.position_user=e.position_user},close:function(){this.dialogVisible=!1},formatStr:function(e){return e?"".concat(e.substr(0,4)):""},getUserList:function(){var e=this,t=sessionStorage.getItem("token");this.token=t;var a={page:this.page.currentPage,limit:this.page.pageSize,token:sessionStorage.getItem("token"),moys:this.moys,id:this.id,s_time:this.buy_time[0],e_time:this.buy_time[1]};goodsListMem(a).then((function(t){e.page.total=t.data.data.total,e.userList=t.data.data.data,e.$refs.dataTable.setPageInfo({total:e.page.total})}))}}},k=y,x=(a("abf4"),Object(b["a"])(k,v,_,!1,null,null,null)),w=x.exports,S={name:"user",components:{pageTable:l["a"],editData:g,fenRun:w},data:function(){return{token:"",box_name:"",id:"",form:{value1:"",value2:"",value3:""},province:"",city:"",area:"",userList:[],page:{currentPage:1,pageSize:10,total:0}}},created:function(){this.getUserList(),this.setData(Object(c["a"])()),this.areaArr=Object(c["a"])(),this.token=sessionStorage.getItem("token")},mounted:function(){},computed:{},methods:{dao:function(){window.location.href="https://yujian02.xyz/admin/box/posExport?token="+this.token+"&box_name="+this.box_name+"&uid="+this.box_uid+"&id="+this.id+"&province="+this.province+"&type="+this.type+"&city="+this.city+"&bind="+this.sta+"&area="+this.area+"&time1="+this.time[0]+"&time2="+this.time[1]},setData:function(e){var t=this;e.map((function(e){e["value"]=e.code,e["label"]=e.name,e.children&&t.setData(e.children)}))},change:function(e){console.log(e),this.province=e[0],this.city=e[1],this.area=e[2]},add:function(){this.$refs.editData.show(1,{})},deleteData:function(e){var t=this;this.$confirm("是否删除此信息？","提示",{type:"warning"}).then(Object(o["a"])(regeneratorRuntime.mark((function a(){var i;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:e.id,i={token:sessionStorage.getItem("token"),id:e.id},Object(n["Ad"])(i).then((function(e){200==e.data.code&&(t.getUserList(),t.$message.success("删除成功"))}));case 3:case"end":return a.stop()}}),a)})))).catch((function(){}))},showtable:function(e){var t=e;this.$refs.fenRun.show(JSON.parse(JSON.stringify(t)))},checkPermission:r["a"],changeCurrent:function(e,t){this.page.currentPage=e,this.page.pageSize=t,this.getUserList()},searchinfo:function(){var e=this;this.page.currentPage=1,this.token=token;var t={page:1,limit:this.page.pageSize,token:sessionStorage.getItem("token"),box_name:this.box_name,province:this.province,type:this.type,city:this.city};Object(n["Cd"])(t).then((function(t){e.page.total=t.data.count,e.userList=t.data.data,e.$refs.dataTable.setPageInfo({total:e.page.total})}))},getUserList:function(){var e=this;this.token=token;var t={page:this.page.currentPage,limit:this.page.pageSize,token:sessionStorage.getItem("token"),box_name:this.box_name,province:this.province,type:this.type,city:this.city};Object(n["Cd"])(t).then((function(t){e.page.total=t.data.count,e.userList=t.data.data,e.$refs.dataTable.setPageInfo({total:e.page.total})}))}}},O=S,j=Object(b["a"])(O,i,s,!1,null,"2564e011",null);t["default"]=j.exports},abf4:function(e,t,a){"use strict";a("3fc3")}}]);
//# sourceMappingURL=chunk-7042d0ea.282afea0.js.map