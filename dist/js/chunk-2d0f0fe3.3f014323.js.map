{"version":3,"sources":["webpack:///./src/views/global/system/consultation/index.vue?89f9","webpack:///src/views/global/system/consultation/index.vue","webpack:///./src/views/global/system/consultation/index.vue?980c","webpack:///./src/views/global/system/consultation/index.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","staticStyle","model","value","callback","$$v","phone","expression","sta","time","on","searchinfo","_v","ref","userList","changeCurrent","scopedSlots","_u","key","fn","scope","_s","page","currentPage","pageSize","$index","row","_l","img","split","item","slot","_e","$event","set","dialogVisible","close","refuse","submitForm","staticRenderFns","name","components","pageTable","data","setid","sev_id","areaArr","form","value1","value2","value3","province","city","person","area","uid","watch","newVal","created","getUserList","setData","mounted","computed","methods","map","code","children","change","console","log","token","sessionStorage","getItem","id","res","checkPermission","size","limit","time1","time2","total","count","component"],"mappings":"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","file":"js/chunk-2d0f0fe3.3f014323.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"user\"},[_c('div',{staticClass:\"block-quote\"},[_c('el-form',{attrs:{\"inline\":true}},[_c('el-form-item',{attrs:{\"label\":\"手机号\",\"prop\":\"phone\"}},[_c('el-input',{staticStyle:{\"width\":\"180px\"},attrs:{\"clearable\":\"\",\"placeholder\":\"请输入渠道商id\"},model:{value:(_vm.phone),callback:function ($$v) {_vm.phone=$$v},expression:\"phone\"}})],1),_c('el-form-item',{attrs:{\"label\":\"状态\",\"prop\":\"member\"}},[_c('el-select',{staticStyle:{\"width\":\"150px\"},attrs:{\"placeholder\":\"请选择\"},model:{value:(_vm.sta),callback:function ($$v) {_vm.sta=$$v},expression:\"sta\"}},[_c('el-option',{attrs:{\"label\":\"全部状态\",\"value\":\"\"}}),_c('el-option',{attrs:{\"label\":\"待处理\",\"value\":\"10\"}}),_c('el-option',{attrs:{\"label\":\"已撤销\",\"value\":\"40\"}}),_c('el-option',{attrs:{\"label\":\"已处理\",\"value\":\"20\"}})],1)],1),_c('el-form-item',{attrs:{\"label\":\"时间\",\"prop\":\"time\"}},[_c('el-date-picker',{attrs:{\"type\":\"daterange\",\"value-format\":\"yyyy-MM-dd HH:mm:ss\",\"range-separator\":\"至\",\"start-placeholder\":\"开始日期\",\"end-placeholder\":\"结束日期\"},model:{value:(_vm.time),callback:function ($$v) {_vm.time=$$v},expression:\"time\"}})],1),_c('el-form-item',{staticStyle:{\"float\":\"right\"}},[_c('el-button',{attrs:{\"type\":\"primary\",\"icon\":\"el-icon-search\"},on:{\"click\":_vm.searchinfo}},[_vm._v(\"搜索\")])],1)],1)],1),_c('page-table',{ref:\"dataTable\",attrs:{\"data\":_vm.userList},on:{\"changeCurrentPage\":_vm.changeCurrent}},[_c('el-table-column',{attrs:{\"label\":\"序号\",\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('span',[_vm._v(_vm._s((_vm.page.currentPage - 1) * _vm.page.pageSize + scope.$index + 1))])]}}])}),_c('el-table-column',{attrs:{\"prop\":\"name\",\"label\":\"姓名\",\"align\":\"center\"}}),_c('el-table-column',{attrs:{\"prop\":\"phone\",\"label\":\"手机号\",\"align\":\"center\"}}),_c('el-table-column',{attrs:{\"label\":\"图片\",\"width\":\"160\",\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [(scope.row.img)?_c('div',_vm._l((scope.row.img.split(',')),function(item){return _c('span',{key:item},[_c('el-popover',{attrs:{\"placement\":\"right\",\"title\":\"\",\"trigger\":\"click\"}},[_c('img',{staticStyle:{\"max-height\":\"400px !important\",\"max-width\":\"500px !important\"},attrs:{\"src\":item}}),_c('img',{staticStyle:{\"margin-left\":\"10px\"},attrs:{\"slot\":\"reference\",\"src\":item,\"alt\":item,\"min-width\":\"70\",\"height\":\"70\"},slot:\"reference\"})])],1)}),0):_vm._e(),(scope.row.img == null)?_c('span',[_vm._v(\"无\")]):_vm._e(),(scope.row.img == '')?_c('span',[_vm._v(\"无\")]):_vm._e()]}}])}),_c('el-table-column',{attrs:{\"prop\":\"remark\",\"label\":\"申请详情\",\"align\":\"center\"}}),_c('el-table-column',{attrs:{\"prop\":\"created_at\",\"label\":\"时间\",\"align\":\"center\"}}),_c('el-table-column',{attrs:{\"label\":\"审核状态\",\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [(scope.row.sta == 20)?_c('el-link',{attrs:{\"type\":\"success\"}},[_vm._v(\"已处理\")]):_vm._e(),(scope.row.sta == 10)?_c('el-link',[_vm._v(\"待处理\")]):_vm._e(),(scope.row.sta == 30)?_c('el-link',{attrs:{\"type\":\"danger\"}},[_vm._v(\"拒绝\")]):_vm._e(),(scope.row.sta == 40)?_c('el-link',{attrs:{\"type\":\"info\"}},[_vm._v(\"已撤销\")]):_vm._e()]}}])}),_c('el-table-column',{attrs:{\"label\":\"操作\",\"align\":\"center\",\"width\":\"360\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [(scope.row.sta == 10)?_c('el-link',{staticStyle:{\"margin-left\":\"10px\"},attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.set(scope.row)}}},[_vm._v(\"处理\")]):_vm._e(),(scope.row.sta == 20)?_c('el-link',{staticStyle:{\"margin-left\":\"10px\"},attrs:{\"type\":\"success\"}},[_vm._v(\"已处理\")]):_vm._e(),(scope.row.sta == 30)?_c('el-link',{staticStyle:{\"margin-left\":\"10px\"},attrs:{\"type\":\"danger\"}},[_vm._v(\"拒绝\")]):_vm._e(),(scope.row.sta == 40)?_c('el-link',{staticStyle:{\"margin-left\":\"10px\"},attrs:{\"type\":\"info\"}},[_vm._v(\"已撤销\")]):_vm._e()]}}])})],1),_c('el-dialog',{attrs:{\"title\":\"反馈\",\"visible\":_vm.dialogVisible,\"width\":\"400px\",\"close-on-click-modal\":false},on:{\"update:visible\":function($event){_vm.dialogVisible=$event},\"close\":_vm.close}},[_c('el-form',{attrs:{\"label-width\":\"auto\"}},[_c('el-row',{attrs:{\"gutter\":20}},[_c('el-col',{attrs:{\"span\":24}},[_c('el-form-item',{attrs:{\"label\":\"反馈处理\",\"prop\":\"role_name\"}})],1)],1)],1),_c('div',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":_vm.refuse}},[_vm._v(\"取消\")]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.submitForm}},[_vm._v(\"处理\")])],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"user\">\r\n    <div class=\"block-quote\">\r\n      <el-form :inline=\"true\">\r\n        <el-form-item label=\"手机号\" prop=\"phone\">\r\n          <el-input\r\n            style=\"width: 180px\"\r\n            v-model=\"phone\"\r\n            clearable\r\n            placeholder=\"请输入渠道商id\"\r\n          ></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"状态\" prop=\"member\">\r\n          <el-select v-model=\"sta\" placeholder=\"请选择\" style=\"width: 150px\">\r\n            <el-option label=\"全部状态\" value=\"\"></el-option>\r\n            <el-option label=\"待处理\" value=\"10\"></el-option>\r\n            <el-option label=\"已撤销\" value=\"40\"></el-option>\r\n            <el-option label=\"已处理\" value=\"20\"></el-option>\r\n          </el-select>\r\n        </el-form-item>\r\n        <el-form-item label=\"时间\" prop=\"time\">\r\n          <el-date-picker\r\n            v-model=\"time\"\r\n            type=\"daterange\"\r\n            value-format=\"yyyy-MM-dd HH:mm:ss\"\r\n            range-separator=\"至\"\r\n            start-placeholder=\"开始日期\"\r\n            end-placeholder=\"结束日期\"\r\n          >\r\n          </el-date-picker>\r\n        </el-form-item>\r\n        <el-form-item style=\"float: right\">\r\n          <el-button type=\"primary\" icon=\"el-icon-search\" @click=\"searchinfo\"\r\n            >搜索</el-button\r\n          >\r\n        </el-form-item>\r\n      </el-form>\r\n    </div>\r\n    <page-table\r\n      ref=\"dataTable\"\r\n      :data=\"userList\"\r\n      @changeCurrentPage=\"changeCurrent\"\r\n    >\r\n      <el-table-column label=\"序号\" align=\"center\">\r\n        <template slot-scope=\"scope\">\r\n          <span>{{\r\n            (page.currentPage - 1) * page.pageSize + scope.$index + 1\r\n          }}</span>\r\n        </template>\r\n      </el-table-column>\r\n\r\n      <el-table-column prop=\"name\" label=\"姓名\" align=\"center\">\r\n      </el-table-column>\r\n      <el-table-column prop=\"phone\" label=\"手机号\" align=\"center\">\r\n      </el-table-column>\r\n      <el-table-column label=\"图片\" width=\"160\" align=\"center\">\r\n        <template slot-scope=\"scope\">\r\n          <div v-if=\"scope.row.img\">\r\n            <span v-for=\"item in scope.row.img.split(',')\" v-bind:key=\"item\">\r\n              <el-popover placement=\"right\" title=\"\" trigger=\"click\">\r\n                <img\r\n                  :src=\"item\"\r\n                  style=\"\r\n                    max-height: 400px !important;\r\n                    max-width: 500px !important;\r\n                  \"\r\n                />\r\n\r\n                <img\r\n                  slot=\"reference\"\r\n                  :src=\"item\"\r\n                  :alt=\"item\"\r\n                  min-width=\"70\"\r\n                  height=\"70\"\r\n                  style=\"margin-left: 10px\"\r\n                />\r\n              </el-popover>\r\n            </span>\r\n          </div>\r\n          <span v-if=\"scope.row.img == null\">无</span>\r\n          <span v-if=\"scope.row.img == ''\">无</span>\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column prop=\"remark\" label=\"申请详情\" align=\"center\">\r\n      </el-table-column>\r\n      <el-table-column prop=\"created_at\" label=\"时间\" align=\"center\">\r\n      </el-table-column>\r\n      <!-- <el-table-column prop=\"sta_time\" label=\"审核时间\" align=\"center\">\r\n      </el-table-column>\r\n      <el-table-column prop=\"sta_user\" label=\"审核人\" align=\"center\">\r\n      </el-table-column> -->\r\n      <el-table-column label=\"审核状态\" align=\"center\">\r\n        <template slot-scope=\"scope\">\r\n          <el-link type=\"success\" v-if=\"scope.row.sta == 20\">已处理</el-link>\r\n          <el-link v-if=\"scope.row.sta == 10\">待处理</el-link>\r\n          <el-link type=\"danger\" v-if=\"scope.row.sta == 30\">拒绝</el-link>\r\n          <el-link type=\"info\" v-if=\"scope.row.sta == 40\">已撤销</el-link>\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column label=\"操作\" align=\"center\" width=\"360\">\r\n        <template slot-scope=\"scope\">\r\n          <el-link\r\n            type=\"primary\"\r\n            v-if=\"scope.row.sta == 10\"\r\n            @click=\"set(scope.row)\"\r\n            style=\"margin-left: 10px\"\r\n            >处理</el-link\r\n          >\r\n          <el-link\r\n            type=\"success\"\r\n            v-if=\"scope.row.sta == 20\"\r\n            style=\"margin-left: 10px\"\r\n            >已处理</el-link\r\n          >\r\n          <el-link\r\n            type=\"danger\"\r\n            v-if=\"scope.row.sta == 30\"\r\n            style=\"margin-left: 10px\"\r\n            >拒绝</el-link\r\n          >\r\n          <el-link\r\n            type=\"info\"\r\n            v-if=\"scope.row.sta == 40\"\r\n            style=\"margin-left: 10px\"\r\n            >已撤销</el-link\r\n          >\r\n        </template>\r\n      </el-table-column>\r\n    </page-table>\r\n    <el-dialog\r\n      title=\"反馈\"\r\n      :visible.sync=\"dialogVisible\"\r\n      width=\"400px\"\r\n      :close-on-click-modal=\"false\"\r\n      @close=\"close\"\r\n    >\r\n      <el-form label-width=\"auto\">\r\n        <el-row :gutter=\"20\">\r\n          <el-col :span=\"24\">\r\n            <el-form-item label=\"反馈处理\" prop=\"role_name\"> </el-form-item>\r\n          </el-col>\r\n        </el-row>\r\n      </el-form>\r\n      <div slot=\"footer\" class=\"dialog-footer\">\r\n        <el-button @click=\"refuse\">取消</el-button>\r\n        <el-button type=\"primary\" @click=\"submitForm\">处理</el-button>\r\n      </div>\r\n    </el-dialog>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { feedbacklist, feedbacksta } from \"@/request/api\";\r\nimport { checkPermission } from \"@/utils/permissions\";\r\nimport pageTable from \"@/components/pageTable.vue\";\r\nimport { areaListData } from \"@/utils/area\";\r\nexport default {\r\n  name: \"user\",\r\n  components: {\r\n    pageTable,\r\n  },\r\n  data() {\r\n    return {\r\n      dialogVisible: false,\r\n      setid: \"\",\r\n      sev_id: \"\",\r\n      sta: \"\",\r\n      phone: \"\",\r\n      areaArr: [],\r\n      form: {\r\n        value1: \"\",\r\n        value2: \"\",\r\n        value3: \"\",\r\n      },\r\n      province: \"\",\r\n      city: \"\",\r\n      name: \"\",\r\n      person: \"\",\r\n      area: \"\",\r\n      uid: \"\",\r\n      sta: \"\",\r\n      time: \"\",\r\n      userList: [], // 列表\r\n\r\n      page: {\r\n        //分页信息\r\n        currentPage: 1, //当前页\r\n        pageSize: 10, //每页条数\r\n        total: 0, //总条数\r\n      },\r\n    };\r\n  },\r\n  watch: {\r\n    time(newVal) {\r\n      if (newVal == null) {\r\n        this.time = [];\r\n      }\r\n    },\r\n  },\r\n  created() {\r\n    this.getUserList(); //获取用户列表\r\n    this.setData(areaListData());\r\n    this.areaArr = areaListData();\r\n  },\r\n  mounted() {},\r\n  computed: {},\r\n  methods: {\r\n    setData(data) {\r\n      data.map((item) => {\r\n        item[\"value\"] = item.code;\r\n        item[\"label\"] = item.name;\r\n        if (item.children) {\r\n          this.setData(item.children);\r\n        }\r\n      });\r\n    },\r\n    change(data) {\r\n      console.log(data);\r\n      this.province = data[0];\r\n      this.city = data[1];\r\n      this.area = data[2];\r\n    },\r\n    submitForm() {\r\n      let params = {\r\n        token: sessionStorage.getItem(\"token\"),\r\n        sta: 20,\r\n        id: this.id,\r\n      };\r\n      feedbacksta(params).then((res) => {\r\n        if (res.data.code == 200) {\r\n          this.$message.success(\"操作成功\");\r\n          this.dialogVisible = false;\r\n          this.getUserList();\r\n        }\r\n      });\r\n    },\r\n\r\n    refuse() {\r\n      this.dialogVisible = false;\r\n      this.getUserList();\r\n    },\r\n\r\n    close() {\r\n      this.dialogVisible = false;\r\n    },\r\n\r\n    set(row) {\r\n      this.dialogVisible = true;\r\n      //console.log(row.id);\r\n      this.id = row.id;\r\n    },\r\n    checkPermission,\r\n    // 切换分页\r\n    changeCurrent(page, size) {\r\n      this.page.currentPage = page;\r\n      this.page.pageSize = size;\r\n      this.getUserList();\r\n    },\r\n    searchinfo() {\r\n      let token = sessionStorage.getItem(\"token\");\r\n      this.token = token;\r\n      let params = {\r\n        page: 1,\r\n        limit: this.page.pageSize,\r\n        token: sessionStorage.getItem(\"token\"),\r\n        phone: this.phone,\r\n        time1: this.time[0],\r\n        time2: this.time[1],\r\n        sta: this.sta,\r\n      };\r\n      feedbacklist(params).then((res) => {\r\n        this.page.total = res.data.count;\r\n        this.userList = res.data.data;\r\n        this.$refs.dataTable.setPageInfo({\r\n          total: this.page.total,\r\n        });\r\n      });\r\n    },\r\n    getUserList() {\r\n      let token = sessionStorage.getItem(\"token\");\r\n      this.token = token;\r\n      let params = {\r\n        page: this.page.currentPage,\r\n        limit: this.page.pageSize,\r\n        token: sessionStorage.getItem(\"token\"),\r\n        limit: this.page.pageSize,\r\n        token: sessionStorage.getItem(\"token\"),\r\n        phone: this.phone,\r\n        time1: this.time[0],\r\n        time2: this.time[1],\r\n        sta: this.sta,\r\n      };\r\n\r\n      feedbacklist(params).then((res) => {\r\n        console.log(res.data.data);\r\n        console.log(res.data.count);\r\n        this.page.total = res.data.count;\r\n        this.userList = res.data.data;\r\n        this.$refs.dataTable.setPageInfo({\r\n          total: this.page.total,\r\n        });\r\n      });\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n</style>\r\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=2c660812&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2c660812\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}