{"remainingRequest":"C:\\Users\\Administrator\\Desktop\\个人\\实例后台\\后台\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Administrator\\Desktop\\个人\\实例后台\\后台\\src\\views\\shop\\life\\lifetype\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\Administrator\\Desktop\\个人\\实例后台\\后台\\src\\views\\shop\\life\\lifetype\\index.vue","mtime":1656903189261},{"path":"C:\\Users\\Administrator\\Desktop\\个人\\实例后台\\后台\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Administrator\\Desktop\\个人\\实例后台\\后台\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\Administrator\\Desktop\\个人\\实例后台\\后台\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Administrator\\Desktop\\个人\\实例后台\\后台\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgeyBjaGVja1Blcm1pc3Npb24gfSBmcm9tICJAL3V0aWxzL3Blcm1pc3Npb25zIjsNCmltcG9ydCB7IHNob3B0eXBlLCBzaG9wVHlwZWRlbCwgc2hvcFR5cGVpc3Nob3cgfSBmcm9tICJAL2FwaS9zaG9wIjsNCmltcG9ydCBwYWdlVGFibGUgZnJvbSAiQC9jb21wb25lbnRzL3BhZ2VUYWJsZS52dWUiOw0KaW1wb3J0IGFkZE9yRWRpdERpYWxvZyBmcm9tICIuL2FkZE9yRWRpdERpYWxvZy52dWUiOw0KZXhwb3J0IGRlZmF1bHQgew0KICBuYW1lOiAibWVudVBhZ2UiLA0KICBjb21wb25lbnRzOiB7DQogICAgcGFnZVRhYmxlLA0KICAgIGFkZE9yRWRpdERpYWxvZywNCiAgfSwNCiAgZGF0YSgpIHsNCiAgICByZXR1cm4gew0KICAgICAgdG9rZW46ICIiLA0KICAgICAgbWVudUxpc3Q6IFtdLA0KICAgICAgdGFibGVTZWxlY3RMaXN0OiBbXSwNCiAgICB9Ow0KICB9LA0KICBjcmVhdGVkKCkgew0KICAgIHRoaXMudG9rZW4gPSBzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKCJ0b2tlbiIpOw0KICAgIHRoaXMuZ2V0bGlzdCgpOw0KICB9LA0KICBtb3VudGVkKCkge30sDQogIG1ldGhvZHM6IHsNCiAgICBjaGVja1Blcm1pc3Npb24sDQogICAgYXN5bmMgZ2V0bGlzdCgpIHsNCiAgICAgIGxldCByZXMgPSBhd2FpdCBzaG9wdHlwZSh7DQogICAgICAgIHRva2VuOiBzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKCJ0b2tlbiIpLA0KICAgICAgICBzaG9wX3R5cGU6IDMsDQogICAgICB9KTsNCiAgICAgIGlmIChyZXMuc3RhdHVzID09IDIwMCkgew0KICAgICAgICB0aGlzLm1lbnVMaXN0ID0gcmVzLmRhdGEuZGF0YTsNCiAgICAgIH0NCiAgICB9LA0KICAgIG1lbnVDaGFuZ2UodmFsKSB7DQogICAgICB0aGlzLnNob3dNZW51TGV2ZWwyID0gdGhpcy5tZW51TGV2ZWwyLmZpbHRlcigoaXRlbSkgPT4gaXRlbS5waWQgPT0gdmFsKTsNCiAgICB9LA0KDQogICAgYWRkRGF0YSgpIHsNCiAgICAgIHRoaXMuJHJlZnMuYWRkb3JlZGl0RGF0YS5zaG93KDEsIHt9KTsgLy8gMTrmlrDlop7vvIwyOue8lui+ke+8jDM65YiG57G75paw5aKeDQogICAgfSwNCg0KICAgIGFkZHR5cGVEYXRhKHR5cGUsIHJvdykgew0KICAgICAgLy8gMTrmlrDlop7vvIwyOue8lui+ke+8jDM65YiG57G75paw5aKeDQogICAgICB0aGlzLiRyZWZzLmFkZG9yZWRpdERhdGEuc2hvdygzLCBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KHJvdykpKTsNCiAgICB9LA0KDQogICAgZWRpdERhdGEodHlwZSwgcm93KSB7DQogICAgICBpZiAoKHR5cGUgPT0gMSAmJiB0aGlzLnRhYmxlU2VsZWN0TGlzdC5sZW5ndGggPT0gMSkgfHwgdHlwZSA9PSAyKSB7DQogICAgICAgIGxldCByb3dEYXRhID0gdHlwZSA9PSAxID8gdGhpcy50YWJsZVNlbGVjdExpc3RbMF0gOiByb3c7DQogICAgICAgIC8vIDE65paw5aKe77yMMjrnvJbovpENCiAgICAgICAgdGhpcy4kcmVmcy5hZGRvcmVkaXREYXRhLnNob3coMiwgSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShyb3dEYXRhKSkpOw0KICAgICAgfSBlbHNlIHsNCiAgICAgICAgdGhpcy4kbWVzc2FnZS53YXJuaW5nKCLor7fpgInmi6nkuIDmnaHmlbDmja7nvJbovpEiKTsNCiAgICAgIH0NCiAgICB9LA0KDQogICAgLy/mmL7npLrpmpDol48NCiAgICBpc1Nod28odHlwZSwgcm93KSB7DQogICAgICBpZiAodHlwZSA9PSAxMCB8fCB0eXBlID09IDIwKSB7DQogICAgICAgIHRoaXMuJGNvbmZpcm0oIuaYr+WQpuaTjeS9nOatpOWIhuexu++8nyIsICLmj5DnpLoiLCB7DQogICAgICAgICAgdHlwZTogIndhcm5pbmciLA0KICAgICAgICB9KQ0KICAgICAgICAgIC50aGVuKGFzeW5jICgpID0+IHsNCiAgICAgICAgICAgIGxldCByZXMgPSBhd2FpdCBzaG9wVHlwZWlzc2hvdyh7DQogICAgICAgICAgICAgIGlkOiByb3cuaWQsDQogICAgICAgICAgICAgIGlzX3Nob3c6IHR5cGUsDQogICAgICAgICAgICAgIHNob3BfdHlwZTogMywNCiAgICAgICAgICAgICAgdG9rZW46IHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oInRva2VuIiksDQogICAgICAgICAgICB9KTsNCiAgICAgICAgICAgIGlmIChyZXMuc3RhdHVzID09IDIwMCkgew0KICAgICAgICAgICAgICB0aGlzLmdldGxpc3QoKTsNCiAgICAgICAgICAgICAgdGhpcy4kbWVzc2FnZS5zdWNjZXNzKCLmk43kvZzmiJDlip8iKTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICB9KQ0KICAgICAgICAgIC5jYXRjaCgoKSA9PiB7fSk7DQogICAgICB9DQogICAgfSwNCiAgICAvL+WIoOmZpA0KICAgIGRlbGV0ZURhdGEodHlwZSwgcm93KSB7DQogICAgICBpZiAoKHR5cGUgPT0gMSAmJiB0aGlzLnRhYmxlU2VsZWN0TGlzdC5sZW5ndGggPT0gMSkgfHwgdHlwZSA9PSAyKSB7DQogICAgICAgIHRoaXMuJGNvbmZpcm0oIuaYr+WQpuWIoOmZpOatpOWIhuexu++8nyIsICLmj5DnpLoiLCB7DQogICAgICAgICAgdHlwZTogIndhcm5pbmciLA0KICAgICAgICB9KQ0KICAgICAgICAgIC50aGVuKGFzeW5jICgpID0+IHsNCiAgICAgICAgICAgIGxldCByb3dEYXRhID0gdHlwZSA9PSAxID8gdGhpcy50YWJsZVNlbGVjdExpc3RbMF0gOiByb3c7DQogICAgICAgICAgICBsZXQgcmVzID0gYXdhaXQgc2hvcFR5cGVkZWwoew0KICAgICAgICAgICAgICBpZDogcm93RGF0YS5pZCwNCiAgICAgICAgICAgICAgc2hvcF90eXBlOiAzLA0KICAgICAgICAgICAgICB0b2tlbjogc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbSgidG9rZW4iKSwNCiAgICAgICAgICAgIH0pOw0KICAgICAgICAgICAgaWYgKHJlcy5zdGF0dXMgPT0gMjAwKSB7DQogICAgICAgICAgICAgIHRoaXMuZ2V0bGlzdCgpOw0KICAgICAgICAgICAgICB0aGlzLiRtZXNzYWdlLnN1Y2Nlc3MoIuWIoOmZpOaIkOWKnyIpOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgIH0pDQogICAgICAgICAgLmNhdGNoKCgpID0+IHt9KTsNCiAgICAgIH0gZWxzZSB7DQogICAgICAgIHRoaXMuJG1lc3NhZ2Uud2FybmluZygi6K+36YCJ5oup5LiA5p2h5pWw5o2u5Yig6ZmkIik7DQogICAgICB9DQogICAgfSwNCiAgfSwNCn07DQo="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4GA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/views/shop/life/lifetype","sourcesContent":["<template>\r\n  <div class=\"menu\">\r\n    <div class=\"block-quote\">\r\n      <el-form :inline=\"true\" ref=\"form\">\r\n        <span style=\"color: red\">* 注: 专区商城为三级分类</span>\r\n        <el-form-item style=\"float: right\">\r\n          <el-button\r\n            v-if=\"checkPermission('roleadd')\"\r\n            type=\"primary\"\r\n            icon=\"el-icon-plus\"\r\n            @click=\"addData\"\r\n            >新增</el-button\r\n          >\r\n        </el-form-item>\r\n      </el-form>\r\n    </div>\r\n    <page-table\r\n      ref=\"dataTable\"\r\n      :data=\"menuList\"\r\n      :paging=\"false\"\r\n      row-key=\"id\"\r\n      :header-cell-style=\"{ textAlign: 'center' }\"\r\n      :cell-style=\"{ textAlign: 'center' }\"\r\n    >\r\n      <el-table-column\r\n        prop=\"id\"\r\n        label=\"编号ID\"\r\n        width=\"160\"\r\n        :resizable=\"false\"\r\n      ></el-table-column>\r\n      <el-table-column\r\n        prop=\"name\"\r\n        label=\"分类名称\"\r\n        width=\"220\"\r\n        :resizable=\"false\"\r\n      ></el-table-column>\r\n      <el-table-column\r\n        prop=\"weigh\"\r\n        label=\"排序(大->小)\"\r\n        width=\"140\"\r\n        :resizable=\"false\"\r\n      ></el-table-column>\r\n      <el-table-column label=\"显示状态\" width=\"150\" :resizable=\"false\">\r\n        <template slot-scope=\"scope\">\r\n          <el-button\r\n            v-if=\"scope.row.is_show == 10\"\r\n            size=\"mini\"\r\n            type=\"success\"\r\n            @click=\"isShwo(20, scope.row)\"\r\n            >显示</el-button\r\n          >\r\n          <el-button\r\n            v-else\r\n            size=\"mini\"\r\n            type=\"danger\"\r\n            @click=\"isShwo(10, scope.row)\"\r\n            >隐藏</el-button\r\n          >\r\n        </template>\r\n      </el-table-column>\r\n\r\n      <el-table-column prop=\"icon\" label=\"图标\" width=\"240\" :resizable=\"false\">\r\n        <template slot-scope=\"scope\">\r\n          <img :src=\"scope.row.icon\" min-width=\"70\" height=\"70\" />\r\n        </template>\r\n      </el-table-column>\r\n\r\n      <el-table-column\r\n        prop=\"brief\"\r\n        label=\"简介\"\r\n        :resizable=\"false\"\r\n      ></el-table-column>\r\n      <el-table-column\r\n        fixed=\"right\"\r\n        label=\"操作\"\r\n        width=\"240\"\r\n        :resizable=\"false\"\r\n        v-if=\"checkPermission(['useradd', 'useredit', 'userdelete'])\"\r\n      >\r\n        <template slot-scope=\"scope\">\r\n          <el-link\r\n            v-if=\"checkPermission('useradd')\"\r\n            type=\"primary\"\r\n            @click=\"addtypeData(3, scope.row)\"\r\n            >新增</el-link\r\n          >\r\n          &nbsp;\r\n          <el-link\r\n            v-if=\"checkPermission('useredit')\"\r\n            type=\"primary\"\r\n            @click=\"editData(2, scope.row)\"\r\n            >编辑</el-link\r\n          >\r\n          <el-link\r\n            type=\"danger\"\r\n            style=\"margin-left: 10px\"\r\n            @click=\"deleteData(2, scope.row)\"\r\n            >删除</el-link\r\n          >\r\n        </template>\r\n      </el-table-column>\r\n    </page-table>\r\n    <!-- 新增或编辑弹窗 -->\r\n    <addOrEdit-dialog ref=\"addoreditData\"></addOrEdit-dialog>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { checkPermission } from \"@/utils/permissions\";\r\nimport { shoptype, shopTypedel, shopTypeisshow } from \"@/api/shop\";\r\nimport pageTable from \"@/components/pageTable.vue\";\r\nimport addOrEditDialog from \"./addOrEditDialog.vue\";\r\nexport default {\r\n  name: \"menuPage\",\r\n  components: {\r\n    pageTable,\r\n    addOrEditDialog,\r\n  },\r\n  data() {\r\n    return {\r\n      token: \"\",\r\n      menuList: [],\r\n      tableSelectList: [],\r\n    };\r\n  },\r\n  created() {\r\n    this.token = sessionStorage.getItem(\"token\");\r\n    this.getlist();\r\n  },\r\n  mounted() {},\r\n  methods: {\r\n    checkPermission,\r\n    async getlist() {\r\n      let res = await shoptype({\r\n        token: sessionStorage.getItem(\"token\"),\r\n        shop_type: 3,\r\n      });\r\n      if (res.status == 200) {\r\n        this.menuList = res.data.data;\r\n      }\r\n    },\r\n    menuChange(val) {\r\n      this.showMenuLevel2 = this.menuLevel2.filter((item) => item.pid == val);\r\n    },\r\n\r\n    addData() {\r\n      this.$refs.addoreditData.show(1, {}); // 1:新增，2:编辑，3:分类新增\r\n    },\r\n\r\n    addtypeData(type, row) {\r\n      // 1:新增，2:编辑，3:分类新增\r\n      this.$refs.addoreditData.show(3, JSON.parse(JSON.stringify(row)));\r\n    },\r\n\r\n    editData(type, row) {\r\n      if ((type == 1 && this.tableSelectList.length == 1) || type == 2) {\r\n        let rowData = type == 1 ? this.tableSelectList[0] : row;\r\n        // 1:新增，2:编辑\r\n        this.$refs.addoreditData.show(2, JSON.parse(JSON.stringify(rowData)));\r\n      } else {\r\n        this.$message.warning(\"请选择一条数据编辑\");\r\n      }\r\n    },\r\n\r\n    //显示隐藏\r\n    isShwo(type, row) {\r\n      if (type == 10 || type == 20) {\r\n        this.$confirm(\"是否操作此分类？\", \"提示\", {\r\n          type: \"warning\",\r\n        })\r\n          .then(async () => {\r\n            let res = await shopTypeisshow({\r\n              id: row.id,\r\n              is_show: type,\r\n              shop_type: 3,\r\n              token: sessionStorage.getItem(\"token\"),\r\n            });\r\n            if (res.status == 200) {\r\n              this.getlist();\r\n              this.$message.success(\"操作成功\");\r\n            }\r\n          })\r\n          .catch(() => {});\r\n      }\r\n    },\r\n    //删除\r\n    deleteData(type, row) {\r\n      if ((type == 1 && this.tableSelectList.length == 1) || type == 2) {\r\n        this.$confirm(\"是否删除此分类？\", \"提示\", {\r\n          type: \"warning\",\r\n        })\r\n          .then(async () => {\r\n            let rowData = type == 1 ? this.tableSelectList[0] : row;\r\n            let res = await shopTypedel({\r\n              id: rowData.id,\r\n              shop_type: 3,\r\n              token: sessionStorage.getItem(\"token\"),\r\n            });\r\n            if (res.status == 200) {\r\n              this.getlist();\r\n              this.$message.success(\"删除成功\");\r\n            }\r\n          })\r\n          .catch(() => {});\r\n      } else {\r\n        this.$message.warning(\"请选择一条数据删除\");\r\n      }\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n</style>\r\n"]}]}