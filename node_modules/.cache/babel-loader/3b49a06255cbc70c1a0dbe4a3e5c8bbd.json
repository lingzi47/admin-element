{"remainingRequest":"C:\\Users\\Administrator\\Desktop\\后台\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\Administrator\\Desktop\\后台\\src\\utils\\request.js","dependencies":[{"path":"C:\\Users\\Administrator\\Desktop\\后台\\src\\utils\\request.js","mtime":1653360822214},{"path":"C:\\Users\\Administrator\\Desktop\\后台\\babel.config.js","mtime":1646805521000},{"path":"C:\\Users\\Administrator\\Desktop\\后台\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Administrator\\Desktop\\后台\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCBheGlvcyBmcm9tICdheGlvcyc7CmltcG9ydCB7IExvYWRpbmcgfSBmcm9tICJlbGVtZW50LXVpIjsKaW1wb3J0IHN0b3JlIGZyb20gJ0Avc3RvcmUnOyAvLyBjb25zb2xlLmxvZyhwcm9jZXNzLmVudi5OT0RFX0VOVikKLy8gY29uc29sZS5sb2cocHJvY2Vzcy5lbnYuVlVFX0FQUF9CQVNFX1VSTCkKCi8qIGlmKHByb2Nlc3MuZW52Lk5PREVfRU5WID09ICJkZXZlbG9wbWVudCIpewoJLy/lvIDlj5Hnjq/looMKfWVsc2UgaWYocHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT0gInRlc3QiKXsKCS8v5rWL6K+V546v5aKDCn1lbHNlewoJLy/nlJ/kuqfnjq/looMKfSAqLwovLyBsZXQgYmFzZVVSTCA9IHByb2Nlc3MuZW52LlZVRV9BUFBfQkFTRV9VUkwKCnZhciBiYXNlVVJMID0gJy9hcGknOwpjb25zb2xlLmxvZyhiYXNlVVJMKTsKdmFyIHNlcnZpY2UgPSBheGlvcy5jcmVhdGUoewogIGJhc2VVUkw6IGJhc2VVUkwsCiAgdGltZW91dDogNTAwMDAgLy8g6K+35rGC6LaF5pe25pe26Ze0Cgp9KTsKdmFyIGxvYWRpbmdJbnN0YW5jZTsKc2VydmljZS5pbnRlcmNlcHRvcnMucmVxdWVzdC51c2UoZnVuY3Rpb24gKGNvbmZpZykgewogIGxvYWRpbmdJbnN0YW5jZSA9IExvYWRpbmcuc2VydmljZSh7CiAgICB0ZXh0OiAi5q2j5Zyo5Yqg6L29Li4uIiwKICAgIHNwaW5uZXI6ICdlbC1pY29uLWxvYWRpbmcnLAogICAgYmFja2dyb3VuZDogInJnYmEoMCwgMCwgMCwgMC4zKSIKICB9KTsKCiAgaWYgKHN0b3JlLmdldHRlcnMudG9rZW4pIHsKICAgIGNvbmZpZy5oZWFkZXJzWyd0b2tlbiddID0gc3RvcmUuZ2V0dGVycy50b2tlbjsKICB9CgogIHJldHVybiBjb25maWc7Cn0sIGZ1bmN0aW9uIChlcnJvcikgewogIFByb21pc2UucmVqZWN0KGVycm9yKTsKfSk7IC8vIHJlc3BvbnNlIOaLpuaIquWZqAoKc2VydmljZS5pbnRlcmNlcHRvcnMucmVzcG9uc2UudXNlKGZ1bmN0aW9uIChyZXNwb25zZSkgewogIGlmIChsb2FkaW5nSW5zdGFuY2UpIGxvYWRpbmdJbnN0YW5jZS5jbG9zZSgpOwoKICBpZiAocmVzcG9uc2Uuc3RhdHVzID09PSAyMDApIHsKICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUocmVzcG9uc2UuZGF0YSk7CiAgfSBlbHNlIHsKICAgIHN0b3JlLmRpc3BhdGNoKCd1c2VyL3Jlc2V0VG9rZW4nKS50aGVuKGZ1bmN0aW9uICgpIHsKICAgICAgbG9jYXRpb24ucmVsb2FkKCk7CiAgICB9KTsKICAgIHJldHVybiBQcm9taXNlLnJlamVjdChyZXNwb25zZSk7CiAgfQp9LCBmdW5jdGlvbiAoZXJyb3IpIHsKICBpZiAobG9hZGluZ0luc3RhbmNlKSBsb2FkaW5nSW5zdGFuY2UuY2xvc2UoKTsKCiAgaWYgKGVycm9yICYmIGVycm9yLnJlc3BvbnNlKSB7CiAgICBzd2l0Y2ggKGVycm9yLnJlc3BvbnNlLnN0YXR1cykgewogICAgICBjYXNlIDQwMDoKICAgICAgICBlcnJvci5tZXNzYWdlID0gJ+mUmeivr+ivt+axgic7CiAgICAgICAgYnJlYWs7CgogICAgICBjYXNlIDQwMToKICAgICAgICBlcnJvci5tZXNzYWdlID0gJ+acquaOiOadg++8jOivt+mHjeaWsOeZu+W9lSc7CiAgICAgICAgYnJlYWs7CgogICAgICBjYXNlIDQwMzoKICAgICAgICBlcnJvci5tZXNzYWdlID0gJ+aLkue7neiuv+mXric7CiAgICAgICAgYnJlYWs7CgogICAgICBjYXNlIDQwNDoKICAgICAgICBlcnJvci5tZXNzYWdlID0gJ+ivt+axgumUmeivryzmnKrmib7liLDor6XotYTmupAnOwogICAgICAgIGJyZWFrOwoKICAgICAgY2FzZSA0MDU6CiAgICAgICAgZXJyb3IubWVzc2FnZSA9ICfor7fmsYLmlrnms5XmnKrlhYHorrgnOwogICAgICAgIGJyZWFrOwoKICAgICAgY2FzZSA0MDg6CiAgICAgICAgZXJyb3IubWVzc2FnZSA9ICfor7fmsYLotoXml7YnOwogICAgICAgIGJyZWFrOwoKICAgICAgY2FzZSA1MDA6CiAgICAgICAgZXJyb3IubWVzc2FnZSA9ICfmnI3liqHlmajnq6/lh7rplJknOwogICAgICAgIGJyZWFrOwoKICAgICAgY2FzZSA1MDE6CiAgICAgICAgZXJyb3IubWVzc2FnZSA9ICfnvZHnu5zmnKrlrp7njrAnOwogICAgICAgIGJyZWFrOwoKICAgICAgY2FzZSA1MDI6CiAgICAgICAgZXJyb3IubWVzc2FnZSA9ICfnvZHnu5zplJnor68nOwogICAgICAgIGJyZWFrOwoKICAgICAgY2FzZSA1MDM6CiAgICAgICAgZXJyb3IubWVzc2FnZSA9ICfmnI3liqHkuI3lj6/nlKgnOwogICAgICAgIGJyZWFrOwoKICAgICAgY2FzZSA1MDQ6CiAgICAgICAgZXJyb3IubWVzc2FnZSA9ICfnvZHnu5zotoXml7YnOwogICAgICAgIGJyZWFrOwoKICAgICAgY2FzZSA1MDU6CiAgICAgICAgZXJyb3IubWVzc2FnZSA9ICdodHRw54mI5pys5LiN5pSv5oyB6K+l6K+35rGCJzsKICAgICAgICBicmVhazsKCiAgICAgIGRlZmF1bHQ6CiAgICAgICAgZXJyb3IubWVzc2FnZSA9ICJcdTY3MkFcdTc3RTVcdTk1MTlcdThCRUYiLmNvbmNhdChlcnJvci5yZXNwb25zZS5zdGF0dXMpOwogICAgfQogIH0gZWxzZSB7CiAgICBlcnJvci5tZXNzYWdlID0gIui/nuaOpeWIsOacjeWKoeWZqOWksei0pSI7CiAgfQoKICByZXR1cm4gUHJvbWlzZS5yZWplY3QoZXJyb3IpOwp9KTsKZXhwb3J0IGRlZmF1bHQgc2VydmljZTs="},{"version":3,"sources":["C:/Users/Administrator/Desktop/后台/src/utils/request.js"],"names":["axios","Loading","store","baseURL","console","log","service","create","timeout","loadingInstance","interceptors","request","use","config","text","spinner","background","getters","token","headers","error","Promise","reject","response","close","status","resolve","data","dispatch","then","location","reload","message"],"mappings":"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","sourcesContent":["import axios from 'axios'\nimport {\n\tLoading\n} from \"element-ui\";\nimport store from '@/store'\n\n// console.log(process.env.NODE_ENV)\n// console.log(process.env.VUE_APP_BASE_URL)\n\n/* if(process.env.NODE_ENV == \"development\"){\n\t//开发环境\n}else if(process.env.NODE_ENV == \"test\"){\n\t//测试环境\n}else{\n\t//生产环境\n} */\n// let baseURL = process.env.VUE_APP_BASE_URL\nlet baseURL = '/api';\nconsole.log(baseURL);\n\nconst service = axios.create({\n\tbaseURL: baseURL,\n\ttimeout: 50000, // 请求超时时间\n})\n\nlet loadingInstance;\nservice.interceptors.request.use(\n\tconfig => {\n\t\tloadingInstance = Loading.service({\n\t\t\ttext: \"正在加载...\",\n\t\t\tspinner: 'el-icon-loading',\n\t\t\tbackground: \"rgba(0, 0, 0, 0.3)\"\n\t\t});\n\t\tif (store.getters.token) {\n\t\t\tconfig.headers['token'] = store.getters.token;\n\t\t}\n\t\treturn config\n\t},\n\terror => {\n\t\tPromise.reject(error)\n\t}\n)\n// response 拦截器\nservice.interceptors.response.use(\n\tresponse => {\n\t\tif (loadingInstance) loadingInstance.close();\n\t\tif (response.status === 200) {\n\t\t\treturn Promise.resolve(response.data);\n\t\t} else {\n\t\t\tstore.dispatch('user/resetToken').then(() => {\n\t\t\t\tlocation.reload()\n\t\t\t})\n\t\t\treturn Promise.reject(response);\n\t\t}\n\t},\n\terror => {\n\t\tif (loadingInstance) loadingInstance.close();\n\t\tif (error && error.response) {\n\t\t\tswitch (error.response.status) {\n\t\t\t\tcase 400:\n\t\t\t\t\terror.message = '错误请求';\n\t\t\t\t\tbreak;\n\t\t\t\tcase 401:\n\t\t\t\t\terror.message = '未授权，请重新登录';\n\t\t\t\t\tbreak;\n\t\t\t\tcase 403:\n\t\t\t\t\terror.message = '拒绝访问';\n\t\t\t\t\tbreak;\n\t\t\t\tcase 404:\n\t\t\t\t\terror.message = '请求错误,未找到该资源';\n\t\t\t\t\tbreak;\n\t\t\t\tcase 405:\n\t\t\t\t\terror.message = '请求方法未允许';\n\t\t\t\t\tbreak;\n\t\t\t\tcase 408:\n\t\t\t\t\terror.message = '请求超时';\n\t\t\t\t\tbreak;\n\t\t\t\tcase 500:\n\t\t\t\t\terror.message = '服务器端出错';\n\t\t\t\t\tbreak;\n\t\t\t\tcase 501:\n\t\t\t\t\terror.message = '网络未实现';\n\t\t\t\t\tbreak;\n\t\t\t\tcase 502:\n\t\t\t\t\terror.message = '网络错误';\n\t\t\t\t\tbreak;\n\t\t\t\tcase 503:\n\t\t\t\t\terror.message = '服务不可用';\n\t\t\t\t\tbreak;\n\t\t\t\tcase 504:\n\t\t\t\t\terror.message = '网络超时';\n\t\t\t\t\tbreak;\n\t\t\t\tcase 505:\n\t\t\t\t\terror.message = 'http版本不支持该请求';\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\terror.message = `未知错误${error.response.status}`;\n\t\t\t}\n\t\t} else {\n\t\t\terror.message = \"连接到服务器失败\";\n\t\t}\n\t\treturn Promise.reject(error);\n\t}\n)\nexport default service"]}]}