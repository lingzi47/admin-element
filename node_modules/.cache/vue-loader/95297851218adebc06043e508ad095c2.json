{"remainingRequest":"C:\\Users\\Administrator\\Desktop\\后台\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Administrator\\Desktop\\后台\\src\\views\\basis\\element\\calendar\\index.vue?vue&type=style&index=0&id=000ecc14&lang=scss&scoped=true&","dependencies":[{"path":"C:\\Users\\Administrator\\Desktop\\后台\\src\\views\\basis\\element\\calendar\\index.vue","mtime":1646805521000},{"path":"C:\\Users\\Administrator\\Desktop\\后台\\node_modules\\css-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Administrator\\Desktop\\后台\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"C:\\Users\\Administrator\\Desktop\\后台\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"C:\\Users\\Administrator\\Desktop\\后台\\node_modules\\sass-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Administrator\\Desktop\\后台\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Administrator\\Desktop\\后台\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCi5jYWxlbmRhciB7CiAgbWF4LXdpZHRoOiAxMDAwcHg7CiAgbWluLXdpZHRoOiA4MDBweDsKICBtYXJnaW46IDAgYXV0bzsKCiAgLmx1bmFyLWNhbGVuZGFyIHsKICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTsKICAgIGxlZnQ6IDIwcHg7CiAgICB0b3A6IDE2cHg7CiAgICBmb250LXNpemU6IDEycHg7CiAgICBjb2xvcjogIzY2NjsKICAgIGRpc3BsYXk6IGZsZXg7CiAgICAuc29sYXIgewogICAgICBmb250LXNpemU6IDI4cHg7CiAgICB9CiAgICAubHVuYXIgewogICAgICBkaXNwbGF5OiBmbGV4OwogICAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uOwogICAgICBtYXJnaW4tbGVmdDogMjBweDsKICAgICAgLmx1bmFyMSB7CiAgICAgICAgZm9udC1zaXplOiAxNnB4OwogICAgICAgIGZvbnQtd2VpZ2h0OiBib2xkOwogICAgICB9CiAgICB9CiAgfQoKICAvLyDml6XljobmoLflvI8KICAvZGVlcC8gLmVsLWNhbGVuZGFyIHsKICAgIC5lbC1jYWxlbmRhcl9faGVhZGVyIHsKICAgICAganVzdGlmeS1jb250ZW50OiBmbGV4LWVuZDsKCiAgICAgIC5lbC1jYWxlbmRhcl9fdGl0bGUgewogICAgICAgIGRpc3BsYXk6IG5vbmU7CiAgICAgIH0KCiAgICAgIC5lbC1jYWxlbmRhcl9fYnV0dG9uLWdyb3VwIC5lbC1idXR0b24gewogICAgICAgIGZvbnQtc2l6ZTogMTVweDsKICAgICAgfQogICAgfQoKICAgIC5wcmV2LAogICAgLm5leHQgewogICAgICAuZGF0ZS1ncmlkIHsKICAgICAgICBvcGFjaXR5OiAwLjM7CiAgICAgIH0KICAgIH0KCiAgICAuZWwtYmFja3RvcCwKICAgIC5lbC1jYWxlbmRhci10YWJsZSB0ZC5pcy10b2RheSAuZGF0ZS1ncmlkOjphZnRlciB7CiAgICAgIGJvcmRlcjogMnB4IHNvbGlkICM0MDllZmY7CiAgICAgIHdpZHRoOiBjYWxjKDEwMCUgLSA2cHgpOwogICAgICBoZWlnaHQ6IGNhbGMoMTAwJSAtIDZweCk7CiAgICAgIGNvbnRlbnQ6ICIiOwogICAgICBwb3NpdGlvbjogYWJzb2x1dGU7CiAgICAgIHRvcDogMXB4OwogICAgICBsZWZ0OiAxcHg7CiAgICAgIGJvcmRlci1yYWRpdXM6IDVweDsKICAgIH0KCiAgICAuZWwtY2FsZW5kYXItZGF5IHsKICAgICAgcGFkZGluZzogMDsKCiAgICAgIC5jYWwtZGF0ZSB7CiAgICAgICAgd2hpdGUtc3BhY2U6IHByZS1saW5lOwogICAgICAgIHRleHQtYWxpZ246IGNlbnRlcjsKICAgICAgICBmb250LXNpemU6IDE4cHg7CiAgICAgICAgcG9zaXRpb246IHJlbGF0aXZlOwogICAgICAgIGhlaWdodDogaW5oZXJpdDsKCiAgICAgICAgLmRhdGUtZ3JpZCB7CiAgICAgICAgICBoZWlnaHQ6IGNhbGMoMTAwJSAtIDIwcHgpOwogICAgICAgICAgcGFkZGluZzogMTBweDsKCiAgICAgICAgICBzcGFuIHsKICAgICAgICAgICAgZGlzcGxheTogYmxvY2s7CiAgICAgICAgICB9CiAgICAgICAgICAuY2FsLWRhdGUtZGF5IHsKICAgICAgICAgICAgbGluZS1oZWlnaHQ6IDMycHg7CiAgICAgICAgICAgIGZvbnQtc2l6ZTogMjBweDsKICAgICAgICAgICAgY29sb3I6ICMwMDA7CiAgICAgICAgICB9CiAgICAgICAgICAuY2FsLWx1bmFyLWRheSB7CiAgICAgICAgICAgIGxpbmUtaGVpZ2h0OiAyNnB4OwogICAgICAgICAgICBmb250LXNpemU6IDE1cHg7CiAgICAgICAgICAgIGNvbG9yOiAjNjY2OwogICAgICAgICAgfQoKICAgICAgICAgIC5iYWRnZS14LAogICAgICAgICAgLmJhZGdlLWIgewogICAgICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7CiAgICAgICAgICAgIHRvcDogNXB4OwogICAgICAgICAgICByaWdodDogMTBweDsKICAgICAgICAgICAgcGFkZGluZzogMCA1cHg7CiAgICAgICAgICAgIGZvbnQtc2l6ZTogMTJweDsKICAgICAgICAgICAgYm9yZGVyLXJhZGl1czogMTBweDsKICAgICAgICAgICAgbGluZS1oZWlnaHQ6IDE2cHg7CiAgICAgICAgICB9CgogICAgICAgICAgLmJhZGdlLXggewogICAgICAgICAgICBiYWNrZ3JvdW5kOiAjRjczMTMxOwogICAgICAgICAgICBjb2xvcjogI2ZmZjsKICAgICAgICAgIH0KCiAgICAgICAgICAuYmFkZ2UtYiB7CiAgICAgICAgICAgIGJhY2tncm91bmQ6ICM5MDkzOTk7CiAgICAgICAgICAgIGNvbG9yOiAjZmZmOwogICAgICAgICAgfQoKICAgICAgICAgIC53ZWVrZW5kIHsKICAgICAgICAgICAgY29sb3I6ICNmNzdlN2U7CiAgICAgICAgICB9CiAgICAgICAgICAuZmVzdGl2YWwgewogICAgICAgICAgICBjb2xvcjogI2Y3N2U3ZTsKICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIC5ob2xpZGF5IHsKICAgICAgICAgIGJhY2tncm91bmQ6ICNmZGUzZTQ7CiAgICAgICAgfQogICAgICAgIC5vdmVydGltZSB7CiAgICAgICAgICBiYWNrZ3JvdW5kOiAjZjVmNWY2OwogICAgICAgIH0KICAgICAgfQogICAgfQogIH0KfQo="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmHA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/views/basis/element/calendar","sourcesContent":["<template>\n  <div class=\"calendar\" style=\"position: relative;\">\n    <div class=\"lunar-calendar\">\n      <p class=\"solar\">{{selLunar.cYear + \"年\" +selLunar.cMonth+ \"月\"+selLunar.cDay+ \"日 \"}}</p>\n      <p class=\"lunar\">\n        <span class=\"lunar1\">{{selLunar.IMonthCn + selLunar.IDayCn}}</span>\n        <span class=\"lunar2\">{{selLunar.gzYear + selLunar.Animal + \"年 \" + selLunar.gzMonth + \"月 \" + selLunar.gzDay + \"日\"}}</span>\n      </p>\n    </div>\n    <el-calendar v-model=\"priceTime\">\n      <template slot=\"dateCell\" slot-scope=\"{ date, data }\">\n        <div class=\"cal-date\" v-html=\"setDay(data.day)\"></div>\n      </template>\n    </el-calendar>\n  </div>\n</template>\n\n<script>\nimport calendar from \"@/utils/calendar\";\nimport { getHolidayList } from '@/api/operation'\nexport default {\n  data() {\n    //用于定义属性\n    return {\n      selLunar: {}, //选择的日期\n      today: {},  //当前日期\n      priceTime: new Date(),\n      holidayList: [], //法定假日\n    };\n  },\n  created: function () {\n    this.getHolidayList();\n    this.getLunar(new Date());\n  },\n  mounted: function () {\n\n  },\n  watch: {\n    priceTime(newval) {\n      this.getLunar(newval);\n    },\n  },\n  methods: {\n    async getHolidayList() {  // 获取法定假日\n      let res = await getHolidayList();\n      if (res.status == 200) {\n        this.holidayList = res.data;\n      }\n    },\n    setDay(date) { //自定义日历格式\n      var weekend = this.setWeekend(date) ? 'weekend' : '';\n      var festival = this.setFestival(date) ? 'festival' : '';\n      var dayHtml = \"<span class='cal-date-day \" + weekend + \"'>\" + date.split('-').slice(2).join('-') + \"</span>\" + \"<span class='cal-lunar-day \" + festival + \"'>\" + this.solarDate2lunar(date) + \"</span>\";\n      var pH = \"<p class='date-grid'>\";\n      this.holidayList.map(item => {\n        if (item.date == date) {\n          if (item.type) {\n            dayHtml = '<span class=\"badge-x\">休</span>' + dayHtml\n            pH = \"<p class='date-grid holiday'>\";\n          } else {\n            dayHtml = '<span class=\"badge-b\">班</span>' + dayHtml\n            pH = \"<p class='date-grid overtime'>\";\n          }\n        }\n      })\n      return pH + dayHtml + \"</p>\"\n    },\n    setWeekend(date) { //判断是否是周末\n      var week = new Date(date).getDay();\n      if (week == 6 || week == 0) return true;\n      else return false;\n    },\n    setFestival(date) { //判断是否是节日\n      var lunarTest = this.solarDate2lunar(date);\n      if (lunarTest.indexOf(\"初\") == -1 && lunarTest.indexOf(\"十\") == -1 && lunarTest.indexOf(\"廿\") == -1)\n        return true;\n      else return false;\n    },\n    solarDate2lunar(solarDate) { //获取农历日期\n      var solar = solarDate.split(\"-\");\n      var lunar = calendar.solar2lunar(solar[0], solar[1], solar[2]); //获取农历\n      var lunarIMonthCn = lunar.IMonthCn; //农历月份\n      var lunarIDayCn = lunar.IDayCn; //农历日期\n      var festival = lunar.festival; //阳历节日\n      var lunarFestival = lunar.lunarFestival; //农历节日\n      var lunarTest = lunarIDayCn; //最后显示的农历日期\n      if (lunarIDayCn == \"初一\") lunarTest = lunarIMonthCn + lunarIDayCn;\n      if (festival != null) lunarTest = festival;\n      if (lunarFestival != null) lunarTest = lunarFestival;\n      if (festival != null && lunarFestival != null)\n        lunarTest = festival + \",\" + lunarFestival;\n      // return solar[2] + \"\\n\" + lunarTest;\n      return lunarTest;\n    },\n    getLunar(dateTime) {\n      var solar = new Date(dateTime).format(\"yyyy-MM-dd\").split(\"-\");\n      this.selLunar = calendar.solar2lunar(solar[0], solar[1], solar[2]); //获取农历\n      if (JSON.stringify(this.today) == \"{}\") this.today = this.selLunar\n      this.getWeek(dateTime);\n    },\n    getWeek(dt) {\n      let d1 = new Date(dt);\n      let d2 = new Date(dt);\n      d2.setMonth(0);\n      d2.setDate(1);\n      let rq = d1 - d2;\n      let days = Math.ceil(rq / (24 * 60 * 60 * 1000)) - 2;\n      let num = Math.ceil(days / 7) + 1;\n      this.weekNum = num;\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.calendar {\n  max-width: 1000px;\n  min-width: 800px;\n  margin: 0 auto;\n\n  .lunar-calendar {\n    position: absolute;\n    left: 20px;\n    top: 16px;\n    font-size: 12px;\n    color: #666;\n    display: flex;\n    .solar {\n      font-size: 28px;\n    }\n    .lunar {\n      display: flex;\n      flex-direction: column;\n      margin-left: 20px;\n      .lunar1 {\n        font-size: 16px;\n        font-weight: bold;\n      }\n    }\n  }\n\n  // 日历样式\n  /deep/ .el-calendar {\n    .el-calendar__header {\n      justify-content: flex-end;\n\n      .el-calendar__title {\n        display: none;\n      }\n\n      .el-calendar__button-group .el-button {\n        font-size: 15px;\n      }\n    }\n\n    .prev,\n    .next {\n      .date-grid {\n        opacity: 0.3;\n      }\n    }\n\n    .el-backtop,\n    .el-calendar-table td.is-today .date-grid::after {\n      border: 2px solid #409eff;\n      width: calc(100% - 6px);\n      height: calc(100% - 6px);\n      content: \"\";\n      position: absolute;\n      top: 1px;\n      left: 1px;\n      border-radius: 5px;\n    }\n\n    .el-calendar-day {\n      padding: 0;\n\n      .cal-date {\n        white-space: pre-line;\n        text-align: center;\n        font-size: 18px;\n        position: relative;\n        height: inherit;\n\n        .date-grid {\n          height: calc(100% - 20px);\n          padding: 10px;\n\n          span {\n            display: block;\n          }\n          .cal-date-day {\n            line-height: 32px;\n            font-size: 20px;\n            color: #000;\n          }\n          .cal-lunar-day {\n            line-height: 26px;\n            font-size: 15px;\n            color: #666;\n          }\n\n          .badge-x,\n          .badge-b {\n            position: absolute;\n            top: 5px;\n            right: 10px;\n            padding: 0 5px;\n            font-size: 12px;\n            border-radius: 10px;\n            line-height: 16px;\n          }\n\n          .badge-x {\n            background: #F73131;\n            color: #fff;\n          }\n\n          .badge-b {\n            background: #909399;\n            color: #fff;\n          }\n\n          .weekend {\n            color: #f77e7e;\n          }\n          .festival {\n            color: #f77e7e;\n          }\n        }\n\n        .holiday {\n          background: #fde3e4;\n        }\n        .overtime {\n          background: #f5f5f6;\n        }\n      }\n    }\n  }\n}\n</style>\n"]}]}